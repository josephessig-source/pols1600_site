<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>A4: Project Drafts – POLS 1600</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-1cfdd6bcdaa40fc01831c1af7ce94cf5.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">POLS 1600</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../syllabus.html"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../class/index.html"> 
<span class="menu-text">Class</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../assignments/index.html" aria-current="page"> 
<span class="menu-text">Assignments</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../assignments/a1.html">Assignemnts</a></li><li class="breadcrumb-item"><a href="../assignments/a4.html">A4: Draft</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Overview</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Assignments</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Assignemnts</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/a1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A1: Introductions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/a2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A2: Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/a3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A3: Exploratory Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/a4.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">A4: Draft</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/a5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A5: Presentations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/final.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Final Paper</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#grading-criteria-5-points" id="toc-grading-criteria-5-points" class="nav-link" data-scroll-target="#grading-criteria-5-points">Grading Criteria (5 points)</a></li>
  </ul></li>
  <li><a href="#theory-and-expectations" id="toc-theory-and-expectations" class="nav-link" data-scroll-target="#theory-and-expectations">Theory and Expectations</a>
  <ul class="collapse">
  <li><a href="#grading-criteria-10-points" id="toc-grading-criteria-10-points" class="nav-link" data-scroll-target="#grading-criteria-10-points">Grading Criteria (10 points)</a></li>
  </ul></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a>
  <ul class="collapse">
  <li><a href="#grading-criteria-20-points" id="toc-grading-criteria-20-points" class="nav-link" data-scroll-target="#grading-criteria-20-points">Grading Criteria (20 points)</a></li>
  </ul></li>
  <li><a href="#design" id="toc-design" class="nav-link" data-scroll-target="#design">Design</a>
  <ul class="collapse">
  <li><a href="#grading-criteria-30-points" id="toc-grading-criteria-30-points" class="nav-link" data-scroll-target="#grading-criteria-30-points">Grading Criteria (30 points)</a></li>
  </ul></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results">Results</a>
  <ul class="collapse">
  <li><a href="#grading-criteria-25-points" id="toc-grading-criteria-25-points" class="nav-link" data-scroll-target="#grading-criteria-25-points">Grading Criteria (25 points)</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a>
  <ul class="collapse">
  <li><a href="#grading-criteria-25-points-1" id="toc-grading-criteria-25-points-1" class="nav-link" data-scroll-target="#grading-criteria-25-points-1">Grading Criteria (25 points)</a></li>
  </ul></li>
  <li><a href="#appendix" id="toc-appendix" class="nav-link" data-scroll-target="#appendix">Appendix</a>
  <ul class="collapse">
  <li><a href="#grading-criteria-25-points-2" id="toc-grading-criteria-25-points-2" class="nav-link" data-scroll-target="#grading-criteria-25-points-2">Grading Criteria (25 points)</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../assignments/a1.html">Assignemnts</a></li><li class="breadcrumb-item"><a href="../assignments/a4.html">A4: Draft</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">A4: Project Drafts</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>You final will paper consists of seven sections. There is no minimum (or maximum) length for the final paper, but I’ve included rough estimates in parentheses of how long I think each section should be along with the relative contribution of each section to your final grade.</p>
<ol type="1">
<li>Introduction (5 percent, ~ 4 paragraphs)</li>
<li>Theory and Expectations (10 percent, ~4+ paragraphs)</li>
<li>Data (20 percent ~ 4+ paragraphs)</li>
<li>Design (25 percent ~ 5+ paragraphs)</li>
<li>Results (25 percent ~ 5+ paragraphs)</li>
<li>Conclusion (5 percent ~ 3+ paragraphs)</li>
<li>Appendix (10 percent ~ Variable codebook and all the R code for your project)</li>
</ol>
<p>Specific guidance, expectations, and grading criteria for each section are provided below.</p>
<p>You need not have every section completely finished in this draft, but the more you have done the more feedback you will get. Remember, the data, design, and results section make up 70 percent of your grade, so while a good introduction, compelling theory, and thoughtful conclusion are important, you should budget your time accordingly.</p>
<p>Your actual grade for the draft will reflect a general assessment of the status of your project</p>
<ul>
<li>100: On track for A</li>
<li>90: On track for A if provided specific tasks and changes are made</li>
<li>80: Lots of work to do, but if done, headed in the right direction</li>
<li>70: Major revisions needed. We should probably talk in office hours</li>
</ul>
<p>Additionally, I will assign points to each section as if it were you final paper to give you a sense of where to focus your efforts. This is not your actual grade for this assignment, but can be though of as a rough estimate of the grade you would receive on a section if you were to submit it, as is, for your final paper. Your grade for that section on the final paper may increase or decrease depending on the changes you make to your draft. Additionally, I will assign points to each section as if it were you final paper to give you a sense of where to focus your efforts. This is not your actual grade for this assignment, but can be though of as a rough estimate of the grade you would receive on a section if you were to submit it, as is, for your final paper. Your grade for that section on the final paper may increase or decrease depending on the changes you make to your draft.</p>
<p>I have also posted a <a href="pols1600_paper_template.qmd" download=""> template for the final paper</a> and an <a href="https://pols1600.paultesta.org/files/pols1600_final_paper_example" target="blank">example of a final paper</a> from a previous version of POLS 1600.</p>
<ul>
<li><p>The template contains some <strong>sample code</strong> to that may be usefully adapted for your projects, but <strong>should not appear</strong> in your final paper (i.e.&nbsp;keep use the structure provided by the template, but delete the code I’ve included.)</p></li>
<li><p>The final paper assignment has changed over time. There are things this paper does, which I no longer ask you to do (e.g.&nbsp;explain the difference between simulation and asymptotic approaches to statistical inference). There are things I ask you to do (e.g.&nbsp;write a separate theory section that motivates your expectations) which this paper was not required to do.</p></li>
</ul>
<hr>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>This section provides an introduction and overview of your project.</p>
<p>Plan to write at least four paragraphs that</p>
<ul>
<li><p>Clearly articulates your group’s research question</p></li>
<li><p>Lays out the theoretical framework that motivates your inquiry</p></li>
<li><p>Describes your empirical strategy</p></li>
<li><p>Provides an outline of the rest of the paper and previews your results.</p></li>
</ul>
<section id="grading-criteria-5-points" class="level2">
<h2 class="anchored" data-anchor-id="grading-criteria-5-points">Grading Criteria (5 points)</h2>
<ul>
<li><strong>5 points</strong>
<ul>
<li>Articulates <strong>clear and compelling research question</strong></li>
<li>Offers a <strong>strong motivation</strong> for pursuing this question <strong>tied to existing social science theory</strong></li>
<li>Describes a <strong>convincing empirical strategy</strong> with appropriate data and research design</li>
<li>Previews interesting results with <strong>substantive interpretation</strong></li>
<li>Makes reader excited to read the rest of the paper</li>
<li><strong>Writing throughout</strong> is <strong>clear, precise, and engaging</strong>, with <strong>correct spelling</strong> and <strong>grammar</strong> and consistent citations</li>
</ul></li>
<li><strong>4 points</strong>
<ul>
<li><strong>Articulates research question</strong></li>
<li>Link between research question and social science theory could be more developed</li>
<li>Describes empirical strategy with data and research design</li>
<li>Preview of results with <strong>little to no interpretation</strong></li>
<li>Leaves reader <strong>moderately interested</strong> in the rest of the paper.</li>
<li><strong>Writing throughout</strong> is <strong>clear and precise</strong>, with <strong>correct spelling</strong> and <strong>grammar</strong> and consistent citations</li>
</ul></li>
<li><strong>&lt; 4 points</strong>
<ul>
<li><strong>Research question unclear</strong> or absent</li>
<li><strong>Little to no discussion</strong> of why this research question is of interest to social scientists and citizens</li>
<li><strong>Little to no discussion</strong> of the data and research design used to pursue this question.</li>
<li><strong>No discussion</strong> of empirical results</li>
<li><strong>Does little</strong> to pique reader’s interest in the rest of the paper.</li>
<li><strong>Writing throughout</strong> is <strong>muddled and vague</strong>, with <strong>uncorrekt spellung</strong> and <strong>grammur</strong> and consistent citations</li>
</ul></li>
</ul>
</section>
</section>
<section id="theory-and-expectations" class="level1">
<h1>Theory and Expectations</h1>
<p>In this section you will provide the necessary context for your research question and develop your theoretical framework to derive testable empirical implications.</p>
<p>This section should begin by explaining the following:</p>
<ul>
<li><p>What is the phenomena you are studying? (Research Question/Outcome of Interest)</p></li>
<li><p>Why should we care about this phenomena? (Context/Motivation/Importance)</p></li>
</ul>
<p>Then it should turn to addressing:</p>
<ul>
<li>What are the factors scholars think explain this phenomena? (Literature Review/Key predictors/Alternative explanations)</li>
</ul>
<p>Which should lead to a discussion of</p>
<ul>
<li>What are the empirical implications of these claims? (Testable hypotheses)</li>
</ul>
<p>You have freedom in how you address these questions, but your final paper must cite at least three relevant academic sources (books and journal articles), using either footnotes or parenthetical citations.</p>
<p>Sometimes it is helpful to formalize your expectations into a set of numbered hypotheses. Other times this can feel a little to formalistic, and it is sufficient to simply describe the expected patterns of relationship (“We expect that as X increases, Y should …”) . It is up to you to decide what works best. If you take the route of listing and numbering your hypotheses, use this ordering to structure the presentation and discussion of your empirical models (e.g.&nbsp;“the coefficient on <span class="math inline">\(\beta_1\)</span> in model 1 provides a test of H1”)</p>
<section id="grading-criteria-10-points" class="level2">
<h2 class="anchored" data-anchor-id="grading-criteria-10-points">Grading Criteria (10 points)</h2>
<ul>
<li><p><strong>9-10 points:</strong></p>
<ul>
<li><strong>Careful discussion</strong> of relevant theoretical, empirical, and/or substantive contexts that motivates research question.</li>
<li><strong>Cites at least three</strong> relevant pieces of academic literature on research topic. Uses this literature to articulate theoretical framework for thinking about research question.</li>
<li>Theoretical framework <strong>clearly defines:</strong></li>
<li>the outcome (or outcomes) of interest</li>
<li>the factors expected to explain variation in that outcome</li>
<li>some potential alternative explanations/omitted variables, that might explain variation in both the outcome and predictors</li>
<li>Develops a clear set of expectations <strong>informed by theoretical framework</strong> for how these explanatory factors should relate to the outcome (and possibly each other)</li>
</ul></li>
<li><p><strong>8 points:</strong></p>
<ul>
<li><strong>Brief discussion</strong> of theoretical, empirical, and/or substantive contexts that motivates research question.</li>
<li><strong>Cites less than three</strong> relevant pieces of academic literature on research topic. Uses this literature to articulate theoretical framework for thinking about research question.</li>
<li>Theoretical framework <strong>broadly defines:</strong></li>
<li>the outcome (or outcomes) of interest</li>
<li>the factors expected to explain variation in that outcome</li>
<li>some potential alternative explanations/omitted variables, that might explain variation in both the outcome and predictors</li>
<li>Develops a set of expectations for how these explanatory factors should relate to the outcome (and possibly each other, but <strong>connection to larger theoretical framework is unclear</strong></li>
</ul></li>
<li><p><strong>&lt;8 points:</strong></p>
<ul>
<li><strong>Little to no discussion</strong> of theoretical, empirical, and/or substantive contexts that motivates research question.</li>
<li><strong>No citation of</strong> relevant pieces of academic literature on research topic. Broader theoretical framework absent.</li>
<li><strong>Fails to clearly define:</strong></li>
<li>the outcome (or outcomes) of interest</li>
<li>the factors expected to explain variation in that outcome</li>
<li>some potential alternative explanations/omitted variables, that might explain variation in both the outcome and predictors</li>
<li><strong>Fails to articulate a clear set of expectations</strong> for how these explanatory factors should relate to the outcome</li>
</ul></li>
</ul>
</section>
</section>
<section id="data" class="level1">
<h1>Data</h1>
<p>Describe the data you will use to explore your question. In doing so you should:</p>
<ul>
<li><p>Identify the source or sources of your data</p>
<ul>
<li>If using multiple datasets, briefly describe how your final dataset was constructed.</li>
</ul></li>
<li><p>Define the unit of analysis (substantively speaking, what is a row in your dataset) and number of observations in your data</p></li>
<li><p>Explain how your key concepts (outcome variable, key predictors, covariates/alternative explanations) are operationalized and measured</p></li>
<li><p>Describe the distributions of these data using a table and/or figure(s).</p></li>
<li><p>Interpret these distributions for your reader. What does a typical observation in the data look like. Are some data skewed. Are their big outliers</p></li>
</ul>
<p>Your broader goals for this section are to convince your reader:</p>
<ul>
<li><p>That these data are appropriate for your research question</p></li>
<li><p>Demonstrate your deep knowledge of these data through careful and thoughtful discussion of the measurement and distributions of your variables</p></li>
<li><p>Set up your empirical results section through initial descriptive explorations of the data.</p></li>
</ul>
<section id="grading-criteria-20-points" class="level2">
<h2 class="anchored" data-anchor-id="grading-criteria-20-points">Grading Criteria (20 points)</h2>
<ul>
<li><strong>18-20 points:</strong>
<ul>
<li>Data sources are <strong>clear and appropriate</strong></li>
<li>Unit of analysis is <strong>clear and appropriate</strong></li>
<li>Outcomes, key predictors, and covariates are <strong>clearly defined and carefully described</strong></li>
<li>Descriptive tables and figures are <strong>thoroughly discussed</strong> in text with <strong>correct interpretations</strong></li>
<li>Data appear to be clean and tidy</li>
</ul></li>
<li><strong>16-17 points:</strong>
<ul>
<li>Data sources are <strong>clear and appropriate</strong></li>
<li>Unit of analysis is <strong>unclear</strong></li>
<li>Outcomes, key predictors, and covariates are <strong>briefly defined and described</strong></li>
<li>Descriptive tables and figures are <strong>briefly discussed</strong> in text with <strong>mostly correct</strong> interpretations</li>
<li>Data appear to be clean and tidy</li>
</ul></li>
<li><strong>&lt; 16 points:</strong>
<ul>
<li>Data sources are <strong>not identified</strong></li>
<li>Unit of analysis is <strong>is not discussed or incorrect</strong></li>
<li>Outcomes, key predictors, and covariates are <strong>not defined and described</strong></li>
<li>Descriptive tables and figures <strong>absent</strong>, <strong>not discussed</strong> or interpreted <strong>incorrectly</strong></li>
<li><strong>Clear errors</strong> in coding (e.g.&nbsp;failing to recode values as <code>NA</code>)</li>
</ul></li>
</ul>
</section>
</section>
<section id="design" class="level1">
<h1>Design</h1>
<p>Next, you will describe the empirical research design that you will use to test your expectations. You have two main tasks or goals for this section:</p>
<p>First you need to explain how you will to <strong>test your theoretical expectations</strong> in terms of the <strong>empirical estimates of your model</strong> (e.g.&nbsp;the regression coefficients of your linear models).</p>
<p>Write down the equations of the models you are estimating. Based on the theoretical framework you’ve developed, what should we expect in terms of the sign, size, and significance of the predictors in your model?</p>
<p>At a minimum, you will likely want to specify at least two models:</p>
<ol type="1">
<li>A baseline (bivariate) model</li>
</ol>
<p><span class="math display">\[Outcome = \beta_0 + \beta_1 \times \text{Key Predictor} + \epsilon\]</span> And tell the reader what your theory implies the in terms of the sign, size, and statistical significance of the coefficient on your key predictor.</p>
<ol start="2" type="1">
<li>A multiple regression model controlling for alternative explanations (things that predict both your outcome and key predictor)</li>
</ol>
<p><span class="math display">\[Outcome = \beta_0 + \beta_1 \times \text{Key Predictor} + X\beta + \epsilon\]</span> Where <span class="math inline">\(X\beta\)</span> is a matrix containing one or more additional predictors representing alternative explanations. Again tell the reader how to interpret this model in relation to your baseline. If your theory is true, what should happen to sign, size, and significance of the coefficient(s) on your key predictor, once you’ve controlled for your alternative explanations?</p>
<p>Most of you will likely estimate more than two models. Perhaps your theory implies the relationship between your key predictor and the outcome is non-linear, or the depends on the value of other moderating variable. Again, specify this model, and explain to the reader how we should interpret</p>
<p>Second, use this section to <strong>demonstrate your mastery of some of the key statistical concepts</strong> from the course. Specifically, you should do some of the following here:</p>
<ul>
<li><p>What are the identifying assumptions we would have to make for your research design to have a causal interpretation ? (e.g.&nbsp;Selection on observables?) What might violate these assumptions? How can you address these violations?</p></li>
<li><p>If you’re using linear regression, just what exactly is linear regression and why are you using it?</p></li>
<li><p>How should we interpret the coefficients from a linear regression model?</p></li>
<li><p>What does it mean to “control” for a variable in a regression?</p></li>
<li><p>How can we quantify the uncertainty in our estimates? (What’s a confidence interval? A sampling distribution? A standard error? What’s a hypothesis test? A test statistic? A p-value?)</p></li>
</ul>
<p>You will also get credit for demonstrating your understanding of these concepts through your interpretation of your results.</p>
<section id="grading-criteria-30-points" class="level2">
<h2 class="anchored" data-anchor-id="grading-criteria-30-points">Grading Criteria (30 points)</h2>
<ul>
<li><p><strong>23-25 points:</strong></p>
<ul>
<li><strong>Correctly specifies multiple models</strong> to test empirical expectations</li>
<li>Expresses empirical expectations <strong>in terms of coefficients</strong> from linear models</li>
<li>Explains <strong>motivation and interpretation</strong> of specified models</li>
<li>Conveys a <strong>clear</strong> understanding of
<ul>
<li><strong>Identifying assumptions</strong> of empirical design</li>
<li>What linear regression is</li>
<li><strong>What it means to control</strong> for variables</li>
<li>How to <strong>interpret coefficients</strong> from regression</li>
<li>How to <strong>quantify uncertainty</strong> around regression estimates, using both <strong>confidence intervals</strong> and <strong>hypothesis tests</strong></li>
</ul></li>
</ul></li>
<li><p><strong>20-22 points:</strong></p>
<ul>
<li><strong>Correctly specifies two models</strong> to test empirical expectations</li>
<li>Expresses empirical expectations <strong>in terms of coefficients</strong> from linear models</li>
<li>Explains <strong>motivation and interpretation</strong> of specified models</li>
<li>Conveys <strong>some</strong> understanding of
<ul>
<li><strong>Identifying assumptions</strong> of empirical design</li>
<li>What linear regression is</li>
<li><strong>What it means to control</strong> for variables</li>
<li>How to <strong>interpret coefficients</strong> from regression</li>
<li>How to <strong>quantify uncertainty</strong> around regression estimates, using both <strong>confidence intervals</strong> and <strong>hypothesis tests</strong></li>
</ul></li>
</ul></li>
<li><p><strong>&lt; 20 points:</strong></p>
<ul>
<li><strong>Incorrectly specifies one models</strong> to test empirical expectations</li>
<li><strong>Does not express</strong> empirical expectations <strong>in terms of coefficients</strong> from linear models</li>
<li><strong>Little to no discussion</strong> of the <strong>motivation and interpretation</strong> of specified models</li>
<li>Conveys <strong>little to no</strong> understanding of
<ul>
<li><strong>Identifying assumptions</strong> of empirical design</li>
<li>What linear regression is</li>
<li><strong>What it means to control</strong> for variables</li>
<li>How to <strong>interpret coefficients</strong> from regression</li>
<li>How to <strong>quantify uncertainty</strong> around regression estimates, using both <strong>confidence intervals</strong> and <strong>hypothesis tests</strong></li>
</ul></li>
</ul></li>
</ul>
</section>
</section>
<section id="results" class="level1">
<h1>Results</h1>
<p>Having described your data and mapped your theoretical expectations onto your empirical models, you will present your results.</p>
<p>This section should include the following:</p>
<ul>
<li><p>A regression table (or tables) presenting the coefficients from estimated models</p></li>
<li><p>Interpretation of the the coefficients from these models in terms of your empirical expectations.</p>
<ul>
<li>Are the results consistent with your expectations?</li>
<li>How and why do estimates vary from one model to the next?</li>
<li>How confident should we be in a given estimate?</li>
<li>Specifically, how should we interpret the confidence intervals and p-values associated with a given estimate?</li>
</ul></li>
<li><p>A figure that helps illustrate one of your key findings:</p>
<ul>
<li>This will likely be a predicted values from one (or more) of your models, particularly if you are estimating a model with an interaction term, a polynomial term, or a generalized linear model.</li>
</ul></li>
</ul>
<p>In general, I would encourage you to start from the simplest, likely bivariate model. Use this as a chance to explain the mechanics of linear regression, the interpretation of linear regression as linear estimated of the Conditional Expectation Function, and demonstrate your mastery of the concepts of confidence intervals and hypothesis testing.</p>
<p>Then turn results from more complicated models. Again provide a substantive interpretation the coefficients and possible changes sign, size, and/or significance of coefficients from one model to the next. Use this discussion to further demonstrate your understanding of what it means to control for variables – both from a technical and substantive perspective.</p>
<p>Finally use a figure (or figures) to help illustrate the substantive interpretation of your results. (e.g.&nbsp;How much is your outcome predicted to change if some key predictor moved from one standard deviation below its mean to one standard deviation above)</p>
<section id="grading-criteria-25-points" class="level2">
<h2 class="anchored" data-anchor-id="grading-criteria-25-points">Grading Criteria (25 points)</h2>
<ul>
<li><p><strong>23-25 points:</strong></p>
<ul>
<li>Empirical results are
<ul>
<li><strong>clearly presented</strong> in tables and figures <strong>appropriate variable names and labels</strong></li>
<li><strong>correctly interpreted</strong> in terms of <strong>substantive and statistical</strong> significance</li>
<li>used to <strong>evaluate theoretical expectations</strong></li>
<li>interpreted to <strong>demonstrate mastery</strong> of the concepts of
<ul>
<li>bivariate and multiple regression</li>
<li>confidence intervals</li>
<li>hypothesis testing</li>
</ul></li>
<li><strong>tell a coherent and compelling story</strong> that provides insights into research question</li>
</ul></li>
</ul></li>
<li><p><strong>20-22 points:</strong></p>
<ul>
<li>Empirical results are
<ul>
<li><strong>roughly presented</strong> in tables and figures with <strong>awkward variable names and labels</strong></li>
<li><strong>interpreted mostly correctly</strong> in terms of <strong>substantive and statistical</strong> significance</li>
<li>used to <strong>evaluate theoretical expectations</strong></li>
<li>interpreted to demonstrate <strong>general understanding</strong> of the concepts of
<ul>
<li>bivariate and multiple regression</li>
<li>confidence intervals</li>
<li>hypothesis testing</li>
</ul></li>
<li><strong>tell a coherent story</strong> that provides <strong>partial insights</strong> into research question</li>
</ul></li>
</ul></li>
<li><p><strong>&lt; 20 points:</strong></p>
<ul>
<li>Empirical results are
<ul>
<li><strong>poorly presented</strong> in tables and figures with <strong>awkward variable names and labels</strong></li>
<li><strong>interpreted mostly incorrectly</strong> in terms of <strong>substantive and statistical</strong> significance</li>
<li><strong>are not used</strong> to <strong>evaluate theoretical expectations</strong></li>
<li>interpreted to demonstrate <strong>little to no understanding</strong> of the concepts of
<ul>
<li>bivariate and multiple regression</li>
<li>confidence intervals</li>
<li>hypothesis testing</li>
</ul></li>
<li><strong>fail to tell a coherent story</strong> that provides <strong>little to no insights</strong> into research question</li>
</ul></li>
</ul></li>
</ul>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Finally, conclude by summarizing the results of your project.</p>
<ul>
<li>What did you set out to learn?</li>
<li>What did you find?</li>
<li>What are some the strengths and weaknesses of your approach?</li>
<li>What should future research on this topic look like?</li>
<li>A list of correctly formatted references</li>
</ul>
<section id="grading-criteria-25-points-1" class="level2">
<h2 class="anchored" data-anchor-id="grading-criteria-25-points-1">Grading Criteria (25 points)</h2>
<ul>
<li><p><strong>5 points</strong></p>
<ul>
<li><strong>Clear</strong> summary of the project’s findings</li>
<li>Discussion of the <strong>strengths and weaknesses</strong> of the project</li>
<li>Interesting <strong>suggestions for further research</strong> that seem likely to <strong>add additional insights</strong> and/or <strong>address limitations</strong> of the present study.</li>
<li>Correctly formatted <strong>references/works cited</strong></li>
</ul></li>
<li><p><strong>4 points</strong></p>
<ul>
<li><strong>Cursory</strong> summary of the project’s findings</li>
<li>Discussion of the <strong>strengths and weaknesses</strong> of the project</li>
<li>Some <strong>suggestions for further research</strong> informed by the present project</li>
<li>Correctly formatted <strong>references/works cited</strong></li>
</ul></li>
<li><p><strong>&lt; 4 points</strong></p>
<ul>
<li><strong>Little to no</strong> summary of the project’s findings</li>
<li><strong>Little to no</strong> discussion of the <strong>strengths and weaknesses</strong> of the project</li>
<li><strong>No suggestions for further research</strong> informed by the present project</li>
<li><strong>No references/works cited</strong></li>
</ul></li>
</ul>
</section>
</section>
<section id="appendix" class="level1">
<h1>Appendix</h1>
<p>Finally, at the end of your document, you should provide a:</p>
<ul>
<li>Codebook</li>
<li>Code Appendix.</li>
</ul>
<p>Your code book should describe be organized conceptually by variable type:</p>
<ul>
<li>Outcome</li>
<li>Key Predictors</li>
<li>Covariates</li>
</ul>
<p>For each variable, provide:</p>
<ul>
<li><code>variable_name_used_in_code</code> | Conceptual name
<ul>
<li>Description of variable/Survey Question Wording</li>
<li>Original name in raw data.</li>
<li>Summary of any recoding, transformations (e.g.&nbsp;Collapsing categories, or reverse coding endpoints of scales)</li>
<li>Summary of range of values (e.g.&nbsp;1= Strong Democrat … 7 = Strong Republican)</li>
</ul></li>
</ul>
<p>After you codebook, at the very end of you document, you will include a single code chunk that contains all the R code, used in your analysis. At a minimum, this code chunk should contain code that:</p>
<ul>
<li>Sets up the work space</li>
<li>Loads your data</li>
<li>Recodes and transforms the data as needed</li>
<li>Produces tables of summary statistics and figures</li>
<li>Estimate your models</li>
<li>Presents the results of your models in tables and figures.</li>
</ul>
<p>In the accompanying <code>POLS1600_paper_template.Rmd</code> I’ve demonstrated how to write your code inline with each section (e.g.&nbsp;loading data in the Data Section, estimating models in the Results section), display only the tables and figures you want in the main text, and then display the full code at the end of the document.</p>
<p>The keys to a nicely formatted document are:</p>
<ul>
<li>Setting global options for code chunks in the for <code>knitr</code></li>
<li>Labeling individual code chunks with meaningful names</li>
<li>Setting <code>results: asis</code> for individual chunks you want to display in text.</li>
<li>Setting <code>echo: true, eval: false</code> in the final appendix code chunk.</li>
</ul>
<section id="grading-criteria-25-points-2" class="level2">
<h2 class="anchored" data-anchor-id="grading-criteria-25-points-2">Grading Criteria (25 points)</h2>
<ul>
<li><strong>10 points</strong>
<ul>
<li>Codebook is
<ul>
<li><strong>easy to read</strong> and <strong>informative</strong></li>
<li><strong>describes all the variables</strong> used in the analysis.</li>
</ul></li>
<li>Code appendix is
<ul>
<li><strong>nicely formatted</strong></li>
<li><strong>well-commented</strong></li>
<li>able to to <strong>reproduces all the analysis</strong> in text <strong>without errors</strong></li>
</ul></li>
<li>No R code, raw output, error messages appears in the main text of the paper.</li>
</ul></li>
<li><strong>8-9 points</strong>
<ul>
<li>Codebook is
<ul>
<li><strong>describes all of the variables</strong> used in the analysis.</li>
</ul></li>
<li>Code appendix:
<ul>
<li>Could be <strong>more cleanly formatted</strong> and <strong>needs more comments</strong></li>
<li>able to <strong>reproduces all the analysis</strong> in text <strong>without errors</strong> or <strong>only minor errors</strong></li>
</ul></li>
<li>No R code, raw output, error messages appears in the main text of the paper.</li>
</ul></li>
<li><strong>&lt; 8 points</strong>
<ul>
<li>Codebook is <strong>absent, incomplete, and/or incorrect</strong></li>
<li>Code appendix is:
<ul>
<li><strong>Poorly formatted</strong></li>
<li>Contains no <strong>explanatory comments</strong></li>
<li><strong>unable to reproduce most of the analysis</strong> in the text.</li>
<li><strong>Contains</strong> clear errors</li>
</ul></li>
<li>R code, raw R output, error messages appear throughout the main text of the paper.</li>
</ul></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/josephessig-source\.github\.io\/pols1600_site\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>