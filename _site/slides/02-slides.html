<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-234273d1456647dabc34a594ac50e507.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <title>POLS 1600</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #24292e;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #24292e; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #6a737d; } /* Annotation */
    code span.at { color: #d73a49; } /* Attribute */
    code span.bn { color: #005cc5; } /* BaseN */
    code span.bu { color: #d73a49; } /* BuiltIn */
    code span.cf { color: #d73a49; } /* ControlFlow */
    code span.ch { color: #032f62; } /* Char */
    code span.cn { color: #005cc5; } /* Constant */
    code span.co { color: #6a737d; } /* Comment */
    code span.cv { color: #6a737d; } /* CommentVar */
    code span.do { color: #6a737d; } /* Documentation */
    code span.dt { color: #d73a49; } /* DataType */
    code span.dv { color: #005cc5; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #d73a49; font-weight: bold; } /* Extension */
    code span.fl { color: #005cc5; } /* Float */
    code span.fu { color: #6f42c1; } /* Function */
    code span.im { color: #032f62; } /* Import */
    code span.in { color: #6a737d; } /* Information */
    code span.kw { color: #d73a49; } /* Keyword */
    code span.op { color: #24292e; } /* Operator */
    code span.ot { color: #6f42c1; } /* Other */
    code span.pp { color: #d73a49; } /* Preprocessor */
    code span.re { color: #6a737d; } /* RegionMarker */
    code span.sc { color: #005cc5; } /* SpecialChar */
    code span.ss { color: #032f62; } /* SpecialString */
    code span.st { color: #032f62; } /* String */
    code span.va { color: #e36209; } /* Variable */
    code span.vs { color: #032f62; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-8979bb8451ddc1038f930ac611262c50.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

  <script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

  <link href="../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">

  <script src="../site_libs/datatables-binding-0.33/datatables.js"></script>

  <script src="../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

  <link href="../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">

  <link href="../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">

  <script src="../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>

  <link href="../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

  <script src="../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>

</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" align="left" data-background-image="images/pols1600_hex.png" data-background-position="90% 50%" data-background-size="40%" class="quarto-title-block center">
  <h1 class="title">POLS 1600</h1>
  <p class="subtitle">Data Visualization</p>

<div class="quarto-title-authors">
</div>

  <p class="date">Updated Nov 6, 2025</p>
</section>
<section>
<section id="overview" class="title-slide slide level1 inverse center">
<h1><i class="fa-solid fa-map-location" aria-label="map-location"></i> Overview</h1>

</section>
<section id="class-plan" class="slide level2 smaller">
<h2>Class Plan</h2>
<ul>
<li class="fragment">Announcements</li>
<li class="fragment">Setup (5 minutes)</li>
<li class="fragment">Review
<ul>
<li class="fragment">Troubleshooting Errors (5 min)</li>
<li class="fragment">Data wrangling in R (20 min)</li>
<li class="fragment">Descriptive Statistics (10 min)</li>
</ul></li>
<li class="fragment">Data Visualization (40 min)
<ul>
<li class="fragment">The grammar of graphics</li>
<li class="fragment">Basic plots to describe:
<ul>
<li class="fragment">Distributions</li>
<li class="fragment">Associations</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="concept-check" class="slide level2 smaller">
<h2>Concept check</h2>
<p>Suppose you want to do the following, what function or functions would you use:</p>
<ul>
<li class="fragment">Read data into <code>R</code></li>
<li class="fragment">Look at the data to get a high level overview of its structure</li>
<li class="fragment">Subset or filter the data to include just observations with certain values</li>
<li class="fragment">Select specific columns from data</li>
<li class="fragment">Add new columns to the data</li>
<li class="fragment">Summarize multiple values by collapsing them into a single value</li>
<li class="fragment">Doing some function group-by-group?</li>
</ul>
</section>
<section id="announcements" class="slide level2">
<h2>Announcements</h2>
<ul>
<li class="fragment"><p>Submit tutorials from last week for full credit by this Sunday.</p></li>
<li class="fragment"><p>Groups for the course assigned next week</p></li>
</ul>
</section></section>
<section>
<section id="tutorials" class="title-slide slide level1 inverse center">
<h1><i class="fa-solid fa-code" aria-label="code"></i> Tutorials</h1>

</section>
<section id="tutorials-1" class="slide level2">
<h2>Tutorials</h2>
<p>Once you’ve done the following</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"kosukeimai/qss-package"</span>, <span class="at">build_vignettes =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-2"><a></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"rstudio/learnr"</span>)</span>
<span id="cb1-3"><a></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"rstudio-education/gradethis"</span>)</span>
<span id="cb1-4"><a></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"PaulTestaBrown/qsslearnr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can see the available problem sets by running the following code in your console:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a>learnr<span class="sc">::</span><span class="fu">run_tutorial</span>(<span class="at">package =</span> <span class="st">"qsslearnr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="tutorials-2" class="slide level2">
<h2>Tutorials</h2>
<p>And start a specific tutorial by running:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a>learnr<span class="sc">::</span><span class="fu">run_tutorial</span>(<span class="st">"00-intro"</span>, <span class="at">package =</span> <span class="st">"qsslearnr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Important</strong></p>
</div>
<div class="callout-content">
<p>Please upload tutorials 00-intro and 01-measurement1 to <a href="https://canvas.brown.edu/courses/1098409/assignments" target="_blank">Canvas</a> by Friday</p>
</div>
</div>
</div>
</section></section>
<section>
<section id="setup" class="title-slide slide level1 inverse center">
<h1><i class="fa-solid fa-code" aria-label="code"></i> Setup</h1>

</section>
<section id="setup-for-today" class="slide level2">
<h2>Setup for today</h2>
</section>
<section id="libraries" class="slide level2">
<h2>Libraries</h2>
<p>This week we’ll use the following libraries.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a>the_packages <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb4-2"><a></a>  <span class="do">## R Markdown</span></span>
<span id="cb4-3"><a></a>  <span class="st">"tinytex"</span>, <span class="st">"kableExtra"</span>,</span>
<span id="cb4-4"><a></a>  </span>
<span id="cb4-5"><a></a>  <span class="do">## Tidyverse</span></span>
<span id="cb4-6"><a></a>  <span class="st">"tidyverse"</span>,<span class="st">"lubridate"</span>, <span class="st">"forcats"</span>, <span class="st">"haven"</span>,<span class="st">"labelled"</span>,</span>
<span id="cb4-7"><a></a>  </span>
<span id="cb4-8"><a></a>  <span class="do">## Extensions for ggplot</span></span>
<span id="cb4-9"><a></a>  <span class="st">"ggmap"</span>,<span class="st">"ggrepel"</span>, <span class="st">"ggridges"</span>, <span class="st">"ggthemes"</span>,<span class="st">"ggpubr"</span>,</span>
<span id="cb4-10"><a></a>  <span class="st">"GGally"</span>,</span>
<span id="cb4-11"><a></a>  </span>
<span id="cb4-12"><a></a>  <span class="co"># Data </span></span>
<span id="cb4-13"><a></a>  <span class="st">"maps"</span>,<span class="st">"mapdata"</span>,<span class="st">"DT"</span></span>
<span id="cb4-14"><a></a>)</span>
<span id="cb4-15"><a></a>the_packages</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "tinytex"    "kableExtra" "tidyverse"  "lubridate"  "forcats"   
 [6] "haven"      "labelled"   "ggmap"      "ggrepel"    "ggridges"  
[11] "ggthemes"   "ggpubr"     "GGally"     "maps"       "mapdata"   
[16] "DT"        </code></pre>
</div>
</div>
</section>
<section id="installing-and-loading-new-packages" class="slide level2">
<h2>Installing and loading new packages</h2>
<p>Next we’ll create a function called <code>ipak</code> (thanks <a href="https://gist.github.com/stevenworthington/3178163" target="_blank">Steven</a>) which:</p>
<ul>
<li class="fragment">Takes a list of packages (<code>pkg</code>)</li>
<li class="fragment">Checks to see if these packages are installed</li>
<li class="fragment">Installs any new packages</li>
<li class="fragment">Loads all the packages so we can use them</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a>ipak <span class="ot">&lt;-</span> <span class="cf">function</span>(pkg){</span>
<span id="cb6-2"><a></a>    new.pkg <span class="ot">&lt;-</span> pkg[<span class="sc">!</span>(pkg <span class="sc">%in%</span> <span class="fu">installed.packages</span>()[, <span class="st">"Package"</span>])]</span>
<span id="cb6-3"><a></a>    <span class="cf">if</span> (<span class="fu">length</span>(new.pkg)) </span>
<span id="cb6-4"><a></a>        <span class="fu">install.packages</span>(new.pkg, <span class="at">dependencies =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-5"><a></a>    <span class="fu">sapply</span>(pkg, require, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-6"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Again, run this code on your machines</p>
</section>
<section id="installing-and-loading-new-packages-1" class="slide level2 smaller">
<h2>Installing and loading new packages</h2>
<p>Finally, let’s use <code>ipak</code> to install and load <code>the_packages</code></p>
<p>What should we replace <code>some_function</code> and <code>some_input</code> with to do this?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a></a><span class="fu">some_function</span>(some_input)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a><span class="fu">ipak</span>(the_packages)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   tinytex kableExtra  tidyverse  lubridate    forcats      haven   labelled 
      TRUE       TRUE       TRUE       TRUE       TRUE       TRUE       TRUE 
     ggmap    ggrepel   ggridges   ggthemes     ggpubr     GGally       maps 
      TRUE       TRUE       TRUE       TRUE       TRUE       TRUE       TRUE 
   mapdata         DT 
      TRUE       TRUE </code></pre>
</div>
</div>
<ul>
<li class="fragment"><code>R</code> may ask you to install a package’s dependencies (other packages your package needs). Try entering the number <code>1</code> into your console</li>
<li class="fragment"><code>R</code> may tell you need to restart <code>R</code> Try saying yes. If it doesn’t start downloading, say no</li>
<li class="fragment"><code>R</code> may then ask if you want to compile some packages from source. Type <code>Y</code> into your console. If this doesn’t work, try again, but this time type <code>N</code> when asked</li>
</ul>
</div>
</section>
<section id="loading-the-covid-19-data" class="slide level2">
<h2>Loading the Covid-19 Data</h2>
<p>Let’s load the Covid-19 data we worked with last week:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a><span class="fu">load</span>(<span class="fu">url</span>(<span class="st">"https://pols1600.paultesta.org/files/data/covid.rda"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section>
<section id="troubleshooting-errors" class="title-slide slide level1 inverse center">
<h1><i class="fa-solid fa-magnifying-glass" aria-label="magnifying-glass"></i> Troubleshooting Errors</h1>

</section>
<section id="section" class="slide level2">
<h2></h2>

<img data-src="https://imgs.xkcd.com/comics/wisdom_of_the_ancients.png" class="r-stretch"><p><a href="https://xkcd.com/979" target="_blank">XKCD</a></p>
</section>
<section id="two-kinds-of-errors" class="slide level2 smaller">
<h2>Two kinds of errors:</h2>
<ul>
<li class="fragment"><strong>Syntactic</strong>
<ul>
<li class="fragment">R doesn’t understand how to run your code</li>
<li class="fragment">Most common, easy to fix (eventually…)</li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li class="fragment"><strong>Semantic</strong>
<ul>
<li class="fragment">R runs your code but doesn’t give you the expected result</li>
<li class="fragment">Less common, harder to fix</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<p>Most errors happen because R is looking for something that isn’t there.</p>
<p>More discussion <a href="https://github.com/noamross/zero-dependency-problems/blob/master/misc/stack-overflow-common-r-errors.md" target="_blank">here</a> and <a href="https://blog.revolutionanalytics.com/2015/03/the-most-common-r-error-messages.html" target="_blank">here</a></p>
</div>
</section>
<section id="common-syntactic-errors" class="slide level2">
<h2>Common Syntactic Errors</h2>
<ul>
<li class="fragment"><p>Unmatched parentheses or brackets</p></li>
<li class="fragment"><p>Misspelled a name</p></li>
<li class="fragment"><p>Forgot a comma</p></li>
<li class="fragment"><p>Forgot to install a package or load a library</p></li>
<li class="fragment"><p>Forgot to set the working directory/path to a file you want R to use.</p></li>
<li class="fragment"><p>Tried to select a column or row that doesn’t exist</p></li>
</ul>
</section>
<section id="fixing-syntactic-errors" class="slide level2 smaller">
<h2>Fixing Syntactic Errors</h2>
<ul>
<li class="fragment"><p>R Studio’s script editor will show a red circle with a white x in next to a line of code it thinks has an error in it.</p></li>
<li class="fragment"><p>Have someone else look at your code (Fresh eyes, <a href="https://en.wikipedia.org/wiki/Pair_programming" target="_blank">paired programming</a>)</p></li>
<li class="fragment"><p>Copy and paste the “general part” of error message into Google/ChatGPT</p></li>
<li class="fragment"><p>Knit your document after each completed code chunk</p>
<ul>
<li class="fragment">This will run the code from top to bottom, and stop when it encounters an error</li>
<li class="fragment">Try commenting out the whole chunk, and then uncommenting successive lines of code</li>
</ul></li>
<li class="fragment"><p>Be patient. Don’t be hard are yourself. Remember, errors are portals of discovery.</p></li>
</ul>
</section>
<section id="semantic-errors" class="slide level2">
<h2>Semantic Errors</h2>
<ul>
<li class="fragment">Your code runs, but doesn’t produce what you expected.</li>
<li class="fragment">Less common; can be harder to identify and fix</li>
<li class="fragment">One example: Two packages have a function with the same name that do different things</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a><span class="co"># dplyr::summarize</span></span>
<span id="cb11-2"><a></a><span class="co"># Hmisc::summarize</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="semantic-errors-1" class="slide level2 smaller">
<h2>Semantic Errors</h2>
<ul>
<li class="fragment">Some general solutions/practices to avoid semantic errors:
<ul>
<li class="fragment">Specify the package and the function you want: <code>package_name::function_name()</code></li>
<li class="fragment">Write helpful comments in your code.</li>
<li class="fragment">Include “sanity” checks in your code.</li>
<li class="fragment">If a function should produce an output that’s a data.frame, check to see if it is a data frame</li>
</ul></li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a></a><span class="co"># Here's some pseudo code:</span></span>
<span id="cb12-2"><a></a></span>
<span id="cb12-3"><a></a><span class="co"># I expect my_function produces a data frame</span></span>
<span id="cb12-4"><a></a>x <span class="ot">&lt;-</span> <span class="fu">my_function</span>(y) </span>
<span id="cb12-5"><a></a></span>
<span id="cb12-6"><a></a><span class="co"># Check to see if x is a data frame</span></span>
<span id="cb12-7"><a></a><span class="co"># If x is not a data frame, return an Error</span></span>
<span id="cb12-8"><a></a><span class="fu">stopifnot</span>(<span class="fu">is.data.frame</span>(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section></section>
<section>
<section id="data-wrangling-in-r" class="title-slide slide level1 inverse center">
<h1><i class="fa-solid fa-magnifying-glass" aria-label="magnifying-glass"></i> Data Wrangling in R</h1>

</section>
<section id="why-do-we-need-to-wrangle-data" class="slide level2">
<h2>Why do we need to “wrangle” data</h2>
<ul>
<li class="fragment"><p>Rarely, if ever, do we get data in the exact format we need.</p></li>
<li class="fragment"><p>Instead, before we can get to work, we often need to transform our data in various ways</p></li>
<li class="fragment"><p>Sometimes called:</p>
<ul>
<li class="fragment">Data cleaning/recoding</li>
<li class="fragment">Data wrangling</li>
<li class="fragment">Data carpentry</li>
</ul></li>
<li class="fragment"><p>The end goal is the same: <span class="blue">make messy data tidy</span></p></li>
</ul>
</section>
<section id="tidy-data" class="slide level2">
<h2>Tidy data</h2>
<ul>
<li class="fragment"><p>Every column is a <span class="blue">variable</span>.</p></li>
<li class="fragment"><p>Every row is an <span class="blue">observation</span>.</p></li>
<li class="fragment"><p>Every cell is a <span class="blue">single value</span></p></li>
</ul>
</section>
<section id="tools-for-transforming-our-data" class="slide level2 smaller">
<h2>Tools for transforming our data</h2>
<p>Last week we used the following functions:</p>
<ul>
<li class="fragment"><p><code>read_csv()</code> and <code>data()</code> to read and load data in R</p></li>
<li class="fragment"><p>logical operators like <code>&amp;</code>, <code>|</code>, <code>%in%</code> <code>==</code>, <code>!=</code>, <code>&gt;</code>,<code>&gt;=</code>,<code>&lt;</code>,<code>&lt;=</code> to make comparisons</p></li>
<li class="fragment"><p>the pipe command <code>%&gt;%</code> to “pipe” the output of one function into another</p></li>
<li class="fragment"><p><code>filter()</code> to pick observations (rows) by their values</p></li>
<li class="fragment"><p><code>arrange()</code> to reorder rows</p></li>
<li class="fragment"><p><code>select()</code> to pick variables by their names</p></li>
<li class="fragment"><p><code>mutate()</code> and <code>case_when()</code> command to create new variables in our data set</p></li>
<li class="fragment"><p><code>summarise()</code> to collapse many values into a single value (like a mean or median)</p></li>
<li class="fragment"><p><code>group_by()</code> to apply functions like <code>mutate()</code> and <code>summarise()</code> on a group-by-group basis</p></li>
</ul>
</section>
<section id="common-functions-for-transforming-data" class="slide level2 scrollable">
<h2>Common functions for transforming data</h2>
<p>All of these “verb” functions from the <code>dplyr</code> package (e.g.&nbsp;<code>filter()</code>,<code>mutate()</code>) follow a similar format:</p>
<ol type="1">
<li class="fragment">Their first argument is a data frame</li>
<li class="fragment">The subsequent arguments tell R what to do with the data frame, using the variable names (without quotes)</li>
<li class="fragment">The output is a new data frame</li>
</ol>
<p><a href="https://r4ds.had.co.nz/transform.html" target="_blank">More</a></p>
</section>
<section id="you-trying-to-get-the" class="slide level2">
<h2>You trying to get the <code>%&gt;%</code>?</h2>

<img data-src="https://a.espncdn.com/combiner/i?img=/i/headshots/nba/players/full/2444.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="the-pipe-command" class="slide level2 smaller">
<h2>The pipe command <code>%&gt;%</code></h2>
<ul>
<li class="fragment"><p>The pipe command is way of “chaining” lines of code together, piping the results of one <code>tidyverse</code> function into the next function.</p></li>
<li class="fragment"><p>The pipe command works because these functions always expect a data frame as their first argument, and always produce a data frame as their output.</p></li>
</ul>
</section>
<section id="the-pipe-command-1" class="slide level2">
<h2>The pipe command <code>%&gt;%</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" data-code-line-numbers="2|8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a><span class="fu">summarise</span>(</span>
<span id="cb13-2"><a></a>  <span class="at">data =</span> df,</span>
<span id="cb13-3"><a></a>  <span class="at">mean =</span> <span class="fu">mean</span>(var1, <span class="at">na.rm =</span> T),</span>
<span id="cb13-4"><a></a>  <span class="at">median =</span> <span class="fu">median</span>(var1, <span class="at">na.rm =</span> T)</span>
<span id="cb13-5"><a></a> )</span>
<span id="cb13-6"><a></a><span class="co"># Rewrite with a pipe:</span></span>
<span id="cb13-7"><a></a></span>
<span id="cb13-8"><a></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb13-9"><a></a>  <span class="fu">summarize</span>(</span>
<span id="cb13-10"><a></a>    <span class="at">mean =</span> <span class="fu">mean</span>(var1, <span class="at">na.rm =</span> T),</span>
<span id="cb13-11"><a></a>    <span class="at">median =</span> <span class="fu">median</span>(var1, <span class="at">na.rm =</span> T)    </span>
<span id="cb13-12"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="wrangling-the-covid-19-data" class="slide level2">
<h2>Wrangling the Covid-19 data</h2>
<p>To work with the Covid-19 data we did the following:</p>
<ul>
<li class="fragment">Subsetted/Filtered the data to exclude US Territories</li>
<li class="fragment">Created new variables from existing variables in the data to use in our final analysis</li>
</ul>
</section>
<section id="wrangling-the-covid-19-data-1" class="slide level2 smaller scrollable">
<h2>Wrangling the Covid-19 data</h2>
<p>Specifically, we did the following:</p>
<ol type="1">
<li class="fragment">Created an object called <code>territories</code> that is a vector containing the names of U.S. territories</li>
<li class="fragment">Created a new dataframe, called <code>covid_us</code>, by filtering out observations from the U.S. territories</li>
<li class="fragment">Created a <code>state</code> variable that is a copy of the <code>administrative_area_level_2</code></li>
<li class="fragment">Created a variable called <code>new_cases</code> from the <code>confirmed</code>. Create a variable called <code>new_cases_pc</code> that is the number of new Covid-19 cases per 100,000 citizens</li>
<li class="fragment">Created a variable called <code>face_masks</code> from the <code>facial_coverings</code> variable.</li>
<li class="fragment">Calculated the average number of new cases, by different levels of <code>face_masks</code></li>
</ol>
<div class="fragment">
<p>Let’s take some time to make sure we understand everything that was happening.</p>
</div>
</section>
<section id="created-an-object-called-territories" class="slide level2">
<h2>Created an object called <code>territories</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a></a><span class="co"># - 1. Create territories object</span></span>
<span id="cb14-2"><a></a></span>
<span id="cb14-3"><a></a>territories <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb14-4"><a></a>  <span class="st">"American Samoa"</span>,</span>
<span id="cb14-5"><a></a>  <span class="st">"Guam"</span>,</span>
<span id="cb14-6"><a></a>  <span class="st">"Northern Mariana Islands"</span>,</span>
<span id="cb14-7"><a></a>  <span class="st">"Puerto Rico"</span>,</span>
<span id="cb14-8"><a></a>  <span class="st">"Virgin Islands"</span></span>
<span id="cb14-9"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li class="fragment">The object <code>territories</code> now exists in our environment.</li>
</ul>
</section>
<section id="created-a-new-dataframe-called-covid_us" class="slide level2">
<h2>Created a new dataframe, called <code>covid_us</code></h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Task</a></li><li><a href="#tabset-1-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<ul>
<li>Use the <code>filter()</code> command to select only the rows where the <code>administrative_area_level_2</code> is not (<code>!</code>) in (<code>%in%</code>) the <code>territories</code> object</li>
</ul>
</div>
<div id="tabset-1-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a><span class="co"># - 2. Create covid_us data frame</span></span>
<span id="cb15-2"><a></a><span class="co"># How many rows and columns in covid</span></span>
<span id="cb15-3"><a></a><span class="fu">dim</span>(covid)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 58809    47</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a><span class="co"># Filter out obs from US territories</span></span>
<span id="cb17-2"><a></a>covid_us <span class="ot">&lt;-</span> covid <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a></a>  <span class="fu">filter</span>(<span class="sc">!</span>administrative_area_level_2 <span class="sc">%in%</span> territories)</span>
<span id="cb17-4"><a></a></span>
<span id="cb17-5"><a></a><span class="co"># covid_us should have fewer rows than covid</span></span>
<span id="cb17-6"><a></a><span class="fu">dim</span>(covid_us)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 53678    47</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="created-a-variable-called-state" class="slide level2">
<h2>Created a variable called <code>state</code></h2>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Task</a></li><li><a href="#tabset-2-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<p>Copy <code>administrative_area_level_2</code> into a new variable called <code>state</code></p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>Note that we have to <span class="blue">save the output</span> of mutate back into <code>covid_us</code> for our <code>state</code> to exist as new column in <code>covid_us</code></p>
</div>
</div>
</div>
</div>
<div id="tabset-2-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb19" data-code-line-numbers="3|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a></a><span class="fu">dim</span>(covid_us)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 53678    47</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21" data-code-line-numbers="3|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb21-3"><a></a>    <span class="at">state =</span> administrative_area_level_2</span>
<span id="cb21-4"><a></a>  ) <span class="ot">-&gt;</span> covid_us</span>
<span id="cb21-5"><a></a><span class="fu">dim</span>(covid_us)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 53678    48</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23" data-code-line-numbers="3|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a></a><span class="fu">names</span>(covid_us)[<span class="dv">48</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "state"</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="created-a-variable-called-state-1" class="slide level2 smaller">
<h2>Created a variable called <code>state</code></h2>
<p>Now there’s a new column in <code>covid_us</code> called <code>state</code>, that we can access by calling <code>covid_us$state</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a></a>covid_us<span class="sc">$</span>state[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="co"># Just show first 5 observations</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Minnesota" "Minnesota" "Minnesota" "Minnesota" "Minnesota"</code></pre>
</div>
</div>
<div class="fragment">
<p>We could have done the same thing in “Base” R</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a></a>covid_us<span class="sc">$</span>state <span class="ot">&lt;-</span> covid_us<span class="sc">$</span>administrative_area_level_2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<p>Why didn’t we?</p>
<ul>
<li class="fragment">Consistent preference for <code>tidyverse</code> &gt; <code>base R</code></li>
<li class="fragment">Saves time when recoding lots of variables</li>
<li class="fragment"><code>mutate()</code> plays nicely with functions like <code>group_by()</code></li>
</ul>
</div>
</section>
<section id="create-a-variable-called-new_cases-from-the-confirmed-variable" class="slide level2">
<h2>Create a variable called <code>new_cases</code> from the <code>confirmed</code> variable</h2>
<p>The <code>confirmed</code> variable contains a running total of confirmed cases in a given state on a given day.</p>
<p><span class="blue">Vizualing data</span> helps us understand how we might need to transform our data</p>
</section>
<section id="visualize-confirmed-variable-for-rhode-island" class="slide level2">
<h2>Visualize <code>confirmed</code> variable for Rhode Island</h2>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">Code</a></li><li><a href="#tabset-3-2">Plot</a></li><li><a href="#tabset-3-3">Data</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>) <span class="co"># No scientific notation</span></span>
<span id="cb28-2"><a></a>covid_us <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a></a>  <span class="fu">filter</span>(state <span class="sc">==</span> <span class="st">"Rhode Island"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb28-4"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb28-5"><a></a>    <span class="at">x =</span> date,</span>
<span id="cb28-6"><a></a>    <span class="at">y =</span> confirmed</span>
<span id="cb28-7"><a></a>  ))<span class="sc">+</span></span>
<span id="cb28-8"><a></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb28-9"><a></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb28-10"><a></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Covid-19 cases in Rhode Island"</span>,</span>
<span id="cb28-11"><a></a>       <span class="at">y =</span> <span class="st">"Total Cases"</span>,</span>
<span id="cb28-12"><a></a>       <span class="at">x =</span> <span class="st">"Date"</span>) <span class="ot">-&gt;</span> fig_ri_covid</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-3-2">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02-slides_files/figure-html/unnamed-chunk-19-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-3-3">
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-e9a279254d85ed9f896d" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e9a279254d85ed9f896d">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566","567","568","569","570","571","572","573","574","575","576","577","578","579","580","581","582","583","584","585","586","587","588","589","590","591","592","593","594","595","596","597","598","599","600","601","602","603","604","605","606","607","608","609","610","611","612","613","614","615","616","617","618","619","620","621","622","623","624","625","626","627","628","629","630","631","632","633","634","635","636","637","638","639","640","641","642","643","644","645","646","647","648","649","650","651","652","653","654","655","656","657","658","659","660","661","662","663","664","665","666","667","668","669","670","671","672","673","674","675","676","677","678","679","680","681","682","683","684","685","686","687","688","689","690","691","692","693","694","695","696","697","698","699","700","701","702","703","704","705","706","707","708","709","710","711","712","713","714","715","716","717","718","719","720","721","722","723","724","725","726","727","728","729","730","731","732","733","734","735","736","737","738","739","740","741","742","743","744","745","746","747","748","749","750","751","752","753","754","755","756","757","758","759","760","761","762","763","764","765","766","767","768","769","770","771","772","773","774","775","776","777","778","779","780","781","782","783","784","785","786","787","788","789","790","791","792","793","794","795","796","797","798","799","800","801","802","803","804","805","806","807","808","809","810","811","812","813","814","815","816","817","818","819","820","821","822","823","824","825","826","827","828","829","830","831","832","833","834","835","836","837","838","839","840","841","842","843","844","845","846","847","848","849","850","851","852","853","854","855","856","857","858","859","860","861","862","863","864","865","866","867","868","869","870","871","872","873","874","875","876","877","878","879","880","881","882","883","884","885","886","887","888","889","890","891","892","893","894","895","896","897","898","899","900","901","902","903","904","905","906","907","908","909","910","911","912","913","914","915","916","917","918","919","920","921","922","923","924","925","926","927","928","929","930","931","932","933","934","935","936","937","938","939","940","941","942","943","944","945","946","947","948","949","950","951","952","953","954","955","956","957","958","959","960","961","962","963","964","965","966","967","968","969","970","971","972","973","974","975","976","977","978","979","980","981","982","983","984","985","986","987","988","989","990","991","992","993","994","995","996","997","998","999","1000","1001","1002","1003","1004","1005","1006","1007","1008","1009","1010","1011","1012","1013","1014","1015","1016","1017","1018","1019","1020","1021","1022","1023","1024","1025","1026","1027","1028","1029","1030","1031","1032","1033","1034","1035","1036"],["Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island"],["2020-03-01","2020-03-02","2020-03-03","2020-03-04","2020-03-05","2020-03-06","2020-03-07","2020-03-08","2020-03-09","2020-03-10","2020-03-11","2020-03-12","2020-03-13","2020-03-14","2020-03-15","2020-03-16","2020-03-17","2020-03-18","2020-03-19","2020-03-20","2020-03-21","2020-03-22","2020-03-23","2020-03-24","2020-03-25","2020-03-26","2020-03-27","2020-03-28","2020-03-29","2020-03-30","2020-03-31","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-07","2020-04-08","2020-04-09","2020-04-10","2020-04-11","2020-04-12","2020-04-13","2020-04-14","2020-04-15","2020-04-16","2020-04-17","2020-04-18","2020-04-19","2020-04-20","2020-04-21","2020-04-22","2020-04-23","2020-04-24","2020-04-25","2020-04-26","2020-04-27","2020-04-28","2020-04-29","2020-04-30","2020-05-01","2020-05-02","2020-05-03","2020-05-04","2020-05-05","2020-05-06","2020-05-07","2020-05-08","2020-05-09","2020-05-10","2020-05-11","2020-05-12","2020-05-13","2020-05-14","2020-05-15","2020-05-16","2020-05-17","2020-05-18","2020-05-19","2020-05-20","2020-05-21","2020-05-22","2020-05-23","2020-05-24","2020-05-25","2020-05-26","2020-05-27","2020-05-28","2020-05-29","2020-05-30","2020-05-31","2020-06-01","2020-06-02","2020-06-03","2020-06-04","2020-06-05","2020-06-06","2020-06-07","2020-06-08","2020-06-09","2020-06-10","2020-06-11","2020-06-12","2020-06-13","2020-06-14","2020-06-15","2020-06-16","2020-06-17","2020-06-18","2020-06-19","2020-06-20","2020-06-21","2020-06-22","2020-06-23","2020-06-24","2020-06-25","2020-06-26","2020-06-27","2020-06-28","2020-06-29","2020-06-30","2020-07-01","2020-07-02","2020-07-03","2020-07-04","2020-07-05","2020-07-06","2020-07-07","2020-07-08","2020-07-09","2020-07-10","2020-07-11","2020-07-12","2020-07-13","2020-07-14","2020-07-15","2020-07-16","2020-07-17","2020-07-18","2020-07-19","2020-07-20","2020-07-21","2020-07-22","2020-07-23","2020-07-24","2020-07-25","2020-07-26","2020-07-27","2020-07-28","2020-07-29","2020-07-30","2020-07-31","2020-08-01","2020-08-02","2020-08-03","2020-08-04","2020-08-05","2020-08-06","2020-08-07","2020-08-08","2020-08-09","2020-08-10","2020-08-11","2020-08-12","2020-08-13","2020-08-14","2020-08-15","2020-08-16","2020-08-17","2020-08-18","2020-08-19","2020-08-20","2020-08-21","2020-08-22","2020-08-23","2020-08-24","2020-08-25","2020-08-26","2020-08-27","2020-08-28","2020-08-29","2020-08-30","2020-08-31","2020-09-01","2020-09-02","2020-09-03","2020-09-04","2020-09-05","2020-09-06","2020-09-07","2020-09-08","2020-09-09","2020-09-10","2020-09-11","2020-09-12","2020-09-13","2020-09-14","2020-09-15","2020-09-16","2020-09-17","2020-09-18","2020-09-19","2020-09-20","2020-09-21","2020-09-22","2020-09-23","2020-09-24","2020-09-25","2020-09-26","2020-09-27","2020-09-28","2020-09-29","2020-09-30","2020-10-01","2020-10-02","2020-10-03","2020-10-04","2020-10-05","2020-10-06","2020-10-07","2020-10-08","2020-10-09","2020-10-10","2020-10-11","2020-10-12","2020-10-13","2020-10-14","2020-10-15","2020-10-16","2020-10-17","2020-10-18","2020-10-19","2020-10-20","2020-10-21","2020-10-22","2020-10-23","2020-10-24","2020-10-25","2020-10-26","2020-10-27","2020-10-28","2020-10-29","2020-10-30","2020-10-31","2020-11-01","2020-11-02","2020-11-03","2020-11-04","2020-11-05","2020-11-06","2020-11-07","2020-11-08","2020-11-09","2020-11-10","2020-11-11","2020-11-12","2020-11-13","2020-11-14","2020-11-15","2020-11-16","2020-11-17","2020-11-18","2020-11-19","2020-11-20","2020-11-21","2020-11-22","2020-11-23","2020-11-24","2020-11-25","2020-11-26","2020-11-27","2020-11-28","2020-11-29","2020-11-30","2020-12-01","2020-12-02","2020-12-03","2020-12-04","2020-12-05","2020-12-06","2020-12-07","2020-12-08","2020-12-09","2020-12-10","2020-12-11","2020-12-12","2020-12-13","2020-12-14","2020-12-15","2020-12-16","2020-12-17","2020-12-18","2020-12-19","2020-12-20","2020-12-21","2020-12-22","2020-12-23","2020-12-24","2020-12-25","2020-12-26","2020-12-27","2020-12-28","2020-12-29","2020-12-30","2020-12-31","2021-01-01","2021-01-02","2021-01-03","2021-01-04","2021-01-05","2021-01-06","2021-01-07","2021-01-08","2021-01-09","2021-01-10","2021-01-11","2021-01-12","2021-01-13","2021-01-14","2021-01-15","2021-01-16","2021-01-17","2021-01-18","2021-01-19","2021-01-20","2021-01-21","2021-01-22","2021-01-23","2021-01-24","2021-01-25","2021-01-26","2021-01-27","2021-01-28","2021-01-29","2021-01-30","2021-01-31","2021-02-01","2021-02-02","2021-02-03","2021-02-04","2021-02-05","2021-02-06","2021-02-07","2021-02-08","2021-02-09","2021-02-10","2021-02-11","2021-02-12","2021-02-13","2021-02-14","2021-02-15","2021-02-16","2021-02-17","2021-02-18","2021-02-19","2021-02-20","2021-02-21","2021-02-22","2021-02-23","2021-02-24","2021-02-25","2021-02-26","2021-02-27","2021-02-28","2021-03-01","2021-03-02","2021-03-03","2021-03-04","2021-03-05","2021-03-06","2021-03-07","2021-03-08","2021-03-09","2021-03-10","2021-03-11","2021-03-12","2021-03-13","2021-03-14","2021-03-15","2021-03-16","2021-03-17","2021-03-18","2021-03-19","2021-03-20","2021-03-21","2021-03-22","2021-03-23","2021-03-24","2021-03-25","2021-03-26","2021-03-27","2021-03-28","2021-03-29","2021-03-30","2021-03-31","2021-04-01","2021-04-02","2021-04-03","2021-04-04","2021-04-05","2021-04-06","2021-04-07","2021-04-08","2021-04-09","2021-04-10","2021-04-11","2021-04-12","2021-04-13","2021-04-14","2021-04-15","2021-04-16","2021-04-17","2021-04-18","2021-04-19","2021-04-20","2021-04-21","2021-04-22","2021-04-23","2021-04-24","2021-04-25","2021-04-26","2021-04-27","2021-04-28","2021-04-29","2021-04-30","2021-05-01","2021-05-02","2021-05-03","2021-05-04","2021-05-05","2021-05-06","2021-05-07","2021-05-08","2021-05-09","2021-05-10","2021-05-11","2021-05-12","2021-05-13","2021-05-14","2021-05-15","2021-05-16","2021-05-17","2021-05-18","2021-05-19","2021-05-20","2021-05-21","2021-05-22","2021-05-23","2021-05-24","2021-05-25","2021-05-26","2021-05-27","2021-05-28","2021-05-29","2021-05-30","2021-05-31","2021-06-01","2021-06-02","2021-06-03","2021-06-04","2021-06-05","2021-06-06","2021-06-07","2021-06-08","2021-06-09","2021-06-10","2021-06-11","2021-06-12","2021-06-13","2021-06-14","2021-06-15","2021-06-16","2021-06-17","2021-06-18","2021-06-19","2021-06-20","2021-06-21","2021-06-22","2021-06-23","2021-06-24","2021-06-25","2021-06-26","2021-06-27","2021-06-28","2021-06-29","2021-06-30","2021-07-01","2021-07-02","2021-07-03","2021-07-04","2021-07-05","2021-07-06","2021-07-07","2021-07-08","2021-07-09","2021-07-10","2021-07-11","2021-07-12","2021-07-13","2021-07-14","2021-07-15","2021-07-16","2021-07-17","2021-07-18","2021-07-19","2021-07-20","2021-07-21","2021-07-22","2021-07-23","2021-07-24","2021-07-25","2021-07-26","2021-07-27","2021-07-28","2021-07-29","2021-07-30","2021-07-31","2021-08-01","2021-08-02","2021-08-03","2021-08-04","2021-08-05","2021-08-06","2021-08-07","2021-08-08","2021-08-09","2021-08-10","2021-08-11","2021-08-12","2021-08-13","2021-08-14","2021-08-15","2021-08-16","2021-08-17","2021-08-18","2021-08-19","2021-08-20","2021-08-21","2021-08-22","2021-08-23","2021-08-24","2021-08-25","2021-08-26","2021-08-27","2021-08-28","2021-08-29","2021-08-30","2021-08-31","2021-09-01","2021-09-02","2021-09-03","2021-09-04","2021-09-05","2021-09-06","2021-09-07","2021-09-08","2021-09-09","2021-09-10","2021-09-11","2021-09-12","2021-09-13","2021-09-14","2021-09-15","2021-09-16","2021-09-17","2021-09-18","2021-09-19","2021-09-20","2021-09-21","2021-09-22","2021-09-23","2021-09-24","2021-09-25","2021-09-26","2021-09-27","2021-09-28","2021-09-29","2021-09-30","2021-10-01","2021-10-02","2021-10-03","2021-10-04","2021-10-05","2021-10-06","2021-10-07","2021-10-08","2021-10-09","2021-10-10","2021-10-11","2021-10-12","2021-10-13","2021-10-14","2021-10-15","2021-10-16","2021-10-17","2021-10-18","2021-10-19","2021-10-20","2021-10-21","2021-10-22","2021-10-23","2021-10-24","2021-10-25","2021-10-26","2021-10-27","2021-10-28","2021-10-29","2021-10-30","2021-10-31","2021-11-01","2021-11-02","2021-11-03","2021-11-04","2021-11-05","2021-11-06","2021-11-07","2021-11-08","2021-11-09","2021-11-10","2021-11-11","2021-11-12","2021-11-13","2021-11-14","2021-11-15","2021-11-16","2021-11-17","2021-11-18","2021-11-19","2021-11-20","2021-11-21","2021-11-22","2021-11-23","2021-11-24","2021-11-25","2021-11-26","2021-11-27","2021-11-28","2021-11-29","2021-11-30","2021-12-01","2021-12-02","2021-12-03","2021-12-04","2021-12-05","2021-12-06","2021-12-07","2021-12-08","2021-12-09","2021-12-10","2021-12-11","2021-12-12","2021-12-13","2021-12-14","2021-12-15","2021-12-16","2021-12-17","2021-12-18","2021-12-19","2021-12-20","2021-12-21","2021-12-22","2021-12-23","2021-12-24","2021-12-25","2021-12-26","2021-12-27","2021-12-28","2021-12-29","2021-12-30","2021-12-31","2022-01-01","2022-01-02","2022-01-03","2022-01-04","2022-01-05","2022-01-06","2022-01-07","2022-01-08","2022-01-09","2022-01-10","2022-01-11","2022-01-12","2022-01-13","2022-01-14","2022-01-15","2022-01-16","2022-01-17","2022-01-18","2022-01-19","2022-01-20","2022-01-21","2022-01-22","2022-01-23","2022-01-24","2022-01-25","2022-01-26","2022-01-27","2022-01-28","2022-01-29","2022-01-30","2022-01-31","2022-02-01","2022-02-02","2022-02-03","2022-02-04","2022-02-05","2022-02-06","2022-02-07","2022-02-08","2022-02-09","2022-02-10","2022-02-11","2022-02-12","2022-02-13","2022-02-14","2022-02-15","2022-02-16","2022-02-17","2022-02-18","2022-02-19","2022-02-20","2022-02-21","2022-02-22","2022-02-23","2022-02-24","2022-02-25","2022-02-26","2022-02-27","2022-02-28","2022-03-01","2022-03-02","2022-03-03","2022-03-04","2022-03-05","2022-03-06","2022-03-07","2022-03-08","2022-03-09","2022-03-10","2022-03-11","2022-03-12","2022-03-13","2022-03-14","2022-03-15","2022-03-16","2022-03-17","2022-03-18","2022-03-19","2022-03-20","2022-03-21","2022-03-22","2022-03-23","2022-03-24","2022-03-25","2022-03-26","2022-03-27","2022-03-28","2022-03-29","2022-03-30","2022-03-31","2022-04-01","2022-04-02","2022-04-03","2022-04-04","2022-04-05","2022-04-06","2022-04-07","2022-04-08","2022-04-09","2022-04-10","2022-04-11","2022-04-12","2022-04-13","2022-04-14","2022-04-15","2022-04-16","2022-04-17","2022-04-18","2022-04-19","2022-04-20","2022-04-21","2022-04-22","2022-04-23","2022-04-24","2022-04-25","2022-04-26","2022-04-27","2022-04-28","2022-04-29","2022-04-30","2022-05-01","2022-05-02","2022-05-03","2022-05-04","2022-05-05","2022-05-06","2022-05-07","2022-05-08","2022-05-09","2022-05-10","2022-05-11","2022-05-12","2022-05-13","2022-05-14","2022-05-15","2022-05-16","2022-05-17","2022-05-18","2022-05-19","2022-05-20","2022-05-21","2022-05-22","2022-05-23","2022-05-24","2022-05-25","2022-05-26","2022-05-27","2022-05-28","2022-05-29","2022-05-30","2022-05-31","2022-06-01","2022-06-02","2022-06-03","2022-06-04","2022-06-05","2022-06-06","2022-06-07","2022-06-08","2022-06-09","2022-06-10","2022-06-11","2022-06-12","2022-06-13","2022-06-14","2022-06-15","2022-06-16","2022-06-17","2022-06-18","2022-06-19","2022-06-20","2022-06-21","2022-06-22","2022-06-23","2022-06-24","2022-06-25","2022-06-26","2022-06-27","2022-06-28","2022-06-29","2022-06-30","2022-07-01","2022-07-02","2022-07-03","2022-07-04","2022-07-05","2022-07-06","2022-07-07","2022-07-08","2022-07-09","2022-07-10","2022-07-11","2022-07-12","2022-07-13","2022-07-14","2022-07-15","2022-07-16","2022-07-17","2022-07-18","2022-07-19","2022-07-20","2022-07-21","2022-07-22","2022-07-23","2022-07-24","2022-07-25","2022-07-26","2022-07-27","2022-07-28","2022-07-29","2022-07-30","2022-07-31","2022-08-01","2022-08-02","2022-08-03","2022-08-04","2022-08-05","2022-08-06","2022-08-07","2022-08-08","2022-08-09","2022-08-10","2022-08-11","2022-08-12","2022-08-13","2022-08-14","2022-08-15","2022-08-16","2022-08-17","2022-08-18","2022-08-19","2022-08-20","2022-08-21","2022-08-22","2022-08-23","2022-08-24","2022-08-25","2022-08-26","2022-08-27","2022-08-28","2022-08-29","2022-08-30","2022-08-31","2022-09-01","2022-09-02","2022-09-03","2022-09-04","2022-09-05","2022-09-06","2022-09-07","2022-09-08","2022-09-09","2022-09-10","2022-09-11","2022-09-12","2022-09-13","2022-09-14","2022-09-15","2022-09-16","2022-09-17","2022-09-18","2022-09-19","2022-09-20","2022-09-21","2022-09-22","2022-09-23","2022-09-24","2022-09-25","2022-09-26","2022-09-27","2022-09-28","2022-09-29","2022-09-30","2022-10-01","2022-10-02","2022-10-03","2022-10-04","2022-10-05","2022-10-06","2022-10-07","2022-10-08","2022-10-09","2022-10-10","2022-10-11","2022-10-12","2022-10-13","2022-10-14","2022-10-15","2022-10-16","2022-10-17","2022-10-18","2022-10-19","2022-10-20","2022-10-21","2022-10-22","2022-10-23","2022-10-24","2022-10-25","2022-10-26","2022-10-27","2022-10-28","2022-10-29","2022-10-30","2022-10-31","2022-11-01","2022-11-02","2022-11-03","2022-11-04","2022-11-05","2022-11-06","2022-11-07","2022-11-08","2022-11-09","2022-11-10","2022-11-11","2022-11-12","2022-11-13","2022-11-14","2022-11-15","2022-11-16","2022-11-17","2022-11-18","2022-11-19","2022-11-20","2022-11-21","2022-11-22","2022-11-23","2022-11-24","2022-11-25","2022-11-26","2022-11-27","2022-11-28","2022-11-29","2022-11-30","2022-12-01","2022-12-02","2022-12-03","2022-12-04","2022-12-05","2022-12-06","2022-12-07","2022-12-08","2022-12-09","2022-12-10","2022-12-11","2022-12-12","2022-12-13","2022-12-14","2022-12-15","2022-12-16","2022-12-17","2022-12-18","2022-12-19","2022-12-20","2022-12-21","2022-12-22","2022-12-23","2022-12-24","2022-12-25","2022-12-26","2022-12-27","2022-12-28","2022-12-29","2022-12-30","2022-12-31"],[2,2,2,2,2,3,3,3,3,5,5,5,20,20,20,21,23,33,44,44,66,83,106,124,132,165,203,239,294,408,488,566,657,711,806,922,1082,1229,1450,1727,2015,2349,2665,2976,3251,3529,3838,4177,4491,4706,5090,5500,5841,6256,6699,7129,7439,7708,7926,8247,8621,8962,9289,9477,9652,9933,10205,10530,10779,10989,11274,11450,11614,11835,12016,12219,12434,12674,12795,12951,13356,13571,13736,13952,14065,14065,14210,14353,14494,14635,14819,14928,14991,15112,15219,15325,15441,15441,15441,15642,15691,15756,15862,15947,15947,15947,16093,16164,16213,16269,16337,16337,16337,16459,16533,16606,16640,16661,16661,16661,16764,16813,16853,16941,16991,16991,16991,16991,17154,17204,17243,17312,17312,17312,17487,17588,17640,17711,17793,17793,17793,17904,17986,18062,18148,18224,18224,18224,18515,18725,18800,18950,19022,19022,19022,19246,19390,19481,19611,19738,19738,19738,19934,20053,20129,20240,20335,20335,20335,20572,20692,20795,20871,21022,21022,21022,21302,21372,21454,21589,21683,21683,21683,21949,22002,22078,22143,22243,22243,22243,22243,22592,22676,22782,22905,22905,22905,23130,23250,23358,23488,23620,23620,23620,23932,24044,24177,24311,24181,24181,24181,24424,24556,24748,24914,25076,25076,25076,25419,25596,25776,26045,26294,26294,26294,26294,26960,27164,27438,27691,27691,27691,28347,28649,29123,29594,30118,30118,30118,31024,31445,31944,32312,32874,32874,32874,34120,34543,35122,35750,36380,36380,36380,38009,38798,39776,40764,41529,41529,41529,43923,44528,45911,46951,48001,48001,48001,50573,51424,52317,52317,53954,53954,53954,56723,57906,59005,60722,62137,62137,62137,65818,67067,68299,69247,70818,70818,70818,74071,75237,76209,77290,77812,77812,77812,80231,81187,82066,82066,82066,82066,82066,85602,86789,87949,87949,87949,87949,87949,92708,93852,95463,96591,97614,97614,97614,100607,101393,102485,103386,104443,104443,104443,104443,107066,107876,108786,109735,109735,109735,111754,112396,113009,113754,114438,114438,114438,115956,116191,116704,117291,117891,117891,117891,119104,119434,119893,120381,120821,120821,120821,121787,122072,122440,122859,123145,123145,123145,123980,124262,124718,125185,125622,125622,125622,126588,126849,127285,127727,128121,128121,128121,128981,129277,129595,130120,130502,130502,130502,131487,131750,132184,132616,133039,133039,133039,134039,134336,134807,135290,135775,135775,135775,136419,136765,137329,137848,138255,138255,138255,139173,139549,140025,140534,141097,141097,141097,141097,142774,143251,143740,144149,144149,144149,144966,145358,145647,146028,146324,146324,146324,146960,147220,147601,147897,148186,148186,148186,148669,148929,149197,149384,149577,149577,149577,149948,150097,150252,150231,150385,150385,150385,150648,150737,150737,150948,151258,151258,151258,151440,151502,151580,151691,151743,151743,151743,151743,151844,151895,151936,151992,151992,151992,152074,152106,152153,152187,152213,152213,152213,152273,152306,152333,152359,152383,152383,152383,152429,152443,152481,152501,152514,152514,152514,152567,152589,152613,152618,152643,152643,152643,152643,152698,152738,152748,152729,152729,152729,152819,152842,152873,152927,152971,152971,152971,153103,153168,153269,153355,153447,153447,153447,153697,153802,153954,154153,154339,154339,154339,154790,154985,155287,155527,155825,155825,155825,155825,156539,156824,157188,157589,157589,157589,158283,158614,159019,159355,159710,159710,159710,160329,160565,160948,161303,161701,161701,161701,162325,162617,162969,163388,163742,163742,163742,163742,164648,165083,165454,165849,165849,165849,166811,167245,167653,167975,168449,168449,168449,169350,169686,170009,170293,170700,170700,170700,171451,171751,172064,172361,172719,172719,172719,173357,173603,173937,174171,174570,174570,174570,174570,175487,175777,176090,176405,176405,176405,177052,177280,177508,177804,177998,177998,177998,178461,178646,178907,179171,179405,179405,179405,179963,180187,180488,180809,181079,181079,181079,181835,182175,182486,182486,183257,183257,183257,184220,184777,185254,185799,186387,186387,186387,187531,188135,188561,188561,188561,188561,188561,190975,191763,192741,193714,194858,194858,194858,196949,198036,198729,200197,201275,201275,201275,203708,204954,206357,207556,208753,208753,208753,212715,213730,215541,217228,217228,217228,217228,217228,223985,227178,231096,231096,231096,231096,231096,247324,253192,260110,266066,266066,266066,279831,284907,290634,296304,302109,302109,302109,313700,317344,320617,324234,327109,327109,327109,332961,334581,337659,339571,341407,341407,341407,343779,344841,345836,347041,347901,347901,347901,349499,350080,350715,351334,351844,351844,351844,352794,353048,353377,353776,354045,354045,354045,354617,354817,355014,355294,355509,355509,355509,355925,356095,356436,356627,356783,356783,356783,357136,357266,357440,357647,357802,357802,357802,358209,358429,358637,358880,359064,359064,359064,359470,359610,359823,360016,360172,360172,360172,360594,360759,360959,361262,361508,361508,361508,362000,362267,362635,363033,363372,363372,363372,364184,364648,365009,365548,365880,365880,365880,366740,367095,367413,367902,368246,368246,368246,369234,369723,370262,370920,371629,371629,371629,372866,373437,374181,375119,375897,375897,375897,377576,378424,379414,380384,381271,381271,381271,383209,384187,385153,386196,387083,387083,387083,388586,389305,389901,390639,391275,391275,391275,391275,392790,393415,393888,394573,394573,394573,395410,395945,396329,396773,397187,397187,397187,397758,398242,398622,398981,399282,399282,399282,399860,400168,400454,400834,401108,401108,401108,401688,402024,402371,402769,403052,403052,403052,403052,403677,403956,404204,404604,404604,404604,404604,405589,405974,406321,406668,406668,406668,407309,407575,407886,408203,408532,408532,408532,409171,409452,409731,410066,410399,410399,410399,411141,411453,411760,412179,412477,412477,412477,412477,412477,412477,413259,413259,413259,413259,413259,413259,413259,414931,414931,414931,414931,414931,414931,414931,416638,416638,416638,416638,416638,416638,416638,418635,418635,418635,418635,418635,418635,418635,420175,420175,420175,420175,420175,420175,420175,421739,421739,421739,421739,421739,421739,421739,423563,423563,423563,423563,423563,423563,423563,425461,425461,425461,425461,425461,425461,425461,427242,427242,427242,427242,427242,427242,427242,428874,428874,428874,428874,428874,428874,428874,430636,430636,430636,430636,430636,430636,430636,432042,432042,432042,432042,432042,432042,432042,433348,433348,433348,433348,433348,433348,433348,434653,434653,434653,434653,434653,434653,434653,435778,435778,435778,435778,435778,435778,436904,436904,436904,436904,436904,436904,436904,436904,437972,437972,437972,437972,437972,437972,437972,439773,439773,439773,439773,439773,439773,439773,441692,441692,441692,441692,441692,441692,441692,443645,443645,443645,443645,443645,443645,443645,443645,443645,443645]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>state<\/th>\n      <th>date<\/th>\n      <th>confirmed<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":3},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"state","targets":1},{"name":"date","targets":2},{"name":"confirmed","targets":3}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="create-a-variable-called-new_cases-from-the-confirmed-variable-1" class="slide level2 smaller">
<h2>Create a variable called <code>new_cases</code> from the <code>confirmed</code> variable</h2>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1">Task</a></li><li><a href="#tabset-4-2">Code</a></li><li><a href="#tabset-4-3">Data</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<p>Take the difference between a given day’s value of <code>confirmed</code> and yesterday’s value of <code>confirmed</code> to create a measure of <code>new_cases</code> on a given date for each state</p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<ul>
<li class="fragment">Use <code>lag()</code> to shift values in a column down one row in the data</li>
<li class="fragment">Use <code>group_by()</code> to respect the state-date structure of the data</li>
</ul>
</div>
</div>
</div>
</div>
<div id="tabset-4-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(state) <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb29-4"><a></a>    <span class="at">new_cases =</span> confirmed <span class="sc">-</span> <span class="fu">lag</span>(confirmed)</span>
<span id="cb29-5"><a></a>  ) <span class="ot">-&gt;</span> covid_us</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-4-3">
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-fd019c91ce6d0478e0c9" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-fd019c91ce6d0478e0c9">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306"],["Minnesota","Minnesota","Minnesota","Minnesota","Minnesota","Minnesota","California","California","California","California","California","California","Florida","Florida","Florida","Florida","Florida","Florida","Wyoming","Wyoming","Wyoming","Wyoming","Wyoming","Wyoming","South Dakota","South Dakota","South Dakota","South Dakota","South Dakota","South Dakota","Kansas","Kansas","Kansas","Kansas","Kansas","Kansas","Nevada","Nevada","Nevada","Nevada","Nevada","Nevada","Virginia","Virginia","Virginia","Virginia","Virginia","Virginia","Washington","Washington","Washington","Washington","Washington","Washington","Oregon","Oregon","Oregon","Oregon","Oregon","Oregon","Wisconsin","Wisconsin","Wisconsin","Wisconsin","Wisconsin","Wisconsin","New Jersey","New Jersey","New Jersey","New Jersey","New Jersey","New Jersey","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Vermont","Vermont","Vermont","Vermont","Vermont","Vermont","North Carolina","North Carolina","North Carolina","North Carolina","North Carolina","North Carolina","Oklahoma","Oklahoma","Oklahoma","Oklahoma","Oklahoma","Oklahoma","Alabama","Alabama","Alabama","Alabama","Alabama","Alabama","Delaware","Delaware","Delaware","Delaware","Delaware","Delaware","Missouri","Missouri","Missouri","Missouri","Missouri","Missouri","Utah","Utah","Utah","Utah","Utah","Utah","Mississippi","Mississippi","Mississippi","Mississippi","Mississippi","Mississippi","Connecticut","Connecticut","Connecticut","Connecticut","Connecticut","Connecticut","Indiana","Indiana","Indiana","Indiana","Indiana","Indiana","Georgia","Georgia","Georgia","Georgia","Georgia","Georgia","Texas","Texas","Texas","Texas","Texas","Texas","Pennsylvania","Pennsylvania","Pennsylvania","Pennsylvania","Pennsylvania","Pennsylvania","Massachusetts","Massachusetts","Massachusetts","Massachusetts","Massachusetts","Massachusetts","Maine","Maine","Maine","Maine","Maine","Maine","Tennessee","Tennessee","Tennessee","Tennessee","Tennessee","Tennessee","Michigan","Michigan","Michigan","Michigan","Michigan","Michigan","Idaho","Idaho","Idaho","Idaho","Idaho","Idaho","Illinois","Illinois","Illinois","Illinois","Illinois","Illinois","Louisiana","Louisiana","Louisiana","Louisiana","Louisiana","Louisiana","New Mexico","New Mexico","New Mexico","New Mexico","New Mexico","New Mexico","Arizona","Arizona","Arizona","Arizona","Arizona","Arizona","Arkansas","Arkansas","Arkansas","Arkansas","Arkansas","Arkansas","Nebraska","Nebraska","Nebraska","Nebraska","Nebraska","Nebraska","West Virginia","West Virginia","West Virginia","West Virginia","West Virginia","West Virginia","South Carolina","South Carolina","South Carolina","South Carolina","South Carolina","South Carolina","New York","New York","New York","New York","New York","New York","District of Columbia","District of Columbia","District of Columbia","District of Columbia","District of Columbia","District of Columbia","Kentucky","Kentucky","Kentucky","Kentucky","Kentucky","Kentucky","Ohio","Ohio","Ohio","Ohio","Ohio","Ohio","Alaska","Alaska","Alaska","Alaska","Alaska","Alaska","New Hampshire","New Hampshire","New Hampshire","New Hampshire","New Hampshire","New Hampshire","North Dakota","North Dakota","North Dakota","North Dakota","North Dakota","North Dakota","Iowa","Iowa","Iowa","Iowa","Iowa","Iowa","Montana","Montana","Montana","Montana","Montana","Montana","Hawaii","Hawaii","Hawaii","Hawaii","Hawaii","Hawaii","Maryland","Maryland","Maryland","Maryland","Maryland","Maryland","Colorado","Colorado","Colorado","Colorado","Colorado","Colorado"],["2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06"],[689,742,789,865,935,986,9857,11190,12569,13796,15202,16361,7769,9000,10260,11537,12342,13621,138,154,167,189,200,213,129,165,187,212,240,288,489,554,625,702,769,854,1279,1458,1549,1758,1880,1971,1511,1706,2011,2408,2636,2877,5589,6586,6967,7499,7985,8385,737,827,899,1000,1068,1132,1552,1730,1916,2112,2267,2440,22255,25590,29895,34124,37505,41090,566,657,711,806,922,1082,321,338,389,461,512,543,1591,1858,2093,2402,2585,2870,719,879,989,1159,1251,1326,1108,1270,1535,1632,1840,2005,368,393,450,593,673,783,1580,1834,2113,2291,2367,2722,1012,1077,1248,1426,1618,1662,1073,1177,1358,1455,1638,1738,3557,3824,4915,5276,5675,6906,2578,3056,3455,3975,4437,4986,4747,5444,5967,6383,6742,7558,4402,4952,5773,6566,7117,8150,5805,7021,8420,10110,11590,13075,7738,8966,10402,11736,12500,13837,344,376,432,456,470,499,2689,2868,3032,3265,3538,3753,9292,10791,12669,14225,15633,17129,669,891,1012,1076,1100,1170,6978,7695,8904,10357,11276,12262,6424,9152,10299,12500,13014,14867,363,403,495,544,624,686,1413,1600,1769,2019,2269,2466,624,683,738,743,853,927,249,273,297,339,377,438,191,217,242,282,325,347,1293,1554,1700,1917,2049,2232,84364,93360,103689,115963,124085,133389,586,653,757,902,998,1097,674,747,762,909,1048,1057,2548,2903,3312,3739,4043,4450,143,146,156,169,183,189,415,479,540,621,669,715,147,159,173,186,207,225,549,614,699,786,868,946,219,241,262,281,298,319,258,283,317,349,369,385,1985,2331,2758,3125,3609,4045,3346,3728,4182,4574,4950,5172],[null,689,742,789,865,935,986,9857,11190,12569,13796,15202,16361,7769,9000,10260,11537,12342,13621,138,154,167,189,200,213,129,165,187,212,240,288,489,554,625,702,769,854,1279,1458,1549,1758,1880,1971,1511,1706,2011,2408,2636,2877,5589,6586,6967,7499,7985,8385,737,827,899,1000,1068,1132,1552,1730,1916,2112,2267,2440,22255,25590,29895,34124,37505,41090,566,657,711,806,922,1082,321,338,389,461,512,543,1591,1858,2093,2402,2585,2870,719,879,989,1159,1251,1326,1108,1270,1535,1632,1840,2005,368,393,450,593,673,783,1580,1834,2113,2291,2367,2722,1012,1077,1248,1426,1618,1662,1073,1177,1358,1455,1638,1738,3557,3824,4915,5276,5675,6906,2578,3056,3455,3975,4437,4986,4747,5444,5967,6383,6742,7558,4402,4952,5773,6566,7117,8150,5805,7021,8420,10110,11590,13075,7738,8966,10402,11736,12500,13837,344,376,432,456,470,499,2689,2868,3032,3265,3538,3753,9292,10791,12669,14225,15633,17129,669,891,1012,1076,1100,1170,6978,7695,8904,10357,11276,12262,6424,9152,10299,12500,13014,14867,363,403,495,544,624,686,1413,1600,1769,2019,2269,2466,624,683,738,743,853,927,249,273,297,339,377,438,191,217,242,282,325,347,1293,1554,1700,1917,2049,2232,84364,93360,103689,115963,124085,133389,586,653,757,902,998,1097,674,747,762,909,1048,1057,2548,2903,3312,3739,4043,4450,143,146,156,169,183,189,415,479,540,621,669,715,147,159,173,186,207,225,549,614,699,786,868,946,219,241,262,281,298,319,258,283,317,349,369,385,1985,2331,2758,3125,3609,4045,3346,3728,4182,4574,4950],[null,689,742,789,865,935,null,9857,11190,12569,13796,15202,null,7769,9000,10260,11537,12342,null,138,154,167,189,200,null,129,165,187,212,240,null,489,554,625,702,769,null,1279,1458,1549,1758,1880,null,1511,1706,2011,2408,2636,null,5589,6586,6967,7499,7985,null,737,827,899,1000,1068,null,1552,1730,1916,2112,2267,null,22255,25590,29895,34124,37505,null,566,657,711,806,922,null,321,338,389,461,512,null,1591,1858,2093,2402,2585,null,719,879,989,1159,1251,null,1108,1270,1535,1632,1840,null,368,393,450,593,673,null,1580,1834,2113,2291,2367,null,1012,1077,1248,1426,1618,null,1073,1177,1358,1455,1638,null,3557,3824,4915,5276,5675,null,2578,3056,3455,3975,4437,null,4747,5444,5967,6383,6742,null,4402,4952,5773,6566,7117,null,5805,7021,8420,10110,11590,null,7738,8966,10402,11736,12500,null,344,376,432,456,470,null,2689,2868,3032,3265,3538,null,9292,10791,12669,14225,15633,null,669,891,1012,1076,1100,null,6978,7695,8904,10357,11276,null,6424,9152,10299,12500,13014,null,363,403,495,544,624,null,1413,1600,1769,2019,2269,null,624,683,738,743,853,null,249,273,297,339,377,null,191,217,242,282,325,null,1293,1554,1700,1917,2049,null,84364,93360,103689,115963,124085,null,586,653,757,902,998,null,674,747,762,909,1048,null,2548,2903,3312,3739,4043,null,143,146,156,169,183,null,415,479,540,621,669,null,147,159,173,186,207,null,549,614,699,786,868,null,219,241,262,281,298,null,258,283,317,349,369,null,1985,2331,2758,3125,3609,null,3346,3728,4182,4574,4950],[null,53,47,76,70,51,8871,1333,1379,1227,1406,1159,-8592,1231,1260,1277,805,1279,-13483,16,13,22,11,13,-84,36,22,25,28,48,201,65,71,77,67,85,425,179,91,209,122,91,-460,195,305,397,228,241,2712,997,381,532,486,400,-7648,90,72,101,68,64,420,178,186,196,155,173,19815,3335,4305,4229,3381,3585,-40524,91,54,95,116,160,-761,17,51,72,51,31,1048,267,235,309,183,285,-2151,160,110,170,92,75,-218,162,265,97,208,165,-1637,25,57,143,80,110,797,254,279,178,76,355,-1710,65,171,178,192,44,-589,104,181,97,183,100,1819,267,1091,361,399,1231,-4328,478,399,520,462,549,-239,697,523,416,359,816,-3156,550,821,793,551,1033,-2345,1216,1399,1690,1480,1485,-5337,1228,1436,1334,764,1337,-13493,32,56,24,14,29,2190,179,164,233,273,215,5539,1499,1878,1556,1408,1496,-16460,222,121,64,24,70,5808,717,1209,1453,919,986,-5838,2728,1147,2201,514,1853,-14504,40,92,49,80,62,727,187,169,250,250,197,-1842,59,55,5,110,74,-678,24,24,42,38,61,-247,26,25,40,43,22,946,261,146,217,132,183,82132,8996,10329,12274,8122,9304,-132803,67,104,145,96,99,-423,73,15,147,139,9,1491,355,409,427,304,407,-4307,3,10,13,14,6,226,64,61,81,48,46,-568,12,14,13,21,18,324,65,85,87,82,78,-727,22,21,19,17,21,-61,25,34,32,20,16,1600,346,427,367,484,436,-699,382,454,392,376,222],[null,53,47,76,70,51,null,1333,1379,1227,1406,1159,null,1231,1260,1277,805,1279,null,16,13,22,11,13,null,36,22,25,28,48,null,65,71,77,67,85,null,179,91,209,122,91,null,195,305,397,228,241,null,997,381,532,486,400,null,90,72,101,68,64,null,178,186,196,155,173,null,3335,4305,4229,3381,3585,null,91,54,95,116,160,null,17,51,72,51,31,null,267,235,309,183,285,null,160,110,170,92,75,null,162,265,97,208,165,null,25,57,143,80,110,null,254,279,178,76,355,null,65,171,178,192,44,null,104,181,97,183,100,null,267,1091,361,399,1231,null,478,399,520,462,549,null,697,523,416,359,816,null,550,821,793,551,1033,null,1216,1399,1690,1480,1485,null,1228,1436,1334,764,1337,null,32,56,24,14,29,null,179,164,233,273,215,null,1499,1878,1556,1408,1496,null,222,121,64,24,70,null,717,1209,1453,919,986,null,2728,1147,2201,514,1853,null,40,92,49,80,62,null,187,169,250,250,197,null,59,55,5,110,74,null,24,24,42,38,61,null,26,25,40,43,22,null,261,146,217,132,183,null,8996,10329,12274,8122,9304,null,67,104,145,96,99,null,73,15,147,139,9,null,355,409,427,304,407,null,3,10,13,14,6,null,64,61,81,48,46,null,12,14,13,21,18,null,65,85,87,82,78,null,22,21,19,17,21,null,25,34,32,20,16,null,346,427,367,484,436,null,382,454,392,376,222]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>state<\/th>\n      <th>date<\/th>\n      <th>confirmed<\/th>\n      <th>lag_no_grp<\/th>\n      <th>lag_grp<\/th>\n      <th>new_cases_no_grp<\/th>\n      <th>new_cases<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[3,4,5,6,7]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"state","targets":1},{"name":"date","targets":2},{"name":"confirmed","targets":3},{"name":"lag_no_grp","targets":4},{"name":"lag_grp","targets":5},{"name":"new_cases_no_grp","targets":6},{"name":"new_cases","targets":7}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="create-a-variable-called-new_cases_pc" class="slide level2 smaller">
<h2>Create a variable called <code>new_cases_pc</code></h2>
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-5-1">Task</a></li><li><a href="#tabset-5-2">Code - Wrangling</a></li><li><a href="#tabset-5-3">Code - Checking</a></li><li><a href="#tabset-5-4">Data</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1">
<ul>
<li>Scale <code>new_cases</code> by <code>population</code> to create a per capita measure (<code>new_cases_pc</code>)</li>
</ul>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>We can create <span class="blue">multiple</span> variables in a single <code>mutate()</code> by separating lines of code with a <code>,</code></p>
</div>
</div>
</div>
</div>
<div id="tabset-5-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb30-3"><a></a>    <span class="at">state =</span> administrative_area_level_2,</span>
<span id="cb30-4"><a></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb30-5"><a></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(state) <span class="sc">%&gt;%</span></span>
<span id="cb30-6"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb30-7"><a></a>    <span class="at">new_cases =</span> confirmed <span class="sc">-</span> <span class="fu">lag</span>(confirmed),</span>
<span id="cb30-8"><a></a>    <span class="at">new_cases_pc =</span> new_cases <span class="sc">/</span> population <span class="sc">*</span><span class="dv">100000</span></span>
<span id="cb30-9"><a></a>    ) <span class="ot">-&gt;</span>covid_us</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-5-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a></a><span class="co"># Check recoding</span></span>
<span id="cb31-2"><a></a>covid_us <span class="sc">%&gt;%</span> </span>
<span id="cb31-3"><a></a>  <span class="co"># Look at two states</span></span>
<span id="cb31-4"><a></a>  <span class="fu">filter</span>(state <span class="sc">==</span> <span class="st">"Rhode Island"</span> <span class="sc">|</span> state <span class="sc">==</span> <span class="st">"New York"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb31-5"><a></a>  <span class="co"># In a small date range</span></span>
<span id="cb31-6"><a></a>  <span class="fu">filter</span>(date <span class="sc">&gt;</span> <span class="st">"2021-01-01"</span> <span class="sc">&amp;</span> date <span class="sc">&lt;</span> <span class="st">"2021-01-05"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb31-7"><a></a>  <span class="co"># Select only the columns we want</span></span>
<span id="cb31-8"><a></a>  <span class="fu">select</span>(state, date, new_cases, new_cases_pc) <span class="ot">-&gt;</span> hlo_df</span>
<span id="cb31-9"><a></a><span class="co"># save to object hlo_df</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-5-4">
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a></a>hlo_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
# Groups:   state [2]
  state        date       new_cases new_cases_pc
  &lt;chr&gt;        &lt;date&gt;         &lt;int&gt;        &lt;dbl&gt;
1 Rhode Island 2021-01-02         0          0  
2 Rhode Island 2021-01-03         0          0  
3 Rhode Island 2021-01-04      4759        449. 
4 New York     2021-01-02     15849         81.5
5 New York     2021-01-03     12232         62.9
6 New York     2021-01-04     11242         57.8</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="created-a-variable-called-face_masks" class="slide level2 smaller">
<h2>Created a variable called <code>face_masks</code></h2>
<div class="panel-tabset">
<ul id="tabset-6" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-6-1">Task</a></li><li><a href="#tabset-6-2">HLO</a></li><li><a href="#tabset-6-3">Code</a></li><li><a href="#tabset-6-4">Check</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1">
<p>Create a variable called <code>face_masks</code> from the <code>facial_coverings</code> that describes the face mask policy experienced by most people in a given state on a given date.</p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Use <code>case_when()</code> inside of <code>mutate()</code> to create a variable that takes certain values when certain logical statements are true</li>
<li>Seting the <code>levels = c(value1, value2, etc.)</code> argument in <code>factor()</code> lets us control the <span class="blue">ordering</span> of categorical/character data.</li>
</ul>
</div>
</div>
</div>
</div>
<div id="tabset-6-2">
<p>Recall, that the <code>facial_coverings</code> variable took on range of substantive values from 0 to 4, but empirically could take both positve and negative values</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a></a><span class="fu">table</span>(covid_us<span class="sc">$</span>facial_coverings)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   -4    -3    -2    -1     0     1     2     3     4 
  410  5897  7362   275  3893  8604 17424  9191   622 </code></pre>
</div>
</div>
</div>
<div id="tabset-6-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb36-2"><a></a><span class="fu">mutate</span>(</span>
<span id="cb36-3"><a></a>    <span class="at">face_masks =</span> <span class="fu">case_when</span>(</span>
<span id="cb36-4"><a></a>      facial_coverings <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"No policy"</span>,</span>
<span id="cb36-5"><a></a>      <span class="fu">abs</span>(facial_coverings) <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"Recommended"</span>,</span>
<span id="cb36-6"><a></a>      <span class="fu">abs</span>(facial_coverings) <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"Some requirements"</span>,</span>
<span id="cb36-7"><a></a>      <span class="fu">abs</span>(facial_coverings) <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"Required shared places"</span>,</span>
<span id="cb36-8"><a></a>      <span class="fu">abs</span>(facial_coverings) <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"Required all times"</span>,</span>
<span id="cb36-9"><a></a>    ) <span class="sc">%&gt;%</span> <span class="fu">factor</span>(.,</span>
<span id="cb36-10"><a></a>      <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"No policy"</span>,<span class="st">"Recommended"</span>,</span>
<span id="cb36-11"><a></a>                 <span class="st">"Some requirements"</span>,</span>
<span id="cb36-12"><a></a>                 <span class="st">"Required shared places"</span>,</span>
<span id="cb36-13"><a></a>                 <span class="st">"Required all times"</span>)</span>
<span id="cb36-14"><a></a>    ) </span>
<span id="cb36-15"><a></a>    ) <span class="ot">-&gt;</span> covid_us</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-6-4">
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a></a>covid_us<span class="sc">%&gt;%</span></span>
<span id="cb37-2"><a></a>  <span class="fu">filter</span>(state <span class="sc">==</span> <span class="st">"Illinois"</span>, date <span class="sc">&gt;</span> <span class="st">"2020-9-28"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-3"><a></a>  <span class="fu">select</span>(state, date, facial_coverings, face_masks) <span class="sc">%&gt;%</span> </span>
<span id="cb37-4"><a></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 4
# Groups:   state [1]
  state    date       facial_coverings face_masks        
  &lt;chr&gt;    &lt;date&gt;                &lt;int&gt; &lt;fct&gt;             
1 Illinois 2020-09-29                2 Some requirements 
2 Illinois 2020-09-30                2 Some requirements 
3 Illinois 2020-10-01               -4 Required all times
4 Illinois 2020-10-02               -4 Required all times
5 Illinois 2020-10-03               -4 Required all times</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="addtional-recoding" class="slide level2">
<h2><i class="fa-solid fa-face-meh" aria-label="face-meh"></i> Addtional recoding</h2>
<p>In last week’s lab, we also added the following</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb39-2"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb39-3"><a></a>    <span class="at">year =</span> <span class="fu">year</span>(date),</span>
<span id="cb39-4"><a></a>    <span class="at">month =</span> <span class="fu">month</span>(date),</span>
<span id="cb39-5"><a></a>    <span class="at">year_month =</span> <span class="fu">paste</span>(</span>
<span id="cb39-6"><a></a>      year, </span>
<span id="cb39-7"><a></a>      <span class="fu">str_pad</span>(month, <span class="at">width =</span> <span class="dv">2</span>, <span class="at">pad=</span><span class="dv">0</span>), </span>
<span id="cb39-8"><a></a>      <span class="at">sep =</span> <span class="st">"-"</span></span>
<span id="cb39-9"><a></a>      ),</span>
<span id="cb39-10"><a></a>    <span class="at">percent_vaccinated =</span> people_fully_vaccinated<span class="sc">/</span>population<span class="sc">*</span><span class="dv">100</span>  </span>
<span id="cb39-11"><a></a>    ) <span class="ot">-&gt;</span> covid_us</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="working-with-dates" class="slide level2">
<h2><i class="fa-solid fa-face-meh" aria-label="face-meh"></i> Working with dates</h2>
<p>R treats dates differently</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a></a>covid_us<span class="sc">$</span>date[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2020-01-01" "2020-01-02" "2020-01-03"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a></a><span class="fu">class</span>(covid_us<span class="sc">$</span>date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
</div>
<p>If R knows a variable is a date, we can extract components of that date, using functions from the <code>lubridate</code> package</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a></a><span class="fu">year</span>(covid_us<span class="sc">$</span>date[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2020 2020 2020</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a></a><span class="fu">month</span>(covid_us<span class="sc">$</span>date[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 1 1</code></pre>
</div>
</div>
</section>
<section id="the-str_pad-and-paste-function" class="slide level2">
<h2><i class="fa-solid fa-face-meh" aria-label="face-meh"></i> The <code>str_pad()</code> and <code>paste()</code> function</h2>
<ul>
<li class="fragment">The <code>str_pad()</code> function lets us ‘pad’ strings so that they’re all the same width</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a></a><span class="fu">month</span>(covid_us<span class="sc">$</span>date[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 1 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a></a><span class="fu">str_pad</span>(<span class="fu">month</span>(covid_us<span class="sc">$</span>date[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]), <span class="at">width=</span><span class="dv">2</span>, <span class="at">pad =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "01" "01" "01"</code></pre>
</div>
</div>
<ul>
<li class="fragment">The <code>paste</code> function lets us paste objects together.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a></a><span class="fu">paste</span>(<span class="fu">year</span>(covid_us<span class="sc">$</span>date[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]),</span>
<span id="cb52-2"><a></a>      <span class="fu">str_pad</span>(<span class="fu">month</span>(covid_us<span class="sc">$</span>date[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]), <span class="at">width=</span><span class="dv">2</span>, <span class="at">pad =</span> <span class="dv">0</span>),</span>
<span id="cb52-3"><a></a>      <span class="at">sep =</span> <span class="st">"-"</span></span>
<span id="cb52-4"><a></a>      )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2020-01" "2020-01" "2020-01"</code></pre>
</div>
</div>
</section>
<section id="summarizing-the-averge-number-of-new_cases-by-face_mask-policy" class="slide level2 smaller">
<h2>Summarizing the averge number of <code>new_cases</code> by <code>face_mask</code> policy</h2>
<div class="panel-tabset">
<ul id="tabset-7" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-7-1">Task</a></li><li><a href="#tabset-7-2">Code</a></li><li><a href="#tabset-7-3">Results</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1">
<p>Calculate the mean (average) number of <code>new_cases</code> of Covid-19 when each type of <code>face_mask</code> policy was in effect</p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<ul>
<li class="fragment">The <code>group_by()</code> command will do each calculation inside of <code>summarise()</code> for each level of the grouping variable</li>
</ul>
</div>
</div>
</div>
</div>
<div id="tabset-7-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb54-2"><a></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(face_masks)) <span class="sc">%&gt;%</span></span>
<span id="cb54-3"><a></a>  <span class="fu">group_by</span>(face_masks) <span class="sc">%&gt;%</span></span>
<span id="cb54-4"><a></a>  <span class="fu">summarize</span>(</span>
<span id="cb54-5"><a></a>    <span class="at">new_cases_pc =</span> <span class="fu">mean</span>(new_cases_pc, <span class="at">na.rm=</span>T)</span>
<span id="cb54-6"><a></a>  ) <span class="ot">-&gt;</span> face_mask_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-7-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a></a>face_mask_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  face_masks             new_cases_pc
  &lt;fct&gt;                         &lt;dbl&gt;
1 No policy                      10.3
2 Recommended                    16.6
3 Some requirements              36.2
4 Required shared places         29.4
5 Required all times             32.2</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="summarizing-the-averge-number-of-new_cases-by-face_mask-policy-by-month" class="slide level2 smaller">
<h2>Summarizing the averge number of <code>new_cases</code> by <code>face_mask</code> policy by month</h2>
<div class="panel-tabset">
<ul id="tabset-8" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-8-1">Task</a></li><li><a href="#tabset-8-2">Code</a></li><li><a href="#tabset-8-3">Results</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1">
<p>Calculate the mean (average) number of <code>new_cases</code> of Covid-19 when each type of <code>face_mask</code> policy was in effect for each <code>year_month</code> in our dataset</p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<ul>
<li class="fragment">The <code>group_by()</code> command can group on <span class="blue">multiple</span> variables</li>
</ul>
</div>
</div>
</div>
</div>
<div id="tabset-8-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb57-2"><a></a>  <span class="fu">group_by</span>(face_masks, year_month) <span class="sc">%&gt;%</span></span>
<span id="cb57-3"><a></a>  <span class="fu">summarize</span>(</span>
<span id="cb57-4"><a></a>    <span class="at">new_cases_pc =</span> <span class="fu">mean</span>(new_cases_pc, <span class="at">na.rm=</span>T)</span>
<span id="cb57-5"><a></a>  ) <span class="ot">-&gt;</span> cases_by_month_and_policy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-8-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a></a>cases_by_month_and_policy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 102 × 3
# Groups:   face_masks [5]
   face_masks year_month new_cases_pc
   &lt;fct&gt;      &lt;chr&gt;             &lt;dbl&gt;
 1 No policy  2020-01        0.000463
 2 No policy  2020-02        0.00188 
 3 No policy  2020-03        1.70    
 4 No policy  2020-04        6.50    
 5 No policy  2022-04       19.8     
 6 No policy  2022-05       20.4     
 7 No policy  2022-06       37.6     
 8 No policy  2022-07       36.2     
 9 No policy  2022-08       35.7     
10 No policy  2022-09       19.0     
# ℹ 92 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a></a><span class="co"># In base R:</span></span>
<span id="cb60-2"><a></a><span class="fu">mean</span>(</span>
<span id="cb60-3"><a></a>  covid_us<span class="sc">$</span>new_cases_pc[</span>
<span id="cb60-4"><a></a>    covid_us<span class="sc">$</span>face_masks <span class="sc">==</span> <span class="st">"No policy"</span> <span class="sc">&amp;</span></span>
<span id="cb60-5"><a></a>      covid_us<span class="sc">$</span>year_month <span class="sc">==</span> <span class="st">"2020-01"</span>], <span class="at">na.rm =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.0004626161</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="concept-check-1" class="slide level2 smaller">
<h2><i class="fa-solid fa-lightbulb" aria-label="lightbulb"></i> Concept check</h2>
<p>Suppose you want to do the following, what function or functions would you use:</p>
<ul>
<li class="fragment">Read data into <code>R</code></li>
<li class="fragment">Look at the data to get a high level overview of its structure</li>
<li class="fragment">Subset or filter the data to include just observations with certain values</li>
<li class="fragment">Select specific columns from data</li>
<li class="fragment">Add new columns to the data</li>
<li class="fragment">Summarize multiple values by collapsing them into a single value</li>
<li class="fragment">Doing some function group-by-group?</li>
</ul>
</section>
<section id="concept-check-2" class="slide level2 smaller">
<h2>Concept check</h2>
<p>Suppose you want to do the following, what function or functions would you use:</p>
<ul>
<li class="fragment">Read data into <code>R</code>
<ul>
<li class="fragment"><code>read_xxx()</code> (tidy), <code>read.xxx()</code> (base)</li>
</ul></li>
<li class="fragment">Look at the data to get a high level overview of its structure
<ul>
<li class="fragment"><code>head()</code>, <code>tail()</code>, <code>glimpse()</code>, <code>table()</code>, <code>summary()</code>, <code>View()</code></li>
</ul></li>
<li class="fragment">Filter the data to include just observations with certain values
<ul>
<li class="fragment"><code>data %&gt;% filter(x &gt; 0)</code>, <code>data[data$x &gt; 0]</code>, <code>subset(data, x &gt; 0)</code></li>
</ul></li>
<li class="fragment">Select specific columns from data
<ul>
<li class="fragment"><code>data$variable</code>, <code>data %&gt;% select(variable1, variable2)</code>, <code>data[,c("x1","x2")]</code></li>
</ul></li>
<li class="fragment">Add new columns to the data
<ul>
<li class="fragment"><code>data %&gt;% mutate(x = y/10)</code> <code>data$x &lt;- data$y/10</code></li>
</ul></li>
<li class="fragment">Summarize multiple values by collapsing them into a single value
<ul>
<li class="fragment"><code>data %&gt;% summarise(x_mn = mean(x, na.rm=T))</code></li>
</ul></li>
<li class="fragment">Doing some function group-by-group?
<ul>
<li class="fragment"><code>data %&gt;% group_by(g) %&gt;% summarise(x_mn = mean(x, na.rm=T))</code></li>
</ul></li>
</ul>
</section>
<section id="concept-check-3" class="slide level2 smaller">
<h2>Concept check</h2>
<p>Should you know exactly how to do all of this?</p>
<div class="fragment">
<p><strong>NO! Of course not. For Pete’s sake, Paul, It’s only the second week</strong></p>
</div>
<div class="fragment">
<p>Will you learn how to do much of this?</p>
</div>
<div class="fragment">
<p><strong>Maybe, but I’m feeling pretty overwhelmed…</strong></p>
</div>
<div class="fragment">
<p>How will you learn how do these things?</p>
</div>
<div class="fragment">
<p><strong>With lots of practice, patience, and repetition motivated by a sense that these skills will help me learn about things I care about</strong></p>
</div>
</section>
<section id="advice-on-learning-how-to-code" class="slide level2 smaller">
<h2>Advice on learning how to code</h2>
<ul>
<li class="fragment">It takes lots of practice and lots of errors
<ul>
<li class="fragment">Break long blocks of code into individual steps to see what’s happening</li>
</ul></li>
<li class="fragment">Create code chunks and FAFO
<ul>
<li class="fragment">Just clean up when you’re done…</li>
</ul></li>
<li class="fragment">Only dumb question is one you don’t ask</li>
<li class="fragment">Google, Stack Exchange are your friends</li>
<li class="fragment">Try writing out in comments what you want to do in code</li>
<li class="fragment">Learn to recognize patterns in the questions/tasks I give you:
<ul>
<li class="fragment">Copy and paste code I give</li>
<li class="fragment">Change one thing</li>
<li class="fragment">Fix the error</li>
<li class="fragment">Adapt code from class to do a similar thing</li>
</ul></li>
<li class="fragment">Learning to code is much less painful when you have a reason to do it
<ul>
<li class="fragment">Let me know what interests you</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="descriptive-statistics" class="title-slide slide level1 inverse center">
<h1><i class="fa-solid fa-magnifying-glass" aria-label="magnifying-glass"></i> Descriptive Statistics</h1>

</section>
<section id="descriptive-statistics-1" class="slide level2 smaller">
<h2>Descriptive Statistics</h2>
<p>When social scientists talk about descriptive inference, we’re trying to summarize our data and make claims about what’s <em>typical</em> of our data</p>
<ul>
<li class="fragment">What’s a typical value
<ul>
<li class="fragment"><span class="blue">Measures of central tendency</span></li>
<li class="fragment">mean, median, mode</li>
</ul></li>
<li class="fragment">How do our data vary around typical values
<ul>
<li class="fragment"><span class="blue">Measures of dispersion</span></li>
<li class="fragment">variance, standard deviation, range, percentile ranges</li>
</ul></li>
<li class="fragment">How does variation in one variable relate to variation in another
<ul>
<li class="fragment"><span class="blue">Measures of association</span></li>
<li class="fragment">covariance, correlation</li>
</ul></li>
</ul>
</section>
<section id="using-r-to-summarize-data" class="slide level2 smaller">
<h2>Using R to Summarize Data</h2>
<p>Here are some common ways of summarizing data and how to calculate them with <code>R</code></p>
<table class="caption-top" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Description</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">sum</td>
<td style="text-align: left;">sum(x)</td>
</tr>
<tr class="even">
<td style="text-align: left;">minimum</td>
<td style="text-align: left;">min(x)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">maximum</td>
<td style="text-align: left;">max(x)</td>
</tr>
<tr class="even">
<td style="text-align: left;">range</td>
<td style="text-align: left;">range(x)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">mean</td>
<td style="text-align: left;">mean(x)</td>
</tr>
<tr class="even">
<td style="text-align: left;">median</td>
<td style="text-align: left;">median(x)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">percentile</td>
<td style="text-align: left;">quantile(x)</td>
</tr>
<tr class="even">
<td style="text-align: left;">variance</td>
<td style="text-align: left;">var(x)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">standard deviation</td>
<td style="text-align: left;">sd(x)</td>
</tr>
<tr class="even">
<td style="text-align: left;">rank</td>
<td style="text-align: left;">rank(x)</td>
</tr>
</tbody>
</table>
<p>All of these functions have an argument called <code>na.rm=F</code>. If your data have missing values, you’ll need to set <code>na.rm=F</code> (e.g.&nbsp;<code>mean(x, na.rm=T)</code>)</p>
</section>
<section id="what-you-need-to-know-for-pols-1600" class="slide level2 smaller">
<h2>What you need to know for POLS 1600</h2>
<p><strong>Measures of typical values</strong></p>
<ul>
<li class="fragment"><strong>Means</strong> (<code>mean()</code>) all the time</li>
<li class="fragment"><strong>Medians</strong> (<code>median()</code>) useful for describing distributions of variables particularly those with <span class="blue">extreme values</span></li>
<li class="fragment"><strong>Mode</strong> useful for characterizing <span class="blue">categorical</span> data</li>
</ul>
</section>
<section id="what-you-need-to-know-for-pols-1600-1" class="slide level2 smaller">
<h2>What you need to know for POLS 1600</h2>
<p><strong>Measures of typical variation</strong></p>
<ul>
<li class="fragment"><code>var()</code> important for quantifying uncertainty, but rarely will you be calculating this directly</li>
<li class="fragment"><code>sd()</code> a good summary of a <span class="blue">typical change</span> in the data.</li>
<li class="fragment"><code>range()</code>, <code>min()</code>, <code>max()</code> useful for exploring data, detecting outliers and potential values that need to be recoded</li>
</ul>
</section>
<section id="what-you-need-to-know-for-pols-1600-2" class="slide level2 smaller">
<h2>What you need to know for POLS 1600</h2>
<p><strong>Measures of association</strong></p>
<ul>
<li class="fragment">Covariance (<code>var()</code>) central to describing relationships but generally not something you’ll calculate or interpret directly</li>
<li class="fragment">Correlation (<code>cor()</code>) useful for describing [bivariate] relationships (positive or negative relationships).</li>
</ul>
</section>
<section id="what-you-dont-really-need-to-know-for-pols-1600-smaller" class="slide level2">
<h2>What you don’t really need to know for POLS 1600 {smaller}</h2>
<p>We won’t spend much time on the formal definitions, math, and proofs</p>
<p><span class="math display">\[
\bar{x}=\frac{1}{n}\sum_{i=1}^n x_i
\]</span></p>
<p><span class="math display">\[
M_x = X_i : \int_{-\infty}^{x_i} f_x(X)dx=\int_{x_i}^\infty f_x(X)dx=1/2
\]</span></p>
<div class="fragment">
<p>Useful eventually. Not necessary right now.</p>
</div>
</section></section>
<section>
<section id="data-visualization-the-grammar-of-graphics" class="title-slide slide level1 inverse center">
<h1><i class="fa-solid fa-lightbulb" aria-label="lightbulb"></i> Data Visualization: The Grammar of Graphics</h1>

</section>
<section id="data-visualizaiton" class="slide level2">
<h2>Data visualizaiton</h2>
<p>Data visualization is an incredibly valuable tool that helps us to</p>
<ul>
<li class="fragment">Explore data, uncovering new relationships, as well as potential problems</li>
<li class="fragment">Communicate our results clearly and precisely</li>
</ul>
<p>Take a look at how the <a href="https://medium.com/bbc-visual-and-data-journalism/how-the-bbc-visual-and-data-journalism-team-works-with-graphics-in-r-ed0b35693535" target="_blank">BBC</a> uses R to produce its graphics</p>
</section>
<section id="data-visualization" class="slide level2">
<h2>Data visualization</h2>
<p>Today, we will:</p>
<ul>
<li class="fragment">Introduce the <code>grammar of graphics</code></li>
<li class="fragment">Learn how to apply this grammar with <code>ggplot()</code></li>
<li class="fragment">Introduce basic plots to describe
<ul>
<li class="fragment">Univariate distributions</li>
<li class="fragment">Bivariate relations</li>
</ul></li>
</ul>
</section>
<section id="the-grammar-of-graphics" class="slide level2 smaller">
<h2>The Grammar of Graphics</h2>
<p>Inspired by <a href="https://link.springer.com/book/10.1007/0-387-28695-0" target="_blank">Wilkinson (2005)</a></p>
<blockquote>
<p>A statistical graphic is a mapping of <code>data</code> variables to <code>aes</code> thetic attributes of <code>geom</code> etric objects.</p>
</blockquote>
<p>At a minimum, a graphic contains three core components:</p>
<ul>
<li class="fragment"><code>data:</code> the dataset containing the variables of interest.</li>
<li class="fragment"><code>aes</code>: aesthetic attributes of the geometric object. For example, x/y position, color, shape, and size. Aesthetic attributes are mapped to variables in the dataset.</li>
<li class="fragment"><code>geom:</code> the geometric object in question. This refers to the type of object we can observe in a plot For example: points, lines, and bars.</li>
</ul>
<p><a href="https://moderndive.com/2-viz.html#grammarofgraphics" target="_blank">Ismay and Kim (2022)</a></p>
</section>
<section id="seven-layers-of-graphics" class="slide level2" data-background-image="https://miro.medium.com/max/1400/1*ZdQ9wFwaA214ABiib7AygQ.png" data-background-size="contain">
<h2>Seven Layers of Graphics</h2>
<p><a href="https://gkesari.medium.com/my-talk-on-grammar-of-graphics-the-secret-sauce-of-powerful-data-stories-3da618cf1bbf" target="_blank">Kesari (2018)</a></p>
</section>
<section id="the-grammar-of-graphics-in-r" class="slide level2">
<h2>The grammar of graphics in R</h2>
<p>In R, we’ll implement this grammar of graphics using the <code>ggplot</code> package</p>
<ul>
<li class="fragment">Let’s take a look at your feedback to last week’s survey and see how we can visualize some of the in formation you provided</li>
</ul>
</section></section>
<section>
<section id="feedback" class="title-slide slide level1 inverse center">
<h1><i class="fa-solid fa-bullhorn" aria-label="bullhorn"></i> Feedback</h1>

</section>
<section id="what-we-liked" class="slide level2 smaller">
<h2>What we liked</h2>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-efb69d72ff016724da06" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-efb69d72ff016724da06">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12"],["","So far I appreciate the group projects more than I thought I would!","I liked doing labs in class.","I really liked finally beginning to understand how coding works. I find practicing in class really useful.","I liked the graphs!! I love graphs","Having had no background in coding, I've really enjoyed simply being introduced to R and learning the basics of what goes into it. More specifically, I liked our lesson today when we learned how to create histograms from the data.","The general coding process honestly - I've never coded so it was really interesting and engaging for me!","I liked learning and running new functions/commands in R Studio. I have never written code before, so I enjoyed writing it and then running it because you get instantaneous results.","I liked the feeling of successfully completing the lab.","I liked learning how to create graphs with R","Both labs and collaborating to find solutions.","I really liked the labs, and found them interesting and useful – a good way to apply the knowledge."]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>like<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"like","targets":1}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="what-we-disliked" class="slide level2 smaller">
<h2>What we disliked</h2>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-468d5af166bbd5612ac2" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-468d5af166bbd5612ac2">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12"],["","Most of my teammembers (myself included) don't have the textbook yet (we've purchased them, but are still on their way to PVD), so running the labs has been a little confusing as I still feel a little shaky on the basics. I'm optimistic this will change once Imai is delivered, though!","I found it frustrating trying to figure out codes today because I had a hard time figuring out the codes I needed.","The first lab on Wednesday was confusing because my partner and I were having some software difficulties, and didn't understand most of what was going on during the whole class.","I didn’t find anything too confusing or difficult.","This is likely due to me entering the class late, but I felt that I was not prepared for the first lab, and although I did look it over before class and attempt to understand it, I felt extremely lost in class when trying to answer the questions with my group.","I'm having a hard time understanding the applications of the textbook information to lecture/labs, except for small things, which makes it difficult to motivate myself to read the textbook. Maybe future chapters will be more applicable, though! I'll definitely keep reading it and assuming that there are practical applications.","I think the labs are too long, which stresses me out. We didn't finish either lab (we barely made it halfway through either), which adds stress because what if we didn't get to the randomly selected question. So maybe shorter, more manageable labs would be nice (at least at the beginning of the course).","I found the first portion of Wednesday frustrating because I wasn't able to figure out how to do anything in R for the majority of the class period","Not enough time to complete the labs in class","I found the beginning of the labs a little chaotic when I had questions. Learning the syntax of the code can be frustrating.",""]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>dislike<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"dislike","targets":1}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="section-1" class="slide level2">
<h2></h2>

<img data-src="02-slides_files/figure-html/unnamed-chunk-42-1.png" width="672" class="r-stretch"></section>
<section id="building-that-figure" class="slide level2 scrollable">
<h2>Building that figure</h2>
<ol type="1">
<li class="fragment">Look at the raw data</li>
<li class="fragment">Recode the raw data</li>
<li class="fragment">Make a basic plot, telling R the <code>data</code>, <code>aes</code>thetics, <code>geom</code>etries, and <code>stat</code>istics I want it to plot</li>
<li class="fragment">Tinker with the data and plot’s scales, coordinates, labels and theme to make the figure look better</li>
</ol>
</section>
<section id="look-at-the-raw-data" class="slide level2">
<h2>1. Look at the raw data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a></a>df<span class="sc">$</span>trip</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;labelled&lt;double&gt;[12]&gt;: You're on a road trip with friends. Who controls the music?
 [1] NA  3  1  2  3  2  2  2  1  2  2 NA

Labels:
 value
     1
     2
     3
                                                                                                                               label
                                                                                                                    The driver, duh.
                                                                                                           The front seat, of course
 That jerk in the back who you don't even know but seems to have really strong feelings about Billy Joel's "Only the good die young"</code></pre>
</div>
</div>
</section>
<section id="recode-the-raw-data" class="slide level2">
<h2>2. Recode the raw data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb64" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a></a>df <span class="sc">%&gt;%</span></span>
<span id="cb64-2"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb64-3"><a></a>    <span class="at">Playist =</span> forcats<span class="sc">::</span><span class="fu">as_factor</span>(trip)</span>
<span id="cb64-4"><a></a> )<span class="sc">%&gt;%</span></span>
<span id="cb64-5"><a></a>  <span class="fu">select</span>(Playist)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 1
   Playist                                                                      
   &lt;fct&gt;                                                                        
 1  &lt;NA&gt;                                                                        
 2 "That jerk in the back who you don't even know but seems to have really stro…
 3 "The driver, duh."                                                           
 4 "The front seat, of course"                                                  
 5 "That jerk in the back who you don't even know but seems to have really stro…
 6 "The front seat, of course"                                                  
 7 "The front seat, of course"                                                  
 8 "The front seat, of course"                                                  
 9 "The driver, duh."                                                           
10 "The front seat, of course"                                                  
11 "The front seat, of course"                                                  
12  &lt;NA&gt;                                                                        </code></pre>
</div>
</div>
</section>
<section id="make-a-basic-plot" class="slide level2">
<h2>3. Make a basic plot</h2>
<div class="panel-tabset">
<ul id="tabset-9" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-9-1">Code</a></li><li><a href="#tabset-9-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a></a>df <span class="sc">%&gt;%</span> <span class="co">#&lt;&lt; Raw data</span></span>
<span id="cb66-2"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb66-3"><a></a>    <span class="at">Playlist =</span>forcats<span class="sc">::</span><span class="fu">as_factor</span>(trip)</span>
<span id="cb66-4"><a></a>  ) <span class="sc">%&gt;%</span> <span class="co"># Transformed data</span></span>
<span id="cb66-5"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Playlist, <span class="co"># Aesthetics</span></span>
<span id="cb66-6"><a></a>             <span class="at">fill =</span> Playlist))<span class="sc">+</span></span>
<span id="cb66-7"><a></a>  <span class="fu">geom_bar</span>( <span class="co"># Geometry</span></span>
<span id="cb66-8"><a></a>    <span class="at">stat =</span> <span class="st">"count"</span> <span class="co"># Statistic</span></span>
<span id="cb66-9"><a></a>    ) <span class="ot">-&gt;</span> fig_roadtrip</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-9-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a></a>fig_roadtrip</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02-slides_files/figure-html/unnamed-chunk-46-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tinker-with-data" class="slide level2">
<h2>4.1 Tinker with data</h2>
<div class="panel-tabset">
<ul id="tabset-10" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-10-1">Code</a></li><li><a href="#tabset-10-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-10-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb68" data-code-line-numbers="2|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a></a>df <span class="sc">%&gt;%</span></span>
<span id="cb68-2"><a></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(trip)) <span class="sc">%&gt;%</span> </span>
<span id="cb68-3"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb68-4"><a></a>    <span class="at">Playlist =</span><span class="fu">str_wrap</span>(forcats<span class="sc">::</span><span class="fu">as_factor</span>(trip),<span class="dv">20</span>)</span>
<span id="cb68-5"><a></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb68-6"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Playlist,</span>
<span id="cb68-7"><a></a>             <span class="at">fill =</span> Playlist))<span class="sc">+</span></span>
<span id="cb68-8"><a></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"count"</span>) <span class="ot">-&gt;</span> fig_roadtrip</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-10-2">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02-slides_files/figure-html/unnamed-chunk-48-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tinker-with-fill-aesthetic" class="slide level2">
<h2>4.2 Tinker with <code>fill</code> aesthetic</h2>
<div class="panel-tabset">
<ul id="tabset-11" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-11-1">Code</a></li><li><a href="#tabset-11-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-11-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb69" data-code-line-numbers="9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a></a>df <span class="sc">%&gt;%</span></span>
<span id="cb69-2"><a></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(trip)) <span class="sc">%&gt;%</span> </span>
<span id="cb69-3"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb69-4"><a></a>    <span class="at">Playlist =</span><span class="fu">str_wrap</span>(forcats<span class="sc">::</span><span class="fu">as_factor</span>(trip),<span class="dv">20</span>)</span>
<span id="cb69-5"><a></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb69-6"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Playlist,</span>
<span id="cb69-7"><a></a>             <span class="at">fill =</span> Playlist))<span class="sc">+</span></span>
<span id="cb69-8"><a></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"count"</span>)<span class="sc">+</span></span>
<span id="cb69-9"><a></a>  <span class="fu">scale_fill_brewer</span>() <span class="ot">-&gt;</span> fig_roadtrip</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-11-2">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02-slides_files/figure-html/unnamed-chunk-50-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tinker-with-coordinates" class="slide level2">
<h2>4.3 Tinker with coordinates</h2>
<div class="panel-tabset">
<ul id="tabset-12" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-12-1">Code</a></li><li><a href="#tabset-12-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-12-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb70" data-code-line-numbers="10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a></a>df <span class="sc">%&gt;%</span></span>
<span id="cb70-2"><a></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(trip)) <span class="sc">%&gt;%</span> </span>
<span id="cb70-3"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb70-4"><a></a>    <span class="at">Playlist =</span><span class="fu">str_wrap</span>(forcats<span class="sc">::</span><span class="fu">as_factor</span>(trip),<span class="dv">20</span>)</span>
<span id="cb70-5"><a></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb70-6"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Playlist,</span>
<span id="cb70-7"><a></a>             <span class="at">fill =</span> Playlist))<span class="sc">+</span></span>
<span id="cb70-8"><a></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"count"</span>)<span class="sc">+</span></span>
<span id="cb70-9"><a></a>  <span class="fu">scale_fill_brewer</span>() <span class="sc">+</span></span>
<span id="cb70-10"><a></a>  <span class="fu">coord_flip</span>() <span class="ot">-&gt;</span> fig_roadtrip</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-12-2">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02-slides_files/figure-html/unnamed-chunk-52-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tinker-with-labels" class="slide level2">
<h2>4.4 Tinker with labels</h2>
<div class="panel-tabset">
<ul id="tabset-13" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-13-1">Code</a></li><li><a href="#tabset-13-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-13-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb71" data-code-line-numbers="9|11-13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a></a>df <span class="sc">%&gt;%</span></span>
<span id="cb71-2"><a></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(trip)) <span class="sc">%&gt;%</span> </span>
<span id="cb71-3"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb71-4"><a></a>    <span class="at">Playlist =</span><span class="fu">str_wrap</span>(forcats<span class="sc">::</span><span class="fu">as_factor</span>(trip),<span class="dv">20</span>)</span>
<span id="cb71-5"><a></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb71-6"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Playlist,</span>
<span id="cb71-7"><a></a>             <span class="at">fill =</span> Playlist))<span class="sc">+</span></span>
<span id="cb71-8"><a></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"count"</span>)<span class="sc">+</span></span>
<span id="cb71-9"><a></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">guide=</span><span class="st">"none"</span>)<span class="sc">+</span></span>
<span id="cb71-10"><a></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb71-11"><a></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Who controls the playlist"</span>,</span>
<span id="cb71-12"><a></a>       <span class="at">x=</span> <span class="st">""</span>,</span>
<span id="cb71-13"><a></a>       <span class="at">y =</span> <span class="st">""</span>)<span class="ot">-&gt;</span> fig_roadtrip</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-13-2">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02-slides_files/figure-html/unnamed-chunk-54-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tinker-with-theme" class="slide level2">
<h2>4.4 Tinker with theme</h2>
<div class="panel-tabset">
<ul id="tabset-14" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-14-1">Code</a></li><li><a href="#tabset-14-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-14-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb72" data-code-line-numbers="14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a></a>df <span class="sc">%&gt;%</span></span>
<span id="cb72-2"><a></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(trip)) <span class="sc">%&gt;%</span> </span>
<span id="cb72-3"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb72-4"><a></a>    <span class="at">Playlist =</span><span class="fu">str_wrap</span>(forcats<span class="sc">::</span><span class="fu">as_factor</span>(trip),<span class="dv">20</span>)</span>
<span id="cb72-5"><a></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb72-6"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Playlist,</span>
<span id="cb72-7"><a></a>             <span class="at">fill =</span> Playlist))<span class="sc">+</span></span>
<span id="cb72-8"><a></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"count"</span>)<span class="sc">+</span></span>
<span id="cb72-9"><a></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">guide=</span><span class="st">"none"</span>)<span class="sc">+</span></span>
<span id="cb72-10"><a></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb72-11"><a></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Who controls the playlist"</span>,</span>
<span id="cb72-12"><a></a>       <span class="at">x=</span> <span class="st">""</span>,</span>
<span id="cb72-13"><a></a>       <span class="at">y =</span> <span class="st">""</span>)<span class="sc">+</span></span>
<span id="cb72-14"><a></a>  <span class="fu">theme_bw</span>() <span class="ot">-&gt;</span> fig_roadtrip</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-14-2">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02-slides_files/figure-html/unnamed-chunk-56-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="the-final-code" class="slide level2">
<h2>The final code</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a></a>df <span class="sc">%&gt;%</span></span>
<span id="cb73-2"><a></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(trip)) <span class="sc">%&gt;%</span> </span>
<span id="cb73-3"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb73-4"><a></a>    <span class="at">Playlist =</span><span class="fu">str_wrap</span>(forcats<span class="sc">::</span><span class="fu">as_factor</span>(trip),<span class="dv">20</span>)</span>
<span id="cb73-5"><a></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb73-6"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Playlist,</span>
<span id="cb73-7"><a></a>             <span class="at">fill =</span> Playlist))<span class="sc">+</span></span>
<span id="cb73-8"><a></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"count"</span>)<span class="sc">+</span></span>
<span id="cb73-9"><a></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">guide=</span><span class="st">"none"</span>)<span class="sc">+</span></span>
<span id="cb73-10"><a></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb73-11"><a></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Who controls the playlist"</span>,</span>
<span id="cb73-12"><a></a>       <span class="at">x=</span> <span class="st">""</span>,</span>
<span id="cb73-13"><a></a>       <span class="at">y =</span> <span class="st">""</span>)<span class="sc">+</span></span>
<span id="cb73-14"><a></a>  <span class="fu">theme_bw</span>() <span class="ot">-&gt;</span> fig_roadtrip</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section>
<section id="dataviz-describing-distributions-and-associations" class="title-slide slide level1 inverse center">
<h1><i class="fa-solid fa-lightbulb" aria-label="lightbulb"></i> DataViz: Describing Distributions and Associations</h1>

</section>
<section id="describing-distributions-and-associations" class="slide level2">
<h2>Describing Distributions and Associations</h2>
<ul>
<li class="fragment"><p>In the remaining slides, we’ see how to visualize some distributions and associations in the Covid data using:</p>
<ul>
<li class="fragment">barplots</li>
<li class="fragment">histograms</li>
<li class="fragment">density plots</li>
<li class="fragment">boxplots</li>
<li class="fragment">line plots</li>
<li class="fragment">scatter plots</li>
</ul></li>
</ul>
</section>
<section id="general-advice-for-making-figures" class="slide level2">
<h2>General advice for making figures</h2>
<ul>
<li class="fragment">Think through conceptually how you want to figure to look
<ul>
<li class="fragment">Draw it out by hand</li>
</ul></li>
<li class="fragment">Make a basic plot and iterate</li>
<li class="fragment">Use <code>summarize()</code> and other data wrangling skills to transform data for plotting</li>
<li class="fragment">Use <code>factor()</code> and related functions to control order of labels on axis</li>
<li class="fragment">Use google to figure out arcane options of <code>ggplot</code></li>
<li class="fragment">Don’t let the perfect be the enemy of the good</li>
</ul>
</section>
<section id="barplots" class="slide level2 smaller">
<h2>Barplots</h2>
<div class="panel-tabset">
<ul id="tabset-15" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-15-1">Question</a></li><li><a href="#tabset-15-2">Basic Code</a></li><li><a href="#tabset-15-3">Better Code</a></li><li><a href="#tabset-15-4">Figure</a></li></ul>
<div class="tab-content">
<div id="tabset-15-1">
<p>What was the most common face mask policy in the data?</p>
</div>
<div id="tabset-15-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a></a>covid_us <span class="sc">%&gt;%</span> </span>
<span id="cb74-2"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>face_masks))<span class="sc">+</span></span>
<span id="cb74-3"><a></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"count"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02-slides_files/figure-html/unnamed-chunk-58-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-15-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb75-2"><a></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb75-3"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb75-4"><a></a>    <span class="at">face_masks =</span> forcats<span class="sc">::</span><span class="fu">fct_infreq</span>(face_masks)</span>
<span id="cb75-5"><a></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb75-6"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>face_masks,</span>
<span id="cb75-7"><a></a>             <span class="at">fill =</span> face_masks))<span class="sc">+</span></span>
<span id="cb75-8"><a></a>  <span class="fu">geom_bar</span>()<span class="sc">+</span></span>
<span id="cb75-9"><a></a>  <span class="fu">geom_text</span>(<span class="at">stat=</span><span class="st">'count'</span>, <span class="fu">aes</span>(<span class="at">label=</span>..count..), </span>
<span id="cb75-10"><a></a>            <span class="at">hjust=</span>.<span class="dv">5</span>,<span class="at">vjust=</span><span class="sc">-</span>.<span class="dv">5</span>)<span class="sc">+</span></span>
<span id="cb75-11"><a></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="st">"none"</span>)<span class="sc">+</span></span>
<span id="cb75-12"><a></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb75-13"><a></a>  <span class="fu">labs</span>(</span>
<span id="cb75-14"><a></a>    <span class="at">x =</span> <span class="st">"Face Mask Policy "</span>,</span>
<span id="cb75-15"><a></a>    <span class="at">title =</span> <span class="st">""</span></span>
<span id="cb75-16"><a></a>  ) <span class="ot">-&gt;</span> fig_barplot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-15-4">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02-slides_files/figure-html/unnamed-chunk-60-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="histogram" class="slide level2 smaller">
<h2>Histogram</h2>
<div class="panel-tabset">
<ul id="tabset-16" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-16-1">Question</a></li><li><a href="#tabset-16-2">Basic Code</a></li><li><a href="#tabset-16-3">Ex 1</a></li><li><a href="#tabset-16-4">Better Code</a></li><li><a href="#tabset-16-5">Ex 2</a></li></ul>
<div class="tab-content">
<div id="tabset-16-1">
<p>What does the distribution of new Covid-19 cases look like in June 2021</p>
</div>
<div id="tabset-16-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a></a>covid_us <span class="sc">%&gt;%</span> </span>
<span id="cb76-2"><a></a>  <span class="fu">filter</span>(year_month <span class="sc">==</span> <span class="st">"2021-06"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb76-3"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>new_cases))<span class="sc">+</span></span>
<span id="cb76-4"><a></a>  <span class="fu">geom_histogram</span>() <span class="ot">-&gt;</span> fig_hist1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-16-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a></a>fig_hist1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02-slides_files/figure-html/unnamed-chunk-62-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-16-4">
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb78-2"><a></a>  <span class="fu">filter</span>(year_month <span class="sc">==</span> <span class="st">"2021-06"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb78-3"><a></a>  <span class="fu">filter</span>(new_cases <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb78-4"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>new_cases))<span class="sc">+</span></span>
<span id="cb78-5"><a></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb78-6"><a></a>  <span class="fu">labs</span>(</span>
<span id="cb78-7"><a></a>    <span class="at">title =</span> <span class="st">"Exclude Negative Values"</span></span>
<span id="cb78-8"><a></a>  ) <span class="ot">-&gt;</span> fig_hist2a</span>
<span id="cb78-9"><a></a></span>
<span id="cb78-10"><a></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb78-11"><a></a>  <span class="fu">filter</span>(year_month <span class="sc">==</span> <span class="st">"2021-06"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb78-12"><a></a>  <span class="fu">filter</span>(new_cases <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb78-13"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>new_cases))<span class="sc">+</span></span>
<span id="cb78-14"><a></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb78-15"><a></a>  <span class="fu">scale_x_log10</span>()<span class="sc">+</span></span>
<span id="cb78-16"><a></a>  <span class="fu">labs</span>(</span>
<span id="cb78-17"><a></a>    <span class="at">title =</span> <span class="st">"Exclude Negative Values &amp; Use log scale"</span></span>
<span id="cb78-18"><a></a>  ) <span class="ot">-&gt;</span> fig_hist2b</span>
<span id="cb78-19"><a></a></span>
<span id="cb78-20"><a></a>fig_hist2 <span class="ot">&lt;-</span> <span class="fu">ggarrange</span>(fig_hist2a, fig_hist2b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-16-5">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02-slides_files/figure-html/unnamed-chunk-64-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="density-plots" class="slide level2 smaller">
<h2>Density Plots</h2>
<div class="panel-tabset">
<ul id="tabset-17" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-17-1">Question</a></li><li><a href="#tabset-17-2">Basic Code</a></li><li><a href="#tabset-17-3">Ex 1</a></li><li><a href="#tabset-17-4">Better Code</a></li><li><a href="#tabset-17-5">Ex 2</a></li></ul>
<div class="tab-content">
<div id="tabset-17-1">
<p>What does the distribution of Covid-19 deaths look like?</p>
</div>
<div id="tabset-17-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a></a>covid_us <span class="sc">%&gt;%</span> </span>
<span id="cb79-2"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb79-3"><a></a>    <span class="at">new_deaths =</span> deaths <span class="sc">-</span> <span class="fu">lag</span>(deaths),</span>
<span id="cb79-4"><a></a>    <span class="at">new_deaths_pc =</span> deaths <span class="sc">-</span> <span class="fu">lag</span>(deaths)</span>
<span id="cb79-5"><a></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb79-6"><a></a>  <span class="fu">filter</span>(new_deaths <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb79-7"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>new_deaths_pc))<span class="sc">+</span></span>
<span id="cb79-8"><a></a>  <span class="fu">geom_density</span>() <span class="ot">-&gt;</span> fig_density1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-17-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a></a>fig_density1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02-slides_files/figure-html/unnamed-chunk-66-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-17-4">
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a></a>covid_us <span class="sc">%&gt;%</span> </span>
<span id="cb81-2"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb81-3"><a></a>    <span class="at">new_deaths =</span> deaths <span class="sc">-</span> <span class="fu">lag</span>(deaths),</span>
<span id="cb81-4"><a></a>    <span class="at">new_deaths_pc =</span> deaths <span class="sc">-</span> <span class="fu">lag</span>(deaths),</span>
<span id="cb81-5"><a></a>    <span class="at">year_f =</span> <span class="fu">factor</span>(year)</span>
<span id="cb81-6"><a></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb81-7"><a></a>  <span class="fu">filter</span>(new_deaths <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb81-8"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>new_deaths_pc,</span>
<span id="cb81-9"><a></a>             <span class="at">col =</span> year_f))<span class="sc">+</span></span>
<span id="cb81-10"><a></a>  <span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb81-11"><a></a>  <span class="fu">geom_rug</span>() <span class="sc">+</span></span>
<span id="cb81-12"><a></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb81-13"><a></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>month)<span class="sc">+</span></span>
<span id="cb81-14"><a></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)<span class="ot">-&gt;</span> </span>
<span id="cb81-15"><a></a>  fig_density2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-17-5">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02-slides_files/figure-html/unnamed-chunk-68-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="box-plots" class="slide level2 smaller">
<h2>Box plots</h2>
<div class="panel-tabset">
<ul id="tabset-18" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-18-1">Question</a></li><li><a href="#tabset-18-2">Basic Code</a></li><li><a href="#tabset-18-3">Ex 1</a></li><li><a href="#tabset-18-4">Better Code</a></li><li><a href="#tabset-18-5">Ex 2</a></li></ul>
<div class="tab-content">
<div id="tabset-18-1">
<p>How did the distribution of Covid-19 cases vary by face mask policy?</p>
</div>
<div id="tabset-18-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb82-2"><a></a>  <span class="fu">filter</span>(new_cases_pc <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb82-3"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span> face_masks, <span class="at">y=</span>new_cases_pc))<span class="sc">+</span></span>
<span id="cb82-4"><a></a>  <span class="fu">scale_y_log10</span>()<span class="sc">+</span></span>
<span id="cb82-5"><a></a>  <span class="fu">geom_boxplot</span>() <span class="ot">-&gt;</span> fig_boxplot1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-18-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a></a>fig_boxplot1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02-slides_files/figure-html/unnamed-chunk-70-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-18-4">
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb84-2"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb84-3"><a></a>    <span class="at">Month =</span> lubridate<span class="sc">::</span><span class="fu">month</span>(date, <span class="at">label =</span> T)</span>
<span id="cb84-4"><a></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb84-5"><a></a>  <span class="fu">filter</span>(new_cases_pc <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb84-6"><a></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2020</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb84-7"><a></a> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span> face_masks, </span>
<span id="cb84-8"><a></a>            <span class="at">y=</span>new_cases_pc,</span>
<span id="cb84-9"><a></a>            <span class="at">col =</span> face_masks))<span class="sc">+</span></span>
<span id="cb84-10"><a></a>  <span class="fu">scale_y_log10</span>()<span class="sc">+</span></span>
<span id="cb84-11"><a></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb84-12"><a></a>  <span class="fu">geom_boxplot</span>()  <span class="sc">+</span></span>
<span id="cb84-13"><a></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>Month) <span class="sc">+</span></span>
<span id="cb84-14"><a></a>  <span class="fu">theme</span>(</span>
<span id="cb84-15"><a></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span></span>
<span id="cb84-16"><a></a>  )<span class="ot">-&gt;</span> fig_boxplot2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-18-5">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02-slides_files/figure-html/unnamed-chunk-72-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="line-graphs" class="slide level2 smaller">
<h2>Line graphs</h2>
<div class="panel-tabset">
<ul id="tabset-19" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-19-1">Question</a></li><li><a href="#tabset-19-2">Basic Code</a></li><li><a href="#tabset-19-3">Ex 1</a></li><li><a href="#tabset-19-4">Better Code</a></li><li><a href="#tabset-19-5">Ex 2</a></li></ul>
<div class="tab-content">
<div id="tabset-19-1">
<p>How did vaccination rates vary by state?</p>
</div>
<div id="tabset-19-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb85-2"><a></a>  <span class="fu">ggplot</span>(</span>
<span id="cb85-3"><a></a>    <span class="fu">aes</span>(<span class="at">x=</span> date,</span>
<span id="cb85-4"><a></a>        <span class="at">y=</span>percent_vaccinated,</span>
<span id="cb85-5"><a></a>        <span class="at">group =</span> state</span>
<span id="cb85-6"><a></a>        ))<span class="sc">+</span></span>
<span id="cb85-7"><a></a>  <span class="fu">geom_line</span>() <span class="ot">-&gt;</span> fig_line1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-19-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a></a>fig_line1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02-slides_files/figure-html/unnamed-chunk-74-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-19-4">
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb87-2"><a></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb87-3"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb87-4"><a></a>    <span class="at">Label =</span> <span class="fu">case_when</span>(</span>
<span id="cb87-5"><a></a>      date <span class="sc">==</span> <span class="fu">max</span>(date) <span class="sc">&amp;</span> percent_vaccinated <span class="sc">==</span> <span class="fu">max</span>(percent_vaccinated[date <span class="sc">==</span> <span class="fu">max</span>(date)], <span class="at">na.rm =</span> T) <span class="sc">~</span> state,</span>
<span id="cb87-6"><a></a>      date <span class="sc">==</span> <span class="fu">max</span>(date) <span class="sc">&amp;</span> percent_vaccinated <span class="sc">==</span> <span class="fu">median</span>(percent_vaccinated[date <span class="sc">==</span> <span class="fu">max</span>(date)], <span class="at">na.rm =</span> T) <span class="sc">~</span> state,</span>
<span id="cb87-7"><a></a>      date <span class="sc">==</span> <span class="fu">max</span>(date) <span class="sc">&amp;</span> percent_vaccinated <span class="sc">==</span> <span class="fu">min</span>(percent_vaccinated[date <span class="sc">==</span> <span class="fu">max</span>(date)], <span class="at">na.rm =</span> T) <span class="sc">~</span> state,</span>
<span id="cb87-8"><a></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_character_</span></span>
<span id="cb87-9"><a></a>    ),</span>
<span id="cb87-10"><a></a>    <span class="at">line_alpha =</span> <span class="fu">case_when</span>(</span>
<span id="cb87-11"><a></a>      state <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"District of Columbia"</span>, <span class="st">"Nebraska"</span>, <span class="st">"Wyoming"</span>) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb87-12"><a></a>      T <span class="sc">~</span> .<span class="dv">3</span></span>
<span id="cb87-13"><a></a>    ),</span>
<span id="cb87-14"><a></a>    <span class="at">line_col =</span> <span class="fu">case_when</span>(</span>
<span id="cb87-15"><a></a>      state <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"District of Columbia"</span>, <span class="st">"Nebraska"</span>, <span class="st">"Wyoming"</span>) <span class="sc">~</span> <span class="st">"black"</span>,</span>
<span id="cb87-16"><a></a>      T <span class="sc">~</span> <span class="st">"grey"</span></span>
<span id="cb87-17"><a></a>    )</span>
<span id="cb87-18"><a></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb87-19"><a></a>  <span class="fu">ggplot</span>(</span>
<span id="cb87-20"><a></a>    <span class="fu">aes</span>(<span class="at">x=</span> date,</span>
<span id="cb87-21"><a></a>        <span class="at">y=</span>percent_vaccinated,</span>
<span id="cb87-22"><a></a>        <span class="at">group =</span> state</span>
<span id="cb87-23"><a></a>        ))<span class="sc">+</span></span>
<span id="cb87-24"><a></a>  <span class="fu">geom_line</span>(</span>
<span id="cb87-25"><a></a>    <span class="fu">aes</span>(<span class="at">alpha =</span> line_alpha,</span>
<span id="cb87-26"><a></a>        <span class="at">col =</span>line_col)) <span class="sc">+</span></span>
<span id="cb87-27"><a></a>  <span class="fu">geom_text_repel</span>(<span class="fu">aes</span>(<span class="at">label =</span> Label),</span>
<span id="cb87-28"><a></a>                  <span class="at">direction =</span> <span class="st">"x"</span>,</span>
<span id="cb87-29"><a></a>                  <span class="at">nudge_y =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb87-30"><a></a>  <span class="fu">guides</span>(</span>
<span id="cb87-31"><a></a>    <span class="at">alpha =</span> <span class="st">"none"</span>,</span>
<span id="cb87-32"><a></a>    <span class="at">col =</span> <span class="st">"none"</span></span>
<span id="cb87-33"><a></a>  )<span class="sc">+</span></span>
<span id="cb87-34"><a></a>  <span class="fu">xlim</span>(<span class="fu">ym</span>(<span class="st">"2021-01"</span>), <span class="fu">ym</span>(<span class="st">"2023-01"</span>)) <span class="sc">+</span></span>
<span id="cb87-35"><a></a>  <span class="fu">labs</span>(</span>
<span id="cb87-36"><a></a>    <span class="at">y =</span> <span class="st">"Percent Vacinated"</span>,</span>
<span id="cb87-37"><a></a>    <span class="at">x =</span> <span class="st">"Date"</span></span>
<span id="cb87-38"><a></a>  ) <span class="sc">+</span></span>
<span id="cb87-39"><a></a>  <span class="fu">theme_bw</span>()<span class="ot">-&gt;</span> fig_line2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-19-5">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02-slides_files/figure-html/unnamed-chunk-76-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="scatterplots" class="slide level2 smaller">
<h2>Scatterplots</h2>
<div class="panel-tabset">
<ul id="tabset-20" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-20-1">Question</a></li><li><a href="#tabset-20-2">Basic Code</a></li><li><a href="#tabset-20-3">Ex 1</a></li><li><a href="#tabset-20-4">Better Code</a></li><li><a href="#tabset-20-5">Ex 2</a></li></ul>
<div class="tab-content">
<div id="tabset-20-1">
<p>What’s the relationship between vaccination rates and new cases of Covid-19?</p>
</div>
<div id="tabset-20-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb88-2"><a></a>  <span class="fu">ggplot</span>(</span>
<span id="cb88-3"><a></a>    <span class="fu">aes</span>(<span class="at">x=</span> percent_vaccinated,</span>
<span id="cb88-4"><a></a>        <span class="at">y=</span>new_cases_pc,</span>
<span id="cb88-5"><a></a>        ))<span class="sc">+</span></span>
<span id="cb88-6"><a></a>  <span class="fu">geom_point</span>() <span class="ot">-&gt;</span> fig_scatter1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-20-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a></a>fig_scatter1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02-slides_files/figure-html/unnamed-chunk-78-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-20-4">
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a></a>covid_us <span class="sc">%&gt;%</span></span>
<span id="cb90-2"><a></a>  <span class="fu">filter</span>(year <span class="sc">&gt;</span> <span class="dv">2020</span>) <span class="sc">%&gt;%</span></span>
<span id="cb90-3"><a></a>  <span class="fu">filter</span>(month <span class="sc">==</span> <span class="dv">6</span>) <span class="sc">%&gt;%</span></span>
<span id="cb90-4"><a></a>  <span class="fu">filter</span>(new_cases_pc <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb90-5"><a></a>  <span class="fu">ggplot</span>(</span>
<span id="cb90-6"><a></a>    <span class="fu">aes</span>(<span class="at">x=</span> percent_vaccinated,</span>
<span id="cb90-7"><a></a>        <span class="at">y=</span>new_cases_pc,</span>
<span id="cb90-8"><a></a>        ))<span class="sc">+</span></span>
<span id="cb90-9"><a></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb90-10"><a></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)<span class="sc">+</span></span>
<span id="cb90-11"><a></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year_month,<span class="at">ncol =</span><span class="dv">1</span>,</span>
<span id="cb90-12"><a></a>             <span class="at">scales =</span> <span class="st">"free_y"</span>)<span class="ot">-&gt;</span> fig_scatter2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-20-5">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02-slides_files/figure-html/unnamed-chunk-80-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="summary" class="title-slide slide level1 inverse center">
<h1><i class="fa-solid fa-home" aria-label="home"></i> Summary</h1>

</section>
<section id="summary-1" class="slide level2">
<h2>Summary</h2>
<ul>
<li class="fragment"><p>The grammar of graphics provides a language for translating data into figures</p></li>
<li class="fragment"><p>At a minimum figures with <code>ggplot()</code> require three things:</p>
<ul>
<li class="fragment">data</li>
<li class="fragment">aesthetic mappings</li>
<li class="fragment">geometries</li>
</ul></li>
<li class="fragment"><p>To produce a figure:</p>
<ul>
<li class="fragment">think about what the end product will look like</li>
<li class="fragment">transform your data</li>
<li class="fragment">map variables onto corresponding aesthetics</li>
<li class="fragment">tell R what to do with these aesthetic mappings</li>
<li class="fragment">Revise and iterate!</li>
</ul></li>
<li class="fragment"><p>Learning to code is hard, but the more errors you make now, the easier your life will be in the future</p></li>
</ul>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="images/pols1600_hex.png" class="slide-logo"></p>
<div class="footer footer-default">
<p>POLS 1600</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/josephessig-source\.github\.io\/pols1600_site\/");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>