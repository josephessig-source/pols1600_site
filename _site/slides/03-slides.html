<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-234273d1456647dabc34a594ac50e507.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <title>POLS 1600</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #24292e;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #24292e; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #6a737d; } /* Annotation */
    code span.at { color: #d73a49; } /* Attribute */
    code span.bn { color: #005cc5; } /* BaseN */
    code span.bu { color: #d73a49; } /* BuiltIn */
    code span.cf { color: #d73a49; } /* ControlFlow */
    code span.ch { color: #032f62; } /* Char */
    code span.cn { color: #005cc5; } /* Constant */
    code span.co { color: #6a737d; } /* Comment */
    code span.cv { color: #6a737d; } /* CommentVar */
    code span.do { color: #6a737d; } /* Documentation */
    code span.dt { color: #d73a49; } /* DataType */
    code span.dv { color: #005cc5; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #d73a49; font-weight: bold; } /* Extension */
    code span.fl { color: #005cc5; } /* Float */
    code span.fu { color: #6f42c1; } /* Function */
    code span.im { color: #032f62; } /* Import */
    code span.in { color: #6a737d; } /* Information */
    code span.kw { color: #d73a49; } /* Keyword */
    code span.op { color: #24292e; } /* Operator */
    code span.ot { color: #6f42c1; } /* Other */
    code span.pp { color: #d73a49; } /* Preprocessor */
    code span.re { color: #6a737d; } /* RegionMarker */
    code span.sc { color: #005cc5; } /* SpecialChar */
    code span.ss { color: #032f62; } /* SpecialString */
    code span.st { color: #032f62; } /* String */
    code span.va { color: #e36209; } /* Variable */
    code span.vs { color: #032f62; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-8979bb8451ddc1038f930ac611262c50.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

  <script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

  <link href="../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">

  <script src="../site_libs/datatables-binding-0.33/datatables.js"></script>

  <script src="../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

  <link href="../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">

  <link href="../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">

  <script src="../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>

  <link href="../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

  <script src="../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>

</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" align="left" data-background-image="images/pols1600_hex.png" data-background-position="90% 50%" data-background-size="40%" class="quarto-title-block center">
  <h1 class="title">POLS 1600</h1>
  <p class="subtitle">Causal Inference in<br>Experimental Designs</p>

<div class="quarto-title-authors">
</div>

  <p class="date">Updated Nov 6, 2025</p>
</section>
<section>
<section id="overview" class="title-slide slide level1 inverse center">
<h1><i class="fa-solid fa-map-location" aria-label="map-location"></i> Overview</h1>

</section>
<section id="class-plan" class="slide level2 smaller">
<h2>Class Plan</h2>
<ul>
<li class="fragment">Announcements</li>
<li class="fragment">Feedback</li>
<li class="fragment">Review</li>
<li class="fragment">Class plan
<ul>
<li class="fragment">Causal Inference</li>
<li class="fragment">Notation for Causal Inference</li>
<li class="fragment">Causal Identification</li>
<li class="fragment">Causal Identification in Experiments</li>
<li class="fragment"><code>resume</code> data from QSS (Skipping, but their for your reference)</li>
<li class="fragment">Explore Broockman and Kalla (2016)</li>
</ul></li>
</ul>
</section>
<section id="annoucements" class="slide level2">
<h2>Annoucements</h2>
<ul>
<li class="fragment"><p>We start taking attendance this week</p></li>
<li class="fragment"><p>Readings for this week:</p>
<ul>
<li class="fragment">QSS Chapter 2: pp.&nbsp;38–65</li>
<li class="fragment"><a href="https://pols1600.paultesta.org/files/readings/broockman_kalla_2016.pdf" target="_blank"><span class="citation" data-cites="Broockman2016-pi">Broockman and Kalla (<span>2016</span>)</span></a></li>
</ul></li>
<li class="fragment"><p>No class next Tuesdays</p></li>
<li class="fragment"><p>No lab next Thursday</p></li>
<li class="fragment"><p>Meet your groups!</p></li>
</ul>
</section>
<section id="group-assignments" class="slide level2 smaller">
<h2>Group Assignments</h2>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-8729941803ebf0f2bb48" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8729941803ebf0f2bb48">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7"],["Group 1","Group 2","Group 3","Group 4","Group 5","Group 6","Group 7"],["Gurpartap Singh","Sylvie Watts","Joshua Okwaning","Jacqueline Zhang","Talib Reddick","Tess\tNaquet-Radiguet","Ben Buka"],["Niyah Whitten","Amani Diallo","Eiffel Sunga","Charlie Jeffers","Zoe Kaufman"," Anisha Kumar","Ianthe Ince"],["Marisa Coghlin","Sinclair Harris","Jenna Hercher","Meleah Neely","Jenna Lowry","Nash Riebe","Riya Srinivasan"],["Aidan Choi","Peter Zucker","Ella Hendelman","Nene Mokonchu","Harry Laferriere","Sophia Wotman","Kaelah Kimura"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Group<\/th>\n      <th>1<\/th>\n      <th>2<\/th>\n      <th>3<\/th>\n      <th>4<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Group","targets":1},{"name":"1","targets":2},{"name":"2","targets":3},{"name":"3","targets":4},{"name":"4","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section></section>
<section>
<section id="feedback" class="title-slide slide level1 center">
<h1>Feedback</h1>

</section>
<section id="what-did-we-like" class="slide level2 smaller">
<h2>What did we like</h2>
<div class="cell">
<div class="cell-output-display">
<div id="htmlwidget-618dc1c00185f12c4649" style="width:100%;height:90%;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-618dc1c00185f12c4649">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["1","2","3","4","5","6","7"],["I liked the visualization of the graphs.","I liked learning about how to make the graphs, and I thought the lecture on Tuesday was easy for me to follow along, which made me happy!","I liked being able to learn how to create visualizations.","I enjoyed feeling like it was encouraged to play around and mess things up rather than watch you do it all.","I thought it was interesting to really dive into the covid data and manipulate it as a class. \n","I really liked last week's class. I liked slowing down and understanding concepts line by line. I also am SO appreciative of Professor Testa answering questions when we have errors in R. I find it's so much more helpful than calling over the TA because so many people have the same issues and also the student will the error misses lecture/class discussion and gets even more off track.","That you took the time to go back and reexplain the topics when a lot of the class was confused. This was helpful because it allowed me to catch up and get on the same page as opposed to falling behind."]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Likes<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Likes","targets":1}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="what-did-we-dislike" class="slide level2 smaller">
<h2>What did we dislike</h2>
<div class="cell">
<div class="cell-output-display">
<div id="htmlwidget-98a5846d2b711482cc66" style="width:100%;height:90%;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-98a5846d2b711482cc66">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["1","2","3","4","5","6","7"],["I don't think I fully know how to write my own graphs and what all the parameters are for ggplot","I think I am still struggling with conceptually understanding everything— I can get the results, but I think with all of the various terms and features, it is a bit hard to follow. Even in our readings, I feel it is a lot of learning and I'm having a hard time remembering it all.","I think it would be more helpful to break down each code line by line and code together, instead of having a big code chunk to copy and paste and then break it down when it already worked. I think having a big code chunk creates dependencies and it doesn't show the functions of each line.","At some point I missed the instructions for the tutorials and was surprised to see I had missed a due date.","I found a few of the mutate functions a big hard to understand what they were doing. \n","I think class, in general, moves super fast. I always like when things are slowed down. Perhaps we don't need to review every single slide if there is a limited time frame.","I just found it frustrating that my computer was going slow. I don't think it is used to this type of pressure haha."]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Dislikes<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":4,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Dislikes","targets":1}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[4,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="setup" class="slide level2">
<h2>Setup</h2>
<p>Every time you work in R</p>
<ul>
<li class="fragment"><p>Save your file to your course or project folder</p></li>
<li class="fragment"><p>Set your working directory to where your file is saved</p></li>
<li class="fragment"><p>Load, and if needed, install packages</p></li>
<li class="fragment"><p>Maybe change some global options in your .Qmd file</p></li>
</ul>
</section>
<section id="setting-your-working-directory-when-working-live" class="slide level2">
<h2>Setting your working directory when working “Live”</h2>

<img data-src="https://statisticsglobe.com/wp-content/uploads/2020/03/figure-2-set-working-directory-to-source-file-location-manually.png" class="r-stretch"></section>
<section id="packages-for-today" class="slide level2">
<h2>Packages for today</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="do">## Pacakges for today</span></span>
<span id="cb1-2"><a></a>the_packages <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb1-3"><a></a>  <span class="do">## R Markdown</span></span>
<span id="cb1-4"><a></a>  <span class="st">"kableExtra"</span>,<span class="st">"DT"</span>,</span>
<span id="cb1-5"><a></a>  </span>
<span id="cb1-6"><a></a>  <span class="do">## Tidyverse</span></span>
<span id="cb1-7"><a></a>  <span class="st">"tidyverse"</span>, <span class="st">"lubridate"</span>, <span class="st">"forcats"</span>, </span>
<span id="cb1-8"><a></a>  <span class="st">"haven"</span>, <span class="st">"labelled"</span>,</span>
<span id="cb1-9"><a></a>  </span>
<span id="cb1-10"><a></a>  <span class="do">## Extensions for ggplot</span></span>
<span id="cb1-11"><a></a>  <span class="st">"ggmap"</span>,<span class="st">"ggrepel"</span>, <span class="st">"ggridges"</span>, </span>
<span id="cb1-12"><a></a>  <span class="st">"ggthemes"</span>, <span class="st">"ggpubr"</span>, <span class="st">"GGally"</span>,</span>
<span id="cb1-13"><a></a>  <span class="st">"scales"</span>, <span class="st">"dagitty"</span>, <span class="st">"ggdag"</span>, <span class="co">#&lt;&lt;</span></span>
<span id="cb1-14"><a></a>  </span>
<span id="cb1-15"><a></a>  <span class="co"># Data </span></span>
<span id="cb1-16"><a></a>  <span class="st">"COVID19"</span>,<span class="st">"maps"</span>,<span class="st">"mapdata"</span>,</span>
<span id="cb1-17"><a></a>  <span class="st">"qss"</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb1-18"><a></a>)</span>
<span id="cb1-19"><a></a></span>
<span id="cb1-20"><a></a><span class="do">## Define a function to load (and if needed install) packages</span></span>
<span id="cb1-21"><a></a></span>
<span id="cb1-22"><a></a>ipak <span class="ot">&lt;-</span> <span class="cf">function</span>(pkg){</span>
<span id="cb1-23"><a></a>    new.pkg <span class="ot">&lt;-</span> pkg[<span class="sc">!</span>(pkg <span class="sc">%in%</span> <span class="fu">installed.packages</span>()[, <span class="st">"Package"</span>])]</span>
<span id="cb1-24"><a></a>    <span class="cf">if</span> (<span class="fu">length</span>(new.pkg)) </span>
<span id="cb1-25"><a></a>        <span class="fu">install.packages</span>(new.pkg, <span class="at">dependencies =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-26"><a></a>    <span class="fu">sapply</span>(pkg, require, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-27"><a></a>}</span>
<span id="cb1-28"><a></a></span>
<span id="cb1-29"><a></a><span class="do">## Install (if needed) and load libraries in the_packages</span></span>
<span id="cb1-30"><a></a><span class="fu">ipak</span>(the_packages)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>kableExtra         DT  tidyverse  lubridate    forcats      haven   labelled 
      TRUE       TRUE       TRUE       TRUE       TRUE       TRUE       TRUE 
     ggmap    ggrepel   ggridges   ggthemes     ggpubr     GGally     scales 
      TRUE       TRUE       TRUE       TRUE       TRUE       TRUE       TRUE 
   dagitty      ggdag    COVID19       maps    mapdata        qss 
      TRUE       TRUE       TRUE       TRUE       TRUE       TRUE </code></pre>
</div>
</div>
</section></section>
<section>
<section id="review" class="title-slide slide level1 inverse center">
<h1><i class="fa-solid fa-magnifying-glass" aria-label="magnifying-glass"></i> Review</h1>

</section>
<section id="review-data-wrangling" class="slide level2">
<h2>Review: Data wrangling</h2>
</section>
<section id="data-transformations" class="slide level2 smaller">
<h2>Data transformations</h2>
<div class="columns">
<div class="column" style="width:30%;">
<p>You want to:</p>
<ul>
<li class="fragment"><p>Load some data</p></li>
<li class="fragment"><p>Combine multiple functions</p></li>
<li class="fragment"><p>Look at your data</p></li>
<li class="fragment"><p>Recode your data</p></li>
<li class="fragment"><p>Transform your data</p></li>
</ul>
</div><div class="column" style="width:70%;">
<div class="fragment">
<p>You could use</p>
<ul>
<li class="fragment"><p><code>read_*</code> functions</p></li>
<li class="fragment"><p><code>%&gt;%</code> the “pipe” operator</p></li>
<li class="fragment"><p><code>glimpse()</code> <code>head()</code>, <code>filter()</code>, <code>select()</code>, <code>arrange()</code></p></li>
<li class="fragment"><p><code>mutate()</code>, <code>case_when()</code>, <code>ifelse()</code></p></li>
<li class="fragment"><p><code>summarize()</code>, <code>group_by()</code></p></li>
</ul>
</div>
</div></div>
</section>
<section id="data-visualization" class="slide level2 smaller">
<h2>Data Visualization</h2>
<ul>
<li class="fragment"><p>The grammar of graphics</p></li>
<li class="fragment"><p>At minimum you need:</p>
<ul>
<li class="fragment"><code>data</code></li>
<li class="fragment"><code>aesthetic</code> mappings</li>
<li class="fragment"><code>geometries</code></li>
</ul></li>
<li class="fragment"><p>Hey Jude, take a sad plot and make it better by:</p>
<ul>
<li class="fragment"><code>labels</code></li>
<li class="fragment"><code>themes</code></li>
<li class="fragment"><code>statistics</code></li>
<li class="fragment"><code>cooridnates</code></li>
<li class="fragment"><code>facets</code></li>
<li class="fragment">transforming your data before plotting</li>
</ul></li>
</ul>
</section>
<section id="practice" class="slide level2 smaller">
<h2>Practice</h2>
<ul>
<li class="fragment">Create two variables <code>x</code> and <code>y</code>
<ul>
<li class="fragment"><code>x</code> should be a random variable with 100 observations from a random normal (<code>rnorm</code>) distribution with mean 0 and standard deviation 1</li>
<li class="fragment"><code>y</code> should be a function of x plus the square of a random normal distribution with mean 0 and standard deviation 1</li>
</ul></li>
<li class="fragment">Combine <code>x</code> and <code>y</code> into a <code>data.frame</code> called <code>df</code></li>
<li class="fragment"><code>summarize</code> the <code>mean</code>, <code>median</code>, standard deviation (<code>sd</code>), 16th and 84th percentile (<code>quantile</code>) of <code>x</code> and <code>y</code> and save this to an object called <code>df_sum</code></li>
<li class="fragment">Plot the distributions of <code>x</code> and <code>y</code>, separately, using a density plot (<code>geom_density</code>)
<ul>
<li class="fragment">Add a rug to each density plot</li>
<li class="fragment">Add vertical lines for the mean and median of each variable</li>
<li class="fragment">A vertical lines at the 16th and and 84th percentile of each plot
<ul>
<li class="fragment">Hint use your object <code>df_sum</code> as the data for these geometries</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="practice-1" class="slide level2 smaller">
<h2>Practice</h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Tasks</a></li><li><a href="#tabset-1-2"><i class="fa-solid fa-code" aria-label="code"></i></a></li><li><a href="#tabset-1-3">Figures</a></li><li><a href="#tabset-1-4">Summary</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<ul>
<li>Create two variables <code>x</code> and <code>y</code>
<ul>
<li><code>x</code> should be a random variable with 100 observations from a random normal (<code>rnorm</code>) distribution with mean 0 and standard deviation 1</li>
<li><code>y</code> should be a function of x plus the square of a random normal distribution with mean 0 and standard deviation 1</li>
</ul></li>
<li>Combine <code>x</code> and <code>y</code> into a <code>data.frame</code> called <code>df</code></li>
<li><code>summarize</code> the <code>mean</code>, <code>median</code>, standard deviation (<code>sd</code>), 16th and 84th percentile (<code>quantile</code>) of <code>x</code> and <code>y</code> and save this to an object called <code>df_sum</code></li>
<li>Plot the distributions of <code>x</code> and <code>y</code>, separately, using a density plot (<code>geom_density</code>)
<ul>
<li>Add a rug to each density plot</li>
<li>Add vertical lines for the mean and median of each variable</li>
<li>A vertical lines at the 16th and and 84th percentile of each plot
<ul>
<li>Hint: use your object <code>df_sum</code> as the data for these geometries</li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="tabset-1-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a><span class="co"># Load libraries</span></span>
<span id="cb3-2"><a></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb3-3"><a></a></span>
<span id="cb3-4"><a></a><span class="co"># Set seed for reproducibility</span></span>
<span id="cb3-5"><a></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb3-6"><a></a></span>
<span id="cb3-7"><a></a><span class="co"># Number of observations</span></span>
<span id="cb3-8"><a></a>n <span class="ot">&lt;-</span> <span class="dv">1000</span></span>
<span id="cb3-9"><a></a></span>
<span id="cb3-10"><a></a><span class="co"># Generate data</span></span>
<span id="cb3-11"><a></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>)</span>
<span id="cb3-12"><a></a>y <span class="ot">&lt;-</span> x <span class="sc">+</span> (<span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>))<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb3-13"><a></a></span>
<span id="cb3-14"><a></a><span class="co"># Create dataframe</span></span>
<span id="cb3-15"><a></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)</span>
<span id="cb3-16"><a></a></span>
<span id="cb3-17"><a></a><span class="co"># Calculate summary statistics</span></span>
<span id="cb3-18"><a></a></span>
<span id="cb3-19"><a></a>df_sum <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb3-20"><a></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb3-21"><a></a>    <span class="at">x_mean =</span> <span class="fu">mean</span>(x),</span>
<span id="cb3-22"><a></a>    <span class="at">x_median =</span> <span class="fu">median</span>(x),</span>
<span id="cb3-23"><a></a>    <span class="at">x_sd =</span> <span class="fu">sd</span>(x),</span>
<span id="cb3-24"><a></a>    <span class="at">x_16th =</span> <span class="fu">quantile</span>(x, <span class="at">probs =</span> .<span class="dv">16</span>),</span>
<span id="cb3-25"><a></a>    <span class="at">x_84th =</span> <span class="fu">quantile</span>(x, <span class="at">probs =</span> .<span class="dv">84</span>),</span>
<span id="cb3-26"><a></a>    <span class="at">y_mean =</span> <span class="fu">mean</span>(y),</span>
<span id="cb3-27"><a></a>    <span class="at">y_median =</span> <span class="fu">median</span>(y),</span>
<span id="cb3-28"><a></a>    <span class="at">y_sd =</span> <span class="fu">sd</span>(y),</span>
<span id="cb3-29"><a></a>    <span class="at">y_16th =</span> <span class="fu">quantile</span>(y, <span class="at">probs =</span> .<span class="dv">16</span>),</span>
<span id="cb3-30"><a></a>    <span class="at">y_84th =</span> <span class="fu">quantile</span>(y, <span class="at">probs =</span> .<span class="dv">84</span>)</span>
<span id="cb3-31"><a></a>  )</span>
<span id="cb3-32"><a></a></span>
<span id="cb3-33"><a></a>df_sum</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      x_mean    x_median     x_sd   x_16th    x_84th   y_mean  y_median
1 0.01612787 0.009209639 0.991695 -1.01607 0.9869428 1.036354 0.7302196
      y_sd     y_16th   y_84th
1 1.738673 -0.3879478 2.390059</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a></a>fig_x <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(x))<span class="sc">+</span></span>
<span id="cb5-3"><a></a>  <span class="fu">geom_density</span>()<span class="sc">+</span></span>
<span id="cb5-4"><a></a>  <span class="fu">geom_rug</span>()<span class="sc">+</span></span>
<span id="cb5-5"><a></a>  <span class="fu">geom_vline</span>(</span>
<span id="cb5-6"><a></a>    <span class="at">data =</span> df_sum,</span>
<span id="cb5-7"><a></a>    <span class="fu">aes</span>(<span class="at">xintercept =</span> x_mean, <span class="at">col=</span><span class="st">"Mean"</span>))<span class="sc">+</span></span>
<span id="cb5-8"><a></a>  <span class="fu">geom_vline</span>(</span>
<span id="cb5-9"><a></a>    <span class="at">data =</span> df_sum,</span>
<span id="cb5-10"><a></a>    <span class="fu">aes</span>(<span class="at">xintercept =</span> x_median, <span class="at">col=</span><span class="st">"Median"</span>),</span>
<span id="cb5-11"><a></a>    <span class="at">linetype =</span> <span class="st">"dashed"</span>)<span class="sc">+</span></span>
<span id="cb5-12"><a></a>  <span class="fu">geom_vline</span>(</span>
<span id="cb5-13"><a></a>    <span class="at">data =</span> df_sum,</span>
<span id="cb5-14"><a></a>    <span class="fu">aes</span>(<span class="at">xintercept =</span> x_16th, <span class="at">col=</span><span class="st">"16th percentile"</span>))<span class="sc">+</span></span>
<span id="cb5-15"><a></a>  <span class="fu">geom_vline</span>(</span>
<span id="cb5-16"><a></a>    <span class="at">data =</span> df_sum,</span>
<span id="cb5-17"><a></a>    <span class="fu">aes</span>(<span class="at">xintercept =</span> x_84th, <span class="at">col=</span><span class="st">"84th percentile"</span>))<span class="sc">+</span></span>
<span id="cb5-18"><a></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb5-19"><a></a>    <span class="fu">aes</span>(<span class="at">y=</span>.<span class="dv">45</span>, <span class="at">yend=</span>.<span class="dv">45</span>,</span>
<span id="cb5-20"><a></a>        <span class="at">x =</span> df_sum<span class="sc">$</span>x_mean <span class="sc">-</span> df_sum<span class="sc">$</span>x_sd,</span>
<span id="cb5-21"><a></a>        <span class="at">xend =</span> df_sum<span class="sc">$</span>x_mean <span class="sc">+</span> df_sum<span class="sc">$</span>x_sd)</span>
<span id="cb5-22"><a></a>  )<span class="sc">+</span></span>
<span id="cb5-23"><a></a>  <span class="fu">ylim</span>(<span class="dv">0</span>,.<span class="dv">5</span>)<span class="sc">+</span></span>
<span id="cb5-24"><a></a>  <span class="fu">labs</span>(</span>
<span id="cb5-25"><a></a>    <span class="at">col =</span> <span class="st">"Statistic"</span></span>
<span id="cb5-26"><a></a>  )</span>
<span id="cb5-27"><a></a></span>
<span id="cb5-28"><a></a>fig_y <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb5-29"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(y))<span class="sc">+</span></span>
<span id="cb5-30"><a></a>  <span class="fu">geom_density</span>()<span class="sc">+</span></span>
<span id="cb5-31"><a></a>  <span class="fu">geom_rug</span>()<span class="sc">+</span></span>
<span id="cb5-32"><a></a>  <span class="fu">geom_vline</span>(</span>
<span id="cb5-33"><a></a>    <span class="at">data =</span> df_sum,</span>
<span id="cb5-34"><a></a>    <span class="fu">aes</span>(<span class="at">xintercept =</span> y_mean, <span class="at">col=</span><span class="st">"Mean"</span>))<span class="sc">+</span></span>
<span id="cb5-35"><a></a>  <span class="fu">geom_vline</span>(</span>
<span id="cb5-36"><a></a>    <span class="at">data =</span> df_sum,</span>
<span id="cb5-37"><a></a>    <span class="fu">aes</span>(<span class="at">xintercept =</span> y_median, <span class="at">col=</span><span class="st">"Median"</span>),</span>
<span id="cb5-38"><a></a>    <span class="at">linetype =</span> <span class="st">"dashed"</span>)<span class="sc">+</span></span>
<span id="cb5-39"><a></a>  <span class="fu">geom_vline</span>(</span>
<span id="cb5-40"><a></a>    <span class="at">data =</span> df_sum,</span>
<span id="cb5-41"><a></a>    <span class="fu">aes</span>(<span class="at">xintercept =</span> y_16th, <span class="at">col=</span><span class="st">"16th percentile"</span>))<span class="sc">+</span></span>
<span id="cb5-42"><a></a>  <span class="fu">geom_vline</span>(</span>
<span id="cb5-43"><a></a>    <span class="at">data =</span> df_sum,</span>
<span id="cb5-44"><a></a>    <span class="fu">aes</span>(<span class="at">xintercept =</span> y_84th, <span class="at">col=</span><span class="st">"84th percentile"</span>))<span class="sc">+</span></span>
<span id="cb5-45"><a></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb5-46"><a></a>    <span class="fu">aes</span>(<span class="at">y=</span>.<span class="dv">45</span>, <span class="at">yend=</span>.<span class="dv">45</span>,</span>
<span id="cb5-47"><a></a>        <span class="at">x =</span> df_sum<span class="sc">$</span>y_mean <span class="sc">-</span> df_sum<span class="sc">$</span>y_sd,</span>
<span id="cb5-48"><a></a>        <span class="at">xend =</span> df_sum<span class="sc">$</span>y_mean <span class="sc">+</span> df_sum<span class="sc">$</span>y_sd)</span>
<span id="cb5-49"><a></a>  )<span class="sc">+</span></span>
<span id="cb5-50"><a></a>  <span class="fu">ylim</span>(<span class="dv">0</span>,.<span class="dv">5</span>)<span class="sc">+</span></span>
<span id="cb5-51"><a></a>  <span class="fu">labs</span>(</span>
<span id="cb5-52"><a></a>    <span class="at">col =</span> <span class="st">"Statistic"</span></span>
<span id="cb5-53"><a></a>  )</span>
<span id="cb5-54"><a></a></span>
<span id="cb5-55"><a></a><span class="fu">cor</span>(df<span class="sc">$</span>x, df<span class="sc">$</span>y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.5779469</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a></a>fig_xy <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(x,y))<span class="sc">+</span></span>
<span id="cb7-3"><a></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb7-4"><a></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">"lm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-3">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-slides_files/figure-revealjs/unnamed-chunk-9-1.png" width="960"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-slides_files/figure-revealjs/unnamed-chunk-9-2.png" width="960"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-slides_files/figure-revealjs/unnamed-chunk-9-3.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-1-4">
<ul>
<li class="fragment"><p>Measures of central tendency describe <span class="blue">what’s typical</span></p></li>
<li class="fragment"><p>Measures of dispersion describe <span class="blue">variation around what’s typical</span></p></li>
</ul>
</div>
</div>
</div>
</section></section>
<section>
<section id="causal-inference" class="title-slide slide level1 inverse center">
<h1><i class="fa-solid fa-lightbulb" aria-label="lightbulb"></i> Causal Inference</h1>

</section>
<section id="causal-claims-imply-counterfactual-comparisons" class="slide level2">
<h2>Causal claims imply counterfactual comparisons</h2>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li class="fragment"><p>Causal claims imply counterfactual comparisons</p></li>
<li class="fragment"><p>What would have happened if we were to change some aspect of the world?</p></li>
</ul>
</div><div class="column" style="width:60%;">
<p><img data-src="https://media.philly.com/images/20150621-Groundhog-day.jpg" class="fragment"></p>
</div></div>
</section>
<section id="whats-the-counterfactual-for-these-claims" class="slide level2">
<h2>What’s the counterfactual for these claims:</h2>
<ul>
<li class="fragment"><p>Foreign aid increases develop</p></li>
<li class="fragment"><p>Joe Rogan cost Kamala the 2024 election</p></li>
<li class="fragment"><p>Democracies don’t fight wars with other democracies</p></li>
<li class="fragment"><p>Universal Pre-K improves child development</p></li>
</ul>
</section>
<section id="casual-claims-are-all-around-us" class="slide level2">
<h2>Casual claims are all around us</h2>
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="https://images-na.ssl-images-amazon.com/images/I/A1qhBebbu6L.jpg"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:45%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="https://press.uchicago.edu/.imaging/mte/ucp/medium/dam/ucp/books/jacket/978/02/26/11/9780226112374.jpg/jcr:content/9780226112374.jpg"></p>
</figure>
</div>
</div>
</div>
</div></div>
</section>
<section id="casual-claims-are-all-around-us-1" class="slide level2">
<h2>Casual claims are all around us</h2>
<p>What are some questions that interest you?</p>
<p>What are the counterfactual comparisons they imply?</p>
</section></section>
<section>
<section id="notation-for-causal-inference" class="title-slide slide level1 inverse center">
<h1><i class="fa-solid fa-lightbulb" aria-label="lightbulb"></i> Notation for Causal Inference</h1>

</section>
<section id="how-to-represent-causal-claims" class="slide level2">
<h2>How to represent causal claims</h2>
<p>In this course, we will use two forms of notation to describe our causal claims.</p>
<ul>
<li class="fragment"><p>Directed Acyclic Graphs (DAGs, next lecture)</p></li>
<li class="fragment"><p><strong>Potential Outcomes Notation</strong></p></li>
</ul>
</section>
<section id="general-notation-variables" class="slide level2 smaller">
<h2>General Notation: Variables</h2>
<ul>
<li class="fragment"><p><code>Y</code> our <span class="blue">outcome</span> of interest</p></li>
<li class="fragment"><p><code>D</code> an indicator of <span class="blue">treatment</span> status</p>
<ul>
<li class="fragment"><code>D=1</code> <span class="math inline">\(\to\)</span> treated</li>
<li class="fragment"><code>D=0</code> <span class="math inline">\(\to\)</span> not treated (control)</li>
</ul></li>
<li class="fragment"><p><code>Z</code> an of <span class="blue">assignment</span> status</p>
<ul>
<li class="fragment"><code>Z=1</code> <span class="math inline">\(\to\)</span> assigned to treatment</li>
<li class="fragment"><code>Z=0</code> <span class="math inline">\(\to\)</span> assigned to control</li>
</ul></li>
<li class="fragment"><p><code>X</code> a <span class="blue">covariate</span> or <span class="blue">predictor</span> we can measure/observe</p></li>
<li class="fragment"><p><code>U</code> <span class="blue">unmeasured</span> covariates</p></li>
</ul>
</section>
<section id="expected-values" class="slide level2">
<h2>Expected Values</h2>
<ul>
<li><p>The <span class="math inline">\(E[Y]\)</span> reads as “the expected value of Y”</p></li>
<li><p><span class="math inline">\(E[Y]\)</span> is defined as a probability weighted average based on the unconditional probability of Y ( <span class="math inline">\(f(y)\)</span> )</p></li>
</ul>
<p><span class="math display">\[\operatorname{E}[Y] = \int_{-\infty}^\infty y f(y)\, dy\]</span></p>
</section>
<section id="conditional-expectations" class="slide level2">
<h2>Conditional Expectations</h2>
<ul>
<li><p>The <span class="math inline">\(E[Y|X=x]\)</span> reads as “the expected value of Y conditional on the value of X”</p></li>
<li><p><span class="math inline">\(E[Y|X=x]\)</span> is defined as a probability weighted average of Y based on the conditional probability of Y given X ( <span class="math inline">\(y f_{Y|X}(y|x)\)</span> )</p></li>
</ul>
<p><span class="math display">\[\operatorname{E}[Y \vert X=x] = \int_{-\infty}^\infty y f (y\vert x) \, dy\]</span></p>
</section>
<section id="estimands-estimators-and-estimates" class="slide level2 smaller">
<h2>Estimands, Estimators and Estimates</h2>
<ul>
<li class="fragment"><p><span class="blue">Estimand</span> the thing we want to know.</p>
<ul>
<li class="fragment">Sometimes called a <span class="blue">parameter (<span class="math inline">\(\theta\)</span>, “theta”)</span> or <span class="blue">quantity of interest</span></li>
<li class="fragment">The expected value of heights in POLS 1600 (<span class="math inline">\(\theta =E[X]\)</span>)</li>
</ul></li>
<li class="fragment"><p><span class="blue">Estimator</span> a rule or method for calculating an <span class="blue">estimate</span> of our <span class="blue">estimand</span></p>
<ul>
<li class="fragment">An average of a sample of 10 student’s heights in POLS 1600</li>
<li class="fragment"><span class="math inline">\(\hat{\theta} = \bar{x} = 1/n*\sum_1^{n} x_i\)</span></li>
</ul></li>
<li class="fragment"><p><span class="blue">Estimate:</span> a value produced by our estimator for some data</p>
<ul>
<li class="fragment">The average of our 10 person sample is <code>5'10''</code></li>
</ul></li>
</ul>
</section>
<section id="error-and-bias" class="slide level2 smaller">
<h2>Error and Bias</h2>
<p>Formally, we’ll say an estimate, <span class="math inline">\(\hat{\theta}\)</span> (“theta hat”) is an unbiased estimator of a parameter, <span class="math inline">\(\theta\)</span> (“theta”) if:</p>
<p><span class="math display">\[
E[\hat{\theta}] = \theta
\]</span></p>
<p>Bias or error, <span class="math inline">\(\epsilon\)</span>, is the difference between our estimate and the truth</p>
<p><span class="math display">\[
\epsilon = \hat{\theta} -\theta
\]</span></p>
<p>An estimator is unbiased if, on average, the errors equal 0</p>
<p><span class="math display">\[
E[\epsilon] = E[\hat{\theta} -\theta] = 0
\]</span></p>
</section>
<section id="bias-vs.-variance" class="slide level2">
<h2>Bias vs.&nbsp;variance</h2>

<img data-src="https://www.cs.cornell.edu/courses/cs4780/2018fa/lectures/images/bias_variance/bullseye.png" class="r-stretch"></section>
<section id="the-bias-variance-tradeoff" class="slide level2">
<h2>The bias-variance tradeoff</h2>

<img data-src="http://scott.fortmann-roe.com/docs/docs/BiasVariance/biasvariance.png" class="r-stretch"></section>
<section id="potential-outcomes-notation" class="slide level2 smaller">
<h2>Potential outcomes notation</h2>
<ul>
<li class="fragment"><span class="math inline">\(Y_i(1)\)</span> describes individual <span class="math inline">\(i\)</span>’s outcome, <span class="math inline">\(Y_i\)</span> if they <span class="blue">received the treatment</span> <span class="math inline">\((D_i = 1)\)</span>
<ul>
<li class="fragment">Shorthand for <span class="math inline">\(Y_i(D_i=1)\)</span></li>
<li class="fragment">Paul’s Covid-19 status (<span class="math inline">\(Y_i\)</span>) with the vaccine (<span class="math inline">\(D_i = 1\)</span>)</li>
</ul></li>
<li class="fragment"><span class="math inline">\(Y_i(0)\)</span> describes individual <span class="math inline">\(i\)</span>’s outcome, <span class="math inline">\(Y_i\)</span> if they <span class="blue">did not receive the treatment</span> <span class="math inline">\((D_i = 0)_i\)</span>
<ul>
<li class="fragment">Shorthand for <span class="math inline">\(Y_i(D_i=0)\)</span></li>
<li class="fragment">Paul’s Covid-19 status (<span class="math inline">\(Y_i\)</span>) without the vaccine (<span class="math inline">\(D_i=0\)</span>)</li>
</ul></li>
</ul>
<div class="fragment">
<p>The <span class="blue">treatment received</span> determines which <span class="blue">potential outcome</span> we actually <span class="blue">observe</span>:</p>
<p><span class="math display">\[
Y_i = (1 - D_i)*Y_i(0) + D_i*Y_i(1)
\]</span></p>
<p>Potential outcomes are fixed, but we only observe one (of many) potential outcomes <span class="math inline">\(\to\)</span> <em>Fundamental Problem of Causal Inference</em></p>
</div>
</section>
<section id="fundamental-problem-of-causal-inference" class="slide level2 smaller">
<h2>Fundamental Problem of Causal Inference</h2>
<p>The individual causal effect (ICE), <span class="math inline">\(\tau_i\)</span>, is defined as</p>
<p><span class="math display">\[
\tau_i \equiv Y_i(1) - Y_i(0)
\]</span></p>
<ul>
<li class="fragment"><p>The <span class="blue">fundamental problem of causal inference</span> is that we only ever see one potential outcome for an individual, and so it’s <span class="blue">impossible to know</span> the causal effect of some intervention for that individual</p></li>
<li class="fragment"><p>The ICE is <span class="blue">unidentified</span></p></li>
</ul>
</section></section>
<section>
<section id="causal-identification" class="title-slide slide level1 inverse center">
<h1><i class="fa-solid fa-lightbulb" aria-label="lightbulb"></i> Causal Identification</h1>

</section>
<section id="identification" class="slide level2">
<h2>Identification</h2>
<ul>
<li class="fragment"><p>Identification refers to <span class="blue">what we can learn</span> from the data available</p></li>
<li class="fragment"><p>A quantity of interest is <a href="https://en.wikipedia.org/wiki/Identifiability" target="_blank">identified</a> if, with infinite data it can only take one value</p></li>
<li class="fragment"><p>For example, a coefficient in an equation can be <span class="blue">unidentified</span> if</p>
<ul>
<li class="fragment"><p>We have more predictors than observations, or</p></li>
<li class="fragment"><p>Some of predictors are linear combinations of other predictors.</p></li>
</ul></li>
</ul>
</section>
<section id="causal-identification-1" class="slide level2">
<h2>Causal Identification</h2>
<ul>
<li class="fragment"><p><span class="blue">Casual Identification</span> refers to “the assumptions needed for statistical estimates to be given a causal interpretation” <a href="http://lukekeele.com/wp-content/uploads/2016/03/causal.pdf" target="_blank">Keele (2015)</a></p></li>
<li class="fragment"><p><span class="blue">What’s Your Casual Identification Strategy</span> What are the assumptions that make your research design credible?</p></li>
<li class="fragment"><p><strong>Identification &gt; Estimation</strong></p></li>
</ul>
</section>
<section id="observational-vs-experimental-designs" class="slide level2">
<h2>Observational vs Experimental Designs</h2>
<ul>
<li class="fragment"><p><span class="blue">Experimental designs</span> are studies in which a causal variable of interest, the <em>treatement</em>, is <span class="blue">manipulated by the researcher</span> to examine its causal effects on some <em>outcome</em> of interest</p></li>
<li class="fragment"><p><span class="blue">Observational designs</span> are studies in which a causal variable of interest is determined by someone/thing <span class="blue">other than the researcher</span> (nature, governments, people, etc.)</p></li>
</ul>
</section></section>
<section>
<section id="causal-identification-in-experimental-designs" class="title-slide slide level1 inverse center">
<h1><i class="fa-solid fa-lightbulb" aria-label="lightbulb"></i> Causal Identification in Experimental Designs</h1>

</section>
<section id="the-fpoci-is-a-problem-of-missing-data" class="slide level2 smaller">
<h2>The FPoCI is a problem of missing data</h2>
<p>Recall that an individual causal effect <span class="math inline">\(\tau_i\)</span>, is defined as:</p>
<p><span class="math display">\[
\tau_i \equiv Y_i(1) - Y_i(0)
\]</span></p>
<p>The problem is that for any one individual, we only observe <span class="math inline">\(Y_i(1)\)</span> or <span class="math inline">\(Y_i(0)\)</span>, but never both.</p>
<ul>
<li class="fragment">If Paul got the vaccine <span class="math inline">\((Y_{Paul}(Vaxxed)=\text{Covid Free})\)</span>, then we don’t know what Paul’s health status would have been, had he not got the vaccine <span class="math inline">\((Y_{Paul}(Unvaxxed) =???)\)</span></li>
</ul>
</section>
<section id="a-statistical-solution-to-the-fpoci" class="slide level2 smaller">
<h2>A statistical solution to the FPoCI</h2>
<p>Rather than focus individual causal effects:</p>
<p><span class="math display">\[
\tau_i \equiv Y_i(1) - Y_i(0)
\]</span></p>
<p>We focus on average causal effects (Average Treatment Effects [ATEs]):</p>
<p><span class="math display">\[
E[\tau_i] = \overbrace{E[Y_i(1) - Y_i(0)]}^{\text{Average of a difference}} = \overbrace{E[Y_i(1)] - E[Y_i(0)]}^{\text{Difference of Averages}}
\]</span></p>
<p>When does the difference of averages provide us with a good estimate of the average difference?</p>
<p>Let’s consider a simple example</p>
</section>
<section id="does-eating-chocolate-make-you-happy" class="slide level2">
<h2>Does eating chocolate make you happy?</h2>
<ul>
<li class="fragment"><p><span class="math inline">\(Y_i\)</span> happiness measured on a 0-10 scale</p></li>
<li class="fragment"><p><span class="math inline">\(D_i\)</span> whether a person ate <span style="color: chocolate">chocolate</span> <span class="math inline">\((D=1)\)</span> or <span style="color: purple">fruit</span> <span class="math inline">\((D = 0)\)</span></p></li>
<li class="fragment"><p><span class="math inline">\(Y_i(1)\)</span> a person’s happiness eating <span style="color: chocolate">chocolate</span></p></li>
<li class="fragment"><p><span class="math inline">\(Y_i(0)\)</span> a person’s happiness eating <span style="color: purple">fruit</span></p></li>
<li class="fragment"><p><span class="math inline">\(X_i\)</span> a person’s self-reported preference <span class="math inline">\((X_i \in\)</span> {<span style="color: chocolate">chocolate</span>, <span style="color:purple">fruit</span> })</p></li>
</ul>
</section>
<section id="section-1" class="slide level2 smaller">
<h2></h2>
<div class="columns">
<div class="column" style="width:45%;">
<h4 id="potential-outcomes">Potential Outcomes:</h4>
<table class="caption-top" style="width:100%;">
<colgroup>
<col style="width: 47%">
<col style="width: 45%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><span class="math inline">\(Y_i(1)\)</span></th>
<th style="text-align: left;"><span class="math inline">\(Y_i(0)\)</span></th>
<th style="text-align: right;"><span class="math inline">\(\tau_i\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">7</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">3</span></td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">8</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">6</span></td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">5</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">4</span></td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">4</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">3</span></td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">6</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">10</span></td>
<td style="text-align: right;">-4</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">8</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">9</span></td>
<td style="text-align: right;">-1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">5</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">4</span></td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">7</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">8</span></td>
<td style="text-align: right;">-1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">4</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">3</span></td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">6</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: right;">6</td>
</tr>
</tbody>
</table>
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;"><span class="math inline">\(E[Y_i(1)]\)</span></th>
<th style="text-align: right;"><span class="math inline">\(E[Y_i(0)]\)</span></th>
<th style="text-align: right;"><span class="math inline">\(E[\tau_i]\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">6</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div><div class="column" style="width:45%;">
<ul>
<li class="fragment"><p>If we could observe everyone’s potential outcomes, we could calculate the ICE</p></li>
<li class="fragment"><p>On average eating chocolate increases happiness by 1 point on our 10-point scale (ATE = 1)</p></li>
<li class="fragment"><p>Suppose we conducted a study and let folks <span class="blue">select</span> what they wanted to eat.</p></li>
</ul>
</div></div>
</section>
<section id="section-2" class="slide level2 smaller">
<h2></h2>
<div class="columns">
<div class="column" style="width:45%;">
<h4 id="potential-outcomes-1">Potential Outcomes:</h4>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top" style="width:100%;">
<colgroup>
<col style="width: 47%">
<col style="width: 45%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><span class="math inline">\(Y_i(1)\)</span></th>
<th style="text-align: left;"><span class="math inline">\(Y_i(0)\)</span></th>
<th style="text-align: right;"><span class="math inline">\(\tau_i\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">7</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">3</span></td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">8</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">6</span></td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">5</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">4</span></td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">4</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">3</span></td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">6</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">10</span></td>
<td style="text-align: right;">-4</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">8</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">9</span></td>
<td style="text-align: right;">-1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">5</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">4</span></td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">7</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">8</span></td>
<td style="text-align: right;">-1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">4</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">3</span></td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">6</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: right;">6</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;"><span class="math inline">\(E[Y_i(1)]\)</span></th>
<th style="text-align: right;"><span class="math inline">\(E[Y_i(0)]\)</span></th>
<th style="text-align: right;"><span class="math inline">\(ATE\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">6</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div>
</div>
</div><div class="column" style="width:45%;">
<h4 id="observed-treatment">Observed Treatment:</h4>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<colgroup>
<col style="width: 36%">
<col style="width: 31%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><span class="math inline">\(x_i\)</span></th>
<th style="text-align: left;"><span class="math inline">\(d_i\)</span></th>
<th style="text-align: left;"><span class="math inline">\(y_i\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">7</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">8</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">5</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">4</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">10</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">9</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">5</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">8</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">4</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">6</span></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;"><span class="math inline">\(\bar{y}_{d=1}\)</span></th>
<th style="text-align: right;"><span class="math inline">\(\bar{y}_{d=0}\)</span></th>
<th style="text-align: right;"><span class="math inline">\(\hat{ATE}\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">5.57</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">-3.43</td>
</tr>
</tbody>
</table>
</div>
</div>
</div></div>
</section>
<section id="section-3" class="slide level2 smaller">
<h2></h2>
<div class="columns">
<div class="column" style="width:45%;">
<h4 id="observed-treatment-1">Observed Treatment:</h4>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<colgroup>
<col style="width: 36%">
<col style="width: 31%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><span class="math inline">\(x_i\)</span></th>
<th style="text-align: left;"><span class="math inline">\(d_i\)</span></th>
<th style="text-align: left;"><span class="math inline">\(y_i\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">7</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">8</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">5</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">4</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">10</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">9</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">5</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">8</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">4</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">6</span></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;"><span class="math inline">\(\bar{y}_{d=1}\)</span></th>
<th style="text-align: right;"><span class="math inline">\(\bar{y}_{d=0}\)</span></th>
<th style="text-align: right;"><span class="math inline">\(\hat{ATE}\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">5.57</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">-3.43</td>
</tr>
</tbody>
</table>
</div>
</div>
</div><div class="column" style="width:45%;">
<h4 id="selection-bias">Selection Bias</h4>
<ul>
<li class="fragment"><p>Our estimate of the ATE is <span class="blue">biased</span> by the fact that folks who prefer fruit seem to be happier than folks who prefer chocolate in this example</p></li>
<li class="fragment"><p>In general, <span class="blue">selection bias</span> occurs when folks who receive the treatment differ systematically from folks who don’t</p></li>
<li class="fragment"><p>What if instead of letting people pick and choose, we <span class="blue">randomly assigned</span> half our respondents to <span style="color: chocolate">chocolate</span> and half to receive <span style="color: purple">fruit</span></p></li>
</ul>
</div></div>
</section>
<section id="section-4" class="slide level2 smaller">
<h2></h2>
<div class="columns">
<div class="column" style="width:45%;">
<h4 id="potential-outcomes-2">Potential Outcomes:</h4>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top" style="width:100%;">
<colgroup>
<col style="width: 47%">
<col style="width: 45%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><span class="math inline">\(Y_i(1)\)</span></th>
<th style="text-align: left;"><span class="math inline">\(Y_i(0)\)</span></th>
<th style="text-align: right;"><span class="math inline">\(\tau_i\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">7</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">3</span></td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">8</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">6</span></td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">5</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">4</span></td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">4</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">3</span></td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">6</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">10</span></td>
<td style="text-align: right;">-4</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">8</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">9</span></td>
<td style="text-align: right;">-1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">5</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">4</span></td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">7</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">8</span></td>
<td style="text-align: right;">-1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">4</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">3</span></td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">6</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: right;">6</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;"><span class="math inline">\(E[Y_i(1)]\)</span></th>
<th style="text-align: right;"><span class="math inline">\(E[Y_i(0)]\)</span></th>
<th style="text-align: right;"><span class="math inline">\(ATE\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">6</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div>
</div>
</div><div class="column" style="width:45%;">
<h4 id="randomly-assigned-treatment">Randomly Assigned Treatment:</h4>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<colgroup>
<col style="width: 36%">
<col style="width: 31%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><span class="math inline">\(x_i\)</span></th>
<th style="text-align: left;"><span class="math inline">\(d_i\)</span></th>
<th style="text-align: left;"><span class="math inline">\(y_i\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">7</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">8</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">4</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">4</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">10</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">8</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">4</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">8</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">4</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;"><span class="math inline">\(\bar{y}_{d=1}\)</span></th>
<th style="text-align: right;"><span class="math inline">\(\bar{y}_{d=0}\)</span></th>
<th style="text-align: right;"><span class="math inline">\(\hat{ATE}\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">6.2</td>
<td style="text-align: right;">5.2</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div>
</div>
</div></div>
</section>
<section id="section-5" class="slide level2 smaller">
<h2></h2>
<div class="columns">
<div class="column" style="width:45%;">
<h4 id="randomly-assigned-treatment-1">Randomly Assigned Treatment:</h4>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<colgroup>
<col style="width: 36%">
<col style="width: 31%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><span class="math inline">\(x_i\)</span></th>
<th style="text-align: left;"><span class="math inline">\(d_i\)</span></th>
<th style="text-align: left;"><span class="math inline">\(y_i\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">7</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">8</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">4</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">4</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">10</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">8</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">4</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">8</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">4</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;"><span class="math inline">\(\bar{y}_{d=1}\)</span></th>
<th style="text-align: right;"><span class="math inline">\(\bar{y}_{d=0}\)</span></th>
<th style="text-align: right;"><span class="math inline">\(\hat{ATE}\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">6.2</td>
<td style="text-align: right;">5.2</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div>
</div>
</div><div class="column" style="width:45%;">
<h4 id="random-assignment">Random Assignment</h4>
<ul>
<li class="fragment"><p>When treatment has been <span class="blue">randomly assigned</span>, a difference in sample means provides an <span class="blue">unbiased</span> estimate of the <span class="blue">ATE</span></p></li>
<li class="fragment"><p>The fact that our <span class="math inline">\(\hat{ATE} = ATE\)</span> in this example is pure coincidence.</p></li>
<li class="fragment"><p>If we randomly assigned treatment a different way, we’d get a different estimate.</p></li>
<li class="fragment"><p>In general unbiased estimators will tend to be neither too high nor too low (e.g.&nbsp;<span class="math inline">\(E[\hat{\theta} - \theta] = 0\)</span>])</p></li>
</ul>
</div></div>
</section>
<section id="estimating-an-average-treatment-effect" class="slide level2 smaller">
<h2>Estimating an Average Treatment Effect</h2>
<p>If we treatment has been randomly assigned, we can estimate the ATE by taking the difference of means between treatment and control:</p>
<p><span class="math display">\[
\begin{align*}
E \left[ \frac{\sum_1^m Y_i}{m}-\frac{\sum_{m+1}^N Y_i}{N-m}\right]&amp;=\overbrace{E \left[ \frac{\sum_1^m Y_i}{m}\right]}^{\substack{\text{Average outcome}\\
\text{among treated}\\ \text{units}}}
-\overbrace{E \left[\frac{\sum_{m+1}^N Y_i}{N-m}\right]}^{\substack{\text{Average outcome}\\
\text{among control}\\ \text{units}}}\\
&amp;= E [Y_i(1)|D_i=1] -E[Y_i(0)|D_i=0]
\end{align*}
\]</span></p>
<p>That is, the ATE is causally identified by the <strong>difference of means</strong> estimator in an experimental design</p>
</section>
<section id="section-6" class="slide level2 smaller">
<h2></h2>
<div class="columns">
<div class="column" style="width:30%;">
<h4 id="random-assignment-1">Random Assignment 1</h4>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<colgroup>
<col style="width: 36%">
<col style="width: 31%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><span class="math inline">\(x_i\)</span></th>
<th style="text-align: left;"><span class="math inline">\(d_i\)</span></th>
<th style="text-align: left;"><span class="math inline">\(y_i\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">7</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">8</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">4</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">4</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">10</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">8</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">4</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">8</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">4</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;"><span class="math inline">\(\bar{y}_{d=1}\)</span></th>
<th style="text-align: right;"><span class="math inline">\(\bar{y}_{d=0}\)</span></th>
<th style="text-align: right;"><span class="math inline">\(\hat{ATE}\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">6.2</td>
<td style="text-align: right;">5.2</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div>
</div>
</div><div class="column" style="width:30%;">
<h4 id="random-assignment-2">Random Assignment 2</h4>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<colgroup>
<col style="width: 36%">
<col style="width: 31%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><span class="math inline">\(x_i\)</span></th>
<th style="text-align: left;"><span class="math inline">\(d_i\)</span></th>
<th style="text-align: left;"><span class="math inline">\(y_i\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">3</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">8</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">4</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">4</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">6</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">8</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">4</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">7</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">3</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;"><span class="math inline">\(\bar{y}_{d=1}\)</span></th>
<th style="text-align: right;"><span class="math inline">\(\bar{y}_{d=0}\)</span></th>
<th style="text-align: right;"><span class="math inline">\(\hat{ATE}\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">6.6</td>
<td style="text-align: right;">2.8</td>
<td style="text-align: right;">3.8</td>
</tr>
</tbody>
</table>
</div>
</div>
</div><div class="column" style="width:30%;">
<h4 id="random-assignment-3">Random Assignment 3</h4>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<colgroup>
<col style="width: 36%">
<col style="width: 31%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><span class="math inline">\(x_i\)</span></th>
<th style="text-align: left;"><span class="math inline">\(d_i\)</span></th>
<th style="text-align: left;"><span class="math inline">\(y_i\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">7</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">6</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">5</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">4</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">10</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">9</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">4</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: purple !important;">fruit</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">7</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">1</span></td>
<td style="text-align: left;"><span style="     color: chocolate !important;">4</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: chocolate !important;">chocolate</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
<td style="text-align: left;"><span style="     color: purple !important;">0</span></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;"><span class="math inline">\(\bar{y}_{d=1}\)</span></th>
<th style="text-align: right;"><span class="math inline">\(\bar{y}_{d=0}\)</span></th>
<th style="text-align: right;"><span class="math inline">\(\hat{ATE}\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">5.4</td>
<td style="text-align: right;">5.8</td>
<td style="text-align: right;">-0.4</td>
</tr>
</tbody>
</table>
</div>
</div>
</div></div>
</section>
<section id="distribution-of-sample-ates" class="slide level2">
<h2>Distribution of Sample ATEs</h2>

<img data-src="03-slides_files/figure-revealjs/unnamed-chunk-36-1.png" width="960" class="r-stretch"></section>
<section id="why-random-assignment-matters" class="slide level2 smaller">
<h2>Why Random Assignment Matters?</h2>
<p>Formally, randomly assigning treatments creates <span class="blue">statistical independence</span> <span class="math inline">\((\unicode{x2AEB})\)</span> between treatment ( <span class="math inline">\(D\)</span> ) and potential outcomes ( <span class="math inline">\(Y(1),Y(0)\)</span> ) as well as any observed ( <span class="math inline">\(X\)</span> ) or unobserved confounders ( <span class="math inline">\(U\)</span> ):</p>
<p><span class="math display">\[Y_i(1),Y_i(0),\mathbf{X_i},\mathbf{U_i} \unicode{x2AEB} D_i\]</span></p>
<p>Practically, what this means is that what we can observe ( differences in conditional means for <span class="blue">treated</span> and <span class="blue">control</span> ), provide good (<span class="blue">unbiased</span>) estimates of what we’re trying to learn about (<span class="blue">Average Treatment Effects</span>)</p>
</section>
<section id="causal-identification-with-experimental-designs" class="slide level2 smaller">
<h2>Causal Identification with Experimental Designs</h2>
<p>Causal identification for experimental designs requires very few assumptions:</p>
<ul>
<li class="fragment"><p><span class="blue">Independence</span> (Satisfied by Randomization)</p>
<ul>
<li class="fragment"><span class="math inline">\(Y(1), Y(0),X,U, \perp D\)</span></li>
</ul></li>
<li class="fragment"><p><span class="blue">SUTVA</span> Stable Unit Treatment Value Assumption (Depends on features of the design)</p>
<ul>
<li class="fragment">No interference between units <span class="math inline">\(Y_i(d_1, d_2, \dots, d_N) = Y_i(d_i)\)</span></li>
<li class="fragment">No hidden values of the treatment/Variation in the treatment</li>
</ul></li>
</ul>
</section>
<section id="random-assignment-creates-testable-implications" class="slide level2 smaller">
<h2>Random assignment creates testable implications</h2>
<ul>
<li class="fragment"><p>If treatment has been randomly assigned, we would expect treatment and control groups to <span class="blue">look similar</span> in terms of <span class="blue">pre-treatment covariates</span></p>
<ul>
<li class="fragment">We can show <span class="blue">covariate balance</span> by comparing the means in each treatment group</li>
</ul></li>
<li class="fragment"><p>If the treatment had an effect, than we can credibly claim that that effect was due to the presence or absence of the treatment, and not some alternative explanation.</p></li>
<li class="fragment"><p>This type of clean <span class="blue">apples-to-apples</span> counterfactual comparison is what people mean when they talk about an <em>experimental ideal</em></p></li>
</ul>
</section>
<section id="no-causation-without-manipulation" class="slide level2">
<h2>No Causation without Manipulation?</h2>
<ul>
<li class="fragment">“No causation without manipulation” - <a href="https://www.jstor.org/stable/2289064" target="_blank">Holland (1986)</a></li>
<li class="fragment">Causal effects are well defined when we can imagine manipulating (changing) the value of <span class="math inline">\(D_i\)</span> and only <span class="math inline">\(D_i\)</span></li>
<li class="fragment">But what about the “effects” of things like:
<ul>
<li class="fragment">Race</li>
<li class="fragment">Sex</li>
<li class="fragment">Democracy</li>
</ul></li>
<li class="fragment">Studying the effects of these factors requires strong theory and clever design <a href="https://scholar.harvard.edu/files/msen/files/race_causality.pdf" target="_blank">Sen and Wasow (2016)</a></li>
</ul>
</section></section>
<section>
<section id="estimating-ates-with-the-resume-data" class="title-slide slide level1 inverse center">
<h1><i class="fa-solid fa-code" aria-label="code"></i> Estimating ATEs with the <code>resume</code> data</h1>

</section>
<section id="the-resume-experiment" class="slide level2">
<h2>The Resume Experiment</h2>
<p>Let’s take a look at the resume experiment from your text book and compare some of Imai’s code to its <code>tidyverse</code> equivalent</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a><span class="co"># make sure qss package is loaded</span></span>
<span id="cb8-2"><a></a><span class="fu">library</span>(qss)</span>
<span id="cb8-3"><a></a><span class="fu">data</span>(<span class="st">"resume"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="high-level-overview-p.-34" class="slide level2">
<h2>High level Overview (p.&nbsp;34)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a></a><span class="fu">dim</span>(resume)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4870    4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a><span class="fu">head</span>(resume)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  firstname    sex  race call
1   Allison female white    0
2   Kristen female white    0
3   Lakisha female black    0
4   Latonya female black    0
5    Carrie female white    0
6       Jay   male white    0</code></pre>
</div>
</div>
</section>
<section id="high-level-overview-p.-34-1" class="slide level2">
<h2>High level Overview (p.&nbsp;34)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a><span class="fu">summary</span>(resume)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  firstname             sex                race                call        
 Length:4870        Length:4870        Length:4870        Min.   :0.00000  
 Class :character   Class :character   Class :character   1st Qu.:0.00000  
 Mode  :character   Mode  :character   Mode  :character   Median :0.00000  
                                                          Mean   :0.08049  
                                                          3rd Qu.:0.00000  
                                                          Max.   :1.00000  </code></pre>
</div>
</div>
</section>
<section id="crosstabs" class="slide level2">
<h2>Crosstabs</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a>race.call.tab <span class="ot">&lt;-</span> <span class="fu">table</span>(<span class="at">race =</span> resume<span class="sc">$</span>race,</span>
<span id="cb15-2"><a></a>                       <span class="at">call =</span> resume<span class="sc">$</span>call)</span>
<span id="cb15-3"><a></a>race.call.tab</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       call
race       0    1
  black 2278  157
  white 2200  235</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a><span class="fu">addmargins</span>(race.call.tab)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       call
race       0    1  Sum
  black 2278  157 2435
  white 2200  235 2435
  Sum   4478  392 4870</code></pre>
</div>
</div>
</section>
<section id="tidy-crosstab" class="slide level2">
<h2>Tidy crosstab</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a></a>resume <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a></a>  <span class="fu">group_by</span>(race, call)<span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a></a>  <span class="fu">summarise</span>(</span>
<span id="cb19-4"><a></a>    <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb19-5"><a></a>  )<span class="sc">%&gt;%</span></span>
<span id="cb19-6"><a></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> call, <span class="at">values_from =</span> n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 3
# Groups:   race [2]
  race    `0`   `1`
  &lt;chr&gt; &lt;int&gt; &lt;int&gt;
1 black  2278   157
2 white  2200   235</code></pre>
</div>
</div>
</section>
<section id="calculating-call-back-rates" class="slide level2">
<h2>Calculating Call Back Rates</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a></a><span class="co"># Overall</span></span>
<span id="cb21-2"><a></a><span class="fu">sum</span>(race.call.tab[,<span class="dv">2</span>])<span class="sc">/</span><span class="fu">nrow</span>(resume)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.08049281</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a></a><span class="co"># Black names</span></span>
<span id="cb23-2"><a></a>cb_bl <span class="ot">&lt;-</span> <span class="fu">sum</span>(race.call.tab[<span class="dv">1</span>,<span class="dv">2</span>])<span class="sc">/</span><span class="fu">sum</span>(race.call.tab[<span class="dv">1</span>,])</span>
<span id="cb23-3"><a></a><span class="co"># White Names</span></span>
<span id="cb23-4"><a></a>cb_wh <span class="ot">&lt;-</span> <span class="fu">sum</span>(race.call.tab[<span class="dv">2</span>,<span class="dv">2</span>])<span class="sc">/</span><span class="fu">sum</span>(race.call.tab[<span class="dv">2</span>,])</span>
<span id="cb23-5"><a></a></span>
<span id="cb23-6"><a></a><span class="co"># ATE</span></span>
<span id="cb23-7"><a></a>cb_wh <span class="sc">-</span> cb_bl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.03203285</code></pre>
</div>
</div>
</section>
<section id="calculating-call-back-rates-with-group_by" class="slide level2">
<h2>Calculating Call Back Rates with group_by()</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a></a>resume <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a></a>  <span class="fu">group_by</span>(race)<span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a></a>  <span class="fu">summarise</span>(</span>
<span id="cb25-4"><a></a>    <span class="at">call_back =</span> <span class="fu">mean</span>(call)</span>
<span id="cb25-5"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  race  call_back
  &lt;chr&gt;     &lt;dbl&gt;
1 black    0.0645
2 white    0.0965</code></pre>
</div>
</div>
</section>
<section id="factor-variables-in-base-r" class="slide level2">
<h2>Factor variables in Base R</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a></a>resume<span class="sc">$</span>type <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb27-2"><a></a>resume<span class="sc">$</span>type[resume<span class="sc">$</span>race <span class="sc">==</span> <span class="st">"black"</span> <span class="sc">&amp;</span> resume<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">"female"</span>] <span class="ot">&lt;-</span> <span class="st">"BlackFemale"</span></span>
<span id="cb27-3"><a></a>resume<span class="sc">$</span>type[resume<span class="sc">$</span>race <span class="sc">==</span> <span class="st">"black"</span> <span class="sc">&amp;</span> resume<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">"male"</span>] <span class="ot">&lt;-</span> <span class="st">"BlackMale"</span></span>
<span id="cb27-4"><a></a>resume<span class="sc">$</span>type[resume<span class="sc">$</span>race <span class="sc">==</span> <span class="st">"white"</span> <span class="sc">&amp;</span> resume<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">"female"</span>] <span class="ot">&lt;-</span> <span class="st">"WhiteFemale"</span></span>
<span id="cb27-5"><a></a>resume<span class="sc">$</span>type[resume<span class="sc">$</span>race <span class="sc">==</span> <span class="st">"white"</span> <span class="sc">&amp;</span> resume<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">"male"</span>] <span class="ot">&lt;-</span> <span class="st">"WhiteMale"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="factor-variables-in-tidy-r" class="slide level2">
<h2>Factor variables in Tidy R</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a></a>resume <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb28-3"><a></a>    <span class="at">type_tidy =</span> <span class="fu">case_when</span>(</span>
<span id="cb28-4"><a></a>      race <span class="sc">==</span> <span class="st">"black"</span> <span class="sc">&amp;</span> sex <span class="sc">==</span> <span class="st">"female"</span> <span class="sc">~</span> <span class="st">"BlackFemale"</span>,</span>
<span id="cb28-5"><a></a>      race <span class="sc">==</span> <span class="st">"black"</span> <span class="sc">&amp;</span> sex <span class="sc">==</span> <span class="st">"male"</span> <span class="sc">~</span> <span class="st">"BlackMale"</span>,</span>
<span id="cb28-6"><a></a>      race <span class="sc">==</span> <span class="st">"white"</span> <span class="sc">&amp;</span> sex <span class="sc">==</span> <span class="st">"female"</span> <span class="sc">~</span> <span class="st">"WhiteFemale"</span>,</span>
<span id="cb28-7"><a></a>      race <span class="sc">==</span> <span class="st">"white"</span> <span class="sc">&amp;</span> sex <span class="sc">==</span> <span class="st">"male"</span> <span class="sc">~</span> <span class="st">"WhiteMale"</span></span>
<span id="cb28-8"><a></a>    )</span>
<span id="cb28-9"><a></a>  ) <span class="ot">-&gt;</span> resume</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="comparing-approaches" class="slide level2">
<h2>Comparing approaches</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a></a><span class="fu">table</span>(<span class="at">base=</span> resume<span class="sc">$</span>type, <span class="at">tidy=</span> resume<span class="sc">$</span>type_tidy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             tidy
base          BlackFemale BlackMale WhiteFemale WhiteMale
  BlackFemale        1886         0           0         0
  BlackMale             0       549           0         0
  WhiteFemale           0         0        1860         0
  WhiteMale             0         0           0       575</code></pre>
</div>
</div>
</section>
<section id="visualizing-call-back-rates-by-name" class="slide level2">
<h2>Visualizing Call Back Rates by Name</h2>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Code</a></li><li><a href="#tabset-2-2">Figure</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a></a>resume <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a></a>  <span class="fu">group_by</span>(race, sex,firstname)<span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a></a>  <span class="fu">summarize</span>(</span>
<span id="cb31-4"><a></a>    <span class="at">Y =</span> <span class="fu">mean</span>(call),</span>
<span id="cb31-5"><a></a>    <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb31-6"><a></a>  )<span class="sc">%&gt;%</span></span>
<span id="cb31-7"><a></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Y)) <span class="sc">%&gt;%</span></span>
<span id="cb31-8"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb31-9"><a></a>    <span class="at">firstname =</span> forcats<span class="sc">::</span><span class="fu">fct_reorder</span>(firstname,Y)</span>
<span id="cb31-10"><a></a>  )<span class="sc">%&gt;%</span></span>
<span id="cb31-11"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Y, firstname,<span class="at">col=</span>race, <span class="at">size=</span>n))<span class="sc">+</span></span>
<span id="cb31-12"><a></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb31-13"><a></a>  <span class="fu">facet_grid</span>(sex<span class="sc">~</span>.,<span class="at">scales =</span> <span class="st">"free_y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-2">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-slides_files/figure-revealjs/unnamed-chunk-48-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="broockman-and-kalla-2016" class="title-slide slide level1 inverse center">
<h1><i class="fa-solid fa-code" aria-label="code"></i> Broockman and Kalla (2016)</h1>

</section>
<section id="reading-academic-papers" class="slide level2">
<h2>Reading Academic Papers</h2>
<ul>
<li class="fragment">Reading academic papers is a skill and takes practice.</li>
<li class="fragment">You should aim to answer the following:
<ul>
<li class="fragment">What’s the research question?</li>
<li class="fragment">What’s the theoretical framework?</li>
<li class="fragment">What’s the empirical design?</li>
<li class="fragment">What’s are the main results?</li>
</ul></li>
</ul>
</section>
<section id="study-design-a-placebo-controlled-field-experiment" class="slide level2 scrollable">
<h2>Study Design :A placebo-controlled field experiment</h2>
<ol type="1">
<li class="fragment">Recruited from voter files to complete a baseline survey</li>
<li class="fragment">Among those who complete the survey, half are assigned to receive an intervention and half are assigned to receive a placebo</li>
<li class="fragment">Only some are actually home or open the door when the canvassers knock.</li>
<li class="fragment">These people are then recruited to participate in a series of surveys 3 days, 3 weeks, 6 weeks, and 3 months after the initial intervention.</li>
</ol>
</section>
<section id="data-for-thursday" class="slide level2">
<h2>Data for Thursday</h2>
<p>Let’s load the data from the orginal study</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a></a><span class="fu">load</span>(<span class="fu">url</span>(<span class="st">"https://pols1600.paultesta.org/files/data/03_lab.rda"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="codebook" class="slide level2 smaller">
<h2>Codebook</h2>
<ul>
<li class="fragment"><code>completed_baseline</code> whether someone completed the baseline survey (“Survey”) or not (“No Survey”)</li>
<li class="fragment"><code>treatment_assigned</code> what intervention someone who completed the baseline survey was assigned two (treatment= “Trans-Equality”, placebo = “Recycling”)</li>
<li class="fragment"><code>answered_door</code> whether someone answered the door (“Yes”) or not (“No”) when a canvasser came to their door</li>
<li class="fragment"><code>treatment_group</code> the treatment assignments of those who answered the door (treatment= “Trans-Equality”, placebo = “Recycling”)</li>
<li class="fragment"><code>vf_age</code> the age of the person in years</li>
<li class="fragment"><code>vf_female</code> the respondent’s sex (female = 1, male = 0)</li>
<li class="fragment"><code>vf_democrat</code> whether the person was a registered Democract (Democrat=1, 0 otherwise)</li>
<li class="fragment"><code>vf_white</code> whether the person was white (White=1, 0 otherwise)</li>
<li class="fragment"><code>vf_vg_12</code> whether the person voted in the 2012 general election (voted = 1, 0 otherwise)</li>
</ul>
</section>
<section id="hlo" class="slide level2">
<h2>HLO</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a></a><span class="fu">glimpse</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 68,378
Columns: 14
$ completed_baseline &lt;chr&gt; "No Survey", "No Survey", "No Survey", "No Survey",…
$ treatment_assigned &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ answered_door      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ treatment_group    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ vf_age             &lt;dbl&gt; 23.00000, 38.00000, 48.00000, 49.20192, 49.20192, 4…
$ vf_female          &lt;dbl&gt; 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, …
$ vf_democrat        &lt;dbl&gt; 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 0, 1, …
$ vf_white           &lt;dbl&gt; 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, …
$ vf_vg_12           &lt;dbl&gt; 0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 0, 1, 1, 0, 0, 1, …
$ therm_trans_t0     &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ therm_trans_t1     &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ therm_trans_t2     &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ therm_trans_t3     &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ therm_trans_t4     &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</code></pre>
</div>
</div>
</section>
<section id="study-design" class="slide level2">
<h2>Study Design</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a></a><span class="fu">table</span>(df<span class="sc">$</span>completed_baseline)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
No Survey    Survey 
    66553      1825 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a></a><span class="fu">table</span>(df<span class="sc">$</span>treatment_assigned)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
     Recycling Trans-Equality 
           913            912 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a></a><span class="fu">table</span>(df<span class="sc">$</span>answered_door)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  No  Yes 
1324  501 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a></a><span class="fu">table</span>(df<span class="sc">$</span>treatment_group)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
     Recycling Trans-Equality 
           255            246 </code></pre>
</div>
</div>
</section>
<section id="assessing-balance-in-covariates" class="slide level2">
<h2>Assessing balance in covariates</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a></a>df <span class="sc">%&gt;%</span></span>
<span id="cb43-2"><a></a>  <span class="fu">filter</span>(completed_baseline <span class="sc">==</span> <span class="st">"Survey"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-3"><a></a>  <span class="fu">select</span>(treatment_assigned,</span>
<span id="cb43-4"><a></a>         <span class="fu">starts_with</span>(<span class="st">"vf_"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb43-5"><a></a>  <span class="fu">group_by</span>(treatment_assigned)<span class="sc">%&gt;%</span></span>
<span id="cb43-6"><a></a>  <span class="fu">summarise</span>(</span>
<span id="cb43-7"><a></a>    <span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"vf_"</span>), mean)</span>
<span id="cb43-8"><a></a>    ) <span class="ot">-&gt;</span> pretreatment_balance</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="assessing-balance-in-covariates-1" class="slide level2">
<h2>Assessing balance in covariates</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a></a>pretreatment_balance</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 6
  treatment_assigned vf_age vf_female vf_democrat vf_white vf_vg_12
  &lt;chr&gt;               &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
1 Recycling            46.3     0.593       0.463    0.209    0.757
2 Trans-Equality       47.7     0.582       0.488    0.217    0.719</code></pre>
</div>
</div>
</section>
<section id="assessing-balance-in-covariates-2" class="slide level2">
<h2>Assessing balance in covariates</h2>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">Code</a></li><li><a href="#tabset-3-2">Balance</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a></a><span class="co"># Rearrange data</span></span>
<span id="cb46-2"><a></a>pretreatment_balance <span class="sc">%&gt;%</span></span>
<span id="cb46-3"><a></a>  <span class="co"># Pivot columns except treatement assigned</span></span>
<span id="cb46-4"><a></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">"covariate"</span>, <span class="at">values_to =</span>  <span class="st">"value"</span>, <span class="sc">-</span>treatment_assigned) <span class="sc">%&gt;%</span></span>
<span id="cb46-5"><a></a>  <span class="co"># Pivot rows two two columns for treatment and placebo</span></span>
<span id="cb46-6"><a></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> treatment_assigned) <span class="sc">%&gt;%</span></span>
<span id="cb46-7"><a></a>  <span class="co"># Calculate covariate balance</span></span>
<span id="cb46-8"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb46-9"><a></a>    <span class="at">Difference =</span> <span class="st">`</span><span class="at">Trans-Equality</span><span class="st">`</span> <span class="sc">-</span> Recycling</span>
<span id="cb46-10"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-3-2">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 4
  covariate   Recycling `Trans-Equality` Difference
  &lt;chr&gt;           &lt;dbl&gt;            &lt;dbl&gt;      &lt;dbl&gt;
1 vf_age         46.3             47.7      1.40   
2 vf_female       0.593            0.582   -0.0103 
3 vf_democrat     0.463            0.488    0.0246 
4 vf_white        0.209            0.217    0.00790
5 vf_vg_12        0.757            0.719   -0.0375 </code></pre>
</div>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="summary-1" class="title-slide slide level1 inverse center">
<h1><i class="fa-solid fa-home" aria-label="home"></i> Summary</h1>

</section>
<section id="summary-2" class="slide level2">
<h2>Summary</h2>
<ul>
<li class="fragment"><p>Causal Claims involve <span class="blue">counterfactual comparisons</span></p></li>
<li class="fragment"><p>The <span class="blue">fundamental problem of causal inference</span> is that for an individual only observe one of many potential outcomes</p></li>
<li class="fragment"><p><span class="blue">Causal identification</span> refers to the assumptions necessary to generate credible causal estimates</p></li>
<li class="fragment"><p>Identification for experimental designs follows from the <span class="blue">random assignment of treatment</span> which allows us to produce unbiased estimates of the <span class="blue">Average Treatment Effect</span></p></li>
</ul>
</section>
<section id="references" class="slide level2 smaller scrollable">
<h2>References</h2>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-Broockman2016-pi" class="csl-entry" role="listitem">
Broockman, David, and Joshua Kalla. 2016. <span>“<span class="nocase">Durably reducing transphobia: A field experiment on door-to-door canvassing</span>.”</span> <em>Science</em> 352 (6282): 220–24.
</div>
</div>
</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="images/pols1600_hex.png" class="slide-logo"></p>
<div class="footer footer-default">
<p>POLS 1600</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/josephessig-source\.github\.io\/pols1600_site\/");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>